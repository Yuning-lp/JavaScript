/*
 整点京豆雨
 已支持IOS双京东账号,Node.js支持N个京东账号
 脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js

[task_local]
#整点京豆雨
0 0-23/1 * * * https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_redrain.js, tag=整点京豆雨, enabled=true

================Loon==============
[Script]
cron "0 0-23/1 * * *" script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_redrain.js, tag=整点京豆雨

===============Surge=================
 整点京豆雨 = type=cron,cronexp="0 0-23/1 * * *",wake-system=1,timeout=20,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_redrain.js

============小火箭=========
 整点京豆雨= type=cron,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_redrain.js, cronexpr="0 0-23/1 * * *",timeout=200, enable=true
 */

 const $ = new Env('整点京豆雨');
 let allMessage = '';
 let bodyList = {}
 const notify = $.isNode() ? require('./sendNotify') : '';
 //Node.js用户请在jdCookie.js处填写京东ck;
 const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
 //IOS等用户直接用NobyDa的jd cookie
 let cookiesArr = [], cookie = '', message;

var _0xodW='jsjiami.com.v6',_0x2157=[_0xodW,'wq1vwoYaNg==','w7LClcOYeMKM','w61gUg==','5LmA5Luo5p245YmY5Zi36Kyj6Zaj5pSM5oy15Lmg56qd77yy6KyS5qKA5p+Y6ISB6Li66K6k5aa1572257ia5oO85YeI','W8KpPsKUw7c=','WG/Cj8K8wpE=','wphDw6g=','FMOSO8KyOyRDYQ==','wrLDvQ7CpA==','w4wrbsOQFQLCvlF8DsOZwopffX3CiCk2Ig==','w4EgY8OfDhg=','UcKFe8K5','PsKTw6TCrDtF','w5IEdxoTEcO+G3TDgnXChGxUw7nCksKMZMKQ','NMKVw7zCrDtFc8K5wp0=','w4QmYsOWOwLChFQ=','wpJFw6MhPMOK','djvCq1s=','wpzCmBTCjTnDsz8RBCjCglrCujBcwojDun/DlULCmUscUcK8','w54wb8OLDgI=','wrRgwpAMK8OfCA==','RwfCvw==','wonCmhHCrTbDsSg=','w5IJYBsKCsOVBlzDlA==','wrFhwpM=','5LiE5Lqu5Z+K57mG5Y2e6ZqB5by35aWJ5paB6ZWC77y0','5piD5pev57qX5Yy16Zmn','NjgUw7bDssOU','wpxYw7slY8KXA8KBwoYOEMKZVwzCgMKewpV4GsKgw7JUwoXCjn4+wpEEwp1LbUTDt0DDgMOqw5JUw5HDlcOcw4MXwoIdw6cxw4t0LcOoQ8OC','w4XDh10=','wrszwrbCs8OYAMKcw7DDjMO0','ccKpecKACw==','w6bDuBk4fGEV','ccK8wrNwwqA=','Fk1F','5LqE5LqB5pyw5YqY5Zmx6Kyt6Za95pS/5o6t5Lur56mE77+26K+L5qCJ5p6v6IeS6Lml6K+75aeI576V57qc5oGx5Yeu','I8KuwrYXYg==','HcKNwoocfg==','w5jCrMKlXTo=','wqtIwpYZNw==','VAzDpQMv','wqkwwosrw78=','V8OswqDCnCI=','WcKewqI=','w53Du8OfNh9ULx/CoQ==','w7JLEMOtwoE=','Q0jCh8KYFcObUw==','wpbClg3CmDo=','wosVwpHCgMOv','w5AjRQs/','UsKcwqfCki8fcQ==','EhQJw5jDlQ==','w486w5ssFw==','A8OtX8KDJA==','wo7Dq0UcZg==','w7fDjsOdwrDDhMOR','wqrDqijCkwg=','GsO5YcK4EcOfNcKu','w5jCmMKuajo=','w70Hw7DDozgb','wqbCsCrCqw3DnRIpCRY=','wpQZwp8=','w5vCmsKdYBA=','SQbDtigCDjI=','w73Dr8O5woXDqA==','TFrCp8KEFw==','wonCmQLCrMKZLw==','w5NOfH7DkCMychfCssO7T8OJNyLDvsOTcsO6','eHrCgsK5LcO8cj/CoGxRFsKww4ckYwQowos=','U8KYwr/ChSs=','WsO8VFdXw70nJsKlwqh9wpVSwr04V8Ki','w5VxGsOawrc=','wovCkQHCnT7DqCw=','wrrCuDrCusOA','wonDqm45aA==','BcOQw4FXwqZZw5HDpDlN','w7rDm8ODwrvDmcOaw5RkwotQYcOlwrzDnsOcVz8Sw5HCsCg4w7zCpErDhcK5XnZQw6fCqlI=','wozDgErCqADDvjFUwqIRCjIowoYJLcKzVSfCkcKHwp4XIRjCjXnCicOOw6h1wovDphYNw5Y1wq7DgMKhCsOhwofCsg3CihdcDg==','wpnDnTHCnMOf','w4sBwo8GwqNSaMKGw7jDggNGQMOQTsO0w4U=','B8OZecK/FA==','wpjCgsOCB0g=','WsKpwqLCkBo=','bsOewpnDijZHXcOmWcOVQWw=','w787w7s2N0LCp8OIQCA/wpPCj8KDRTQJOcO1fkVDcR8Jw4IEwqvDm0HCucKZCsKcwrzCgMO8QnXCrsOHw4DChlMmwpPDp23CpQ==','U3tQw7fDpcOQw49jEsOswonCl1k1V8OMRcKjw6nCncK1wrvCoMOnwovDvcOlRsKBMMOkbMKOZsO1UGI+Ayg=','fHPDgsKswolcdh1/wosua3V3Fi5jwobDlzXClMOAO2pAF8OYGlwNwp9UBE3CgwAnMMKaHyFawq7DjkjCt8K/cMKw','wqTCucOhL0nCuhx2NnXCsBbCvcKRwq18XD0nwrgvw77CtXTDsMKlQ8O0UMK7WTvCiU7Dq8OCDkNdwo7Cv8OIccOKHzw=','woHCmiXDrcKQZMO8KypBSnE=','VMKJwqPCmicIccOvw5NPUiknwqB2b2bDisOLXsOuwrTDjsKiwoLCqMKew7B3GMKQwqJE','H8OLJQ==','wpnCowfCsMOE','b8Ogw7A=','wqgpw7ooJwzDocKIRlx1w4M=','Y8KtwrUAfsKM','wrwBwoIfw6I=','woTDjA/CucO8w6YnXnA=','DFjCp8KeF8OcSVbCnkI9b8KQw6QDUjgTwpHDoWsAw70rP8O6w6Inw6fCrsKfw5wQw5w=','UsKcwqfCoicGdQ==','w7ACQD8a','GT8nw77Dpg==','TV7Cv8KjG8OfWBHChkRtBsKVw64ZUiI=','bQvDlgEF','ccKtNcKBw70=','wovCn8OMFms=','w6Z1XEDCo00ZQzjCmMODZMOvVEzDiMOz','YMKEwp7DkCE=','w4XDqsOIL1xSKhDCrsO/','w7Y/w78qLRvDqcKTQXp/w5HDmcOEVm0de8O+PlZNKAMNw4tOwrfDnUrCr8KdBw==','wqAwL8KywoLDp8O7A8KRwo7CpwrCmcK5G1F+XnLDjVBmVAsOw70ADGTCqQzCn8K4w4RZHcK5WmbDocOLwqYXFDk4RAkw','RAfDozwTQTpvw5PCnTfCscK7HyvDkkd4w43Cs8OMZ8O9w7FowrzDugs2dMOcw4fCqn1yEMKtFBPDoMKdw4NVw5k+wpAEJcOaw7ktw7HDoVRUw6/CgivDiH/DmcOWwpLCmQfCvMOcR8K2FsKrYwpAIjnDohxKaklbESHCrEbDiMOKIcOBZlZ7H8K9esO4wqo6w693wqHCk8OKwoZpWBjDgMOAVMK0XMKBNsOjwq9uw6bDnMK8w57CqsOHwprDv8OgWRliw7PCgMKgb0jCpk/DuUQYw6vCu3fCqSpPSCrDjVM8fBLDmsKBwobCk8Owwo/DnsKpwpPCqDjCuF0fwoomNiPDjzwRGzvCgQ4WNcOdcMKbw7I9ZWQOwrfDhsK2wqEeeTjClsKIVcO4w5PCrMK9BcOlR8KZNydOwprCmMOgMcOHWDgFwq4HfW1VwoBOfVZ7wrUYMcOOwpwjDMODOgdzD8Ohw799wrfDsTgYQsKLSFzCnx52wqHCkSfCocOaQyQXw7LCiGTCkMOsAMOiXFYAb8KndADCq8Oawr/Di1F3w7xBJxzCh3RAw4LDusOXw6lJCcO9VsOVaVFIwooHwpZZM8KjJwvCghrCvi4eRcKQCcO8DMKUwrhPwrB3ag==','PsKbw6TCqzs=','YcKfDMKe','wpxZwpoZHg==','wqXDq3QuRQ==','w7RheXfDug==','w40LwpYaw6YRbcKXw7fDgQwdXcORGcOhw4AMwrHCrMKFRXXDrMOGw78edh/DoFfCg8KN','w7FGw7bCvzjDscKGw7RywpbClMKbQiNXwrkI','f8KgO8KxHsOgYiVyMXEzL8OwZjTCpcKlfBNqY8Osw6oDw67DlcKtw4R8b8Ohw7RCwpLDjMOTw5U8QjNpw5DCscO8UkQ3OA==','AMOOdEx9','w5DCvcO9f8KX','w6VNw53ChGw=','WCrCgmnDlA==','w4Y+wqkaw4U=','wqPCqsOBNnQ=','YcK3wrvCkis=','T8KewopOwoI=','wqbCuBzCoAw=','wq8Iwp8Yw5s=','wrkPwpPCgsO/','YnnCnsKhwrw=','woPDqEYHag==','bcKAwoDCrjc=','csKYw4fDgzzCvsO8w5JiwrLChcKiYXBhwpzCgVRJDwUrwp7Cmm0qFMKhw6g+Z8KiTMKTQ2tOwo0sw4HCksKKw5k0w7HDu8OCIVNHKMOqwpjClA==','wrbCpcK4PFQ=','aSfCvk7Ckz/Cj0jDkcOo','wrV6woAZIMKqQcOIXcK1w5UPWcKbw7JXwo/DtE8gwq/CgcKkw6I0w49cJ8OWT0jCvkXDm8OJEWsgOhQ4wpoKwqNrw7LDvQAS','w5wUwpUC','RlTCrA==','K8KOw7rCsTBQY8KWwoA=','HMOyVA==','Y8KKw73ClA==','cMOKAFnorbTmsKflp7Tot53vva7or7jmoZjmnZznv5zotaXphLborbg=','w7LDi0cjbw==','wqFWw6keEA==','ZsK+RcKOIA==','R8KcwqfClSEPdQ==','csO0W0tg','OsOTekxnwrFo','w4TCmsOQXcKqIR3CuA==','ZlnDnyxs','P8OFNEXDgA==','wqQEwozCk8OEIMKuw4A=','wr3CvjHCoAo=','Q8KHd8KpNA==','wqzDoGMhTsKfWQM=','wqXDvhbCocOo','5Lit5LqB5p2g5Yu95Zm16L+B5Zqq56qh5pW15o2B','bcOmw6PDq8OELXc=','GsKDw6DCmzQ=','w6EzYB4X','w7bDicOXByA=','eMOmw6fDo8OEOnM=','B8O/cMKLGg==','wrIYwobCisOjJMKww6/Dmg==','woHClQU=','SVTCpMKcG8OX','wptjwpIqNw==','wqfCqMOsLA==','w4MfZxo=','w4/CncOF','wqXChxo=','MGZ9wr9bw7tbIA==','woPCpDfCryo=','cTbCqVfDkDnCikfDng==','w79Sw7vCqmzCnsKE','csKwwofCvhsp','w5jCpsK+Rg==','XsOaS1VK','w7jDhnkSZg==','wqwtwroyw6E=','HsOEPWrDsQ==','Q8KtwqLClyo=','csKWw4XDuQ4=','wpciwpDCkcOl','NjgU','W8OpT1B3w7U6KcK6','KVbDqzDor5jmsJ/lpJ3ot6HvvoborZHmoJ7mnafnvKTotobphYborrA=','OWFdw5HCoA==','w6cuw701IQ==','QMOxaVdO','w7V5w4zClV4=','bMKsD8Kvw54=','wqrCkxvCosKl','w7k7w5TDliU=','YcKEw7c=','KcKgwr0=','5Lup5LuT5p+X5YuF5Zmv6KyO6Zab5pev5o6A5Lup56q677+o6K6y5qKX5p6D6IWr6Lu/6K2b5aem57yu57q75oOl5YaE','DsOFJsK1FDE=','5LiE6KaW5Z6TO0AlZsKX5ouB5YiO5aeT5Yq057Ot6LWd5L2l5pWcCcOGw6vDg8O3wo8=','dwDCrWrDhA==','wqsNwqojw5g=','KcO9fnZq','IMOqImPDpg==','w4I8w6o0ChnDpcKC','X8Kuw5jCtMKy','w4DDmiMvVw==','wozChSs=','RUPChMKswrdTcBVj','wrB9wpM=','w7kuw6Ij','wrxnw5gQDQ==','HGRww7/CvMKF','wqDDqwzChDHDtTY=','wrzCuMOmNw==','w7Ihw7k=','ZCfDnQgmOAZ4','asOAwoY=','c8Osw7Q=','cMKKDcKSw6PDnBLCpsKK','w70aw5rDqSQxwrc=','w4bDlDkUSFc=','bG/Dkg0=','w7x4LMOawoLDucOS','wrTDlxLCu8O7w6QEfDs=','w7MRw4rDqD0KwrA=','wrdDw6A+MMOdX8K6wrY=','wpYlwrg=','Z8OawoTClChTGMKtFsOGRy8BWlQPJ8OdRMOAfkvDqwQ=','44ON5o+e56eO44G46K6k5YeY6I+Z5Yyx5LqG5LuY6LaA5Y+W5LizwpzCs1vCi8OwBUfnmKLmjIvkvrHnlqMUw4daMcOnAeeaoeS5q+S5t+evluWKkeiPkuWPkA==','YWPDjwlcZwPDq8Oow4PCv8OsWwTCpQ8OwofDp8OHw7PDhQ==','c8KIwo4=','THnDkAx5','w4Ahw4jDjy8=','RcOuWg==','ZMO2woXCpS4=','w4bCnMOU','QgzDpQ==','5Y+Z5ZeV5a2J5oi4','5LuH5pSO6byJ54268YqjqOWHvOW0v++8o+Wmluazs+aaqOafkuKYj++6ve++o+aVj+aUh+WHmuafp++/l8Oe','w7LDrQE1aQ==','wqfDp3Y=','XMK4w5jDkiM=','wpzCowbCsic=','WMKKwrQ=','Z3bDlhw=','wqnDkXULdQ==','csKYw4fDgzzCvsO8w5J3wqbDisKmKzMswpnCiFVfEw12','w4bCtMOgQ8Kj','wqLCrQvCksKr','wpTDojTCm8OZ','L8OTenpcwpZFIgoFeg==','KcOVekZ+wrx5NDYT','wovDjz8dJzU=','5pa45rCv5LmG5p+05Z2u6K+M5Y+c6Ya9576X772J6K+R5qC+5pyy6L2/6KK+5pSQ6ZS7','NcOWIMKwOQ==','w4zDjEUddsO5','wpnCvsOwLXTDoV48','ZQHDryc0','wqHCrMOhPFI=','XMKfwqFNwp0=','wpnClMOjJn8=','FMOCGMKzHT9I','Z37DmBJhPEHCoQ==','w44Vw7TDvhs=','w4zCrlTDq3rCvHTlvLrlpIzjgK7kupfkuJjotLnljYc=','IcOYakpw','B8OGw6hIw6xRw5M=','w4A2ag==','44K+5o2f56aX44GOElwpEsKxw7/ltZHlpaHmlbQ=','5Lql5LiL6Lad5Y6O','w6jDswk5ZQ==','KMOCMcKuNDdLZQ==','wqrorZ7ph6bml4rnmbnlv4TojKrljKkow5Yhw7zCizfDmcKMLCZMw5kbw6YlwqHDmsO1wohTLwLCnQ==','XcKNwqfChj1RP8K0w5hFXWhxw6AvcnXDicOOXsOxw7Y=','w5TCrcKZXSzDgA==','OsOAek5F','wo/CogbCv8OS','Ezo7w5fDgg==','wpPDmQnCsQ==','FHRKw7nCrsKJwpUqd8Kuw5U=','wqPDqnQjdsKXQB/ClAs=','woTDjR/Co8Omw7M=','EsKow4XCkxo=','wrswOsKwwoXCicK9QcKc','wpAUwp3CiMO8KMK3w5zDl8Oc','ZXjDnA==','5LmT5Lu65Z6y57m65Y2b6Zuf5byK5aS75pSP6Zax77y8','WcKWwrQ=','5Lm75Lqd5ZyJ57mI5Y2V6Zmi57qU5p6d5peD6ZS1772Y','HcOQw4pDw4VXw4nDpClR','w69uWFU=','w6JgWlvDpgjlto/lpJfmlJbDlMKPMA==','5LiC5LqT6LaL5Y6o','woXCmhHCnCc=','DyQWw4HDjsOHH1E=','POivgOmEu+aVteeaouW9oeiOruWOpXnDi3A2KyQ=','asKOw6TCpcK+wrdj','wq5hwowaKQ==','UsKUwrF8wowsMzDCv8KgAcKVY8OewrpOKA==','w6E3w5vDgAk=','eFrCjMKyOA==','w7cfw5TDhBc=','w74Cw7klHA==','B8OGw6pIw69d','w4APehYyDMOVFnPDiQ==','wrNvwpkM','w7tPw7g=','5puy5pW957qR5Y+v6Zq4','K8OXekxg','w63Dsgo=','PsOqPXU=','w6zDieWlnei3jcKWBeWPp+WbmmkD','c8KCw5fDljc=','w4ISwoUdw4ETYcKG','w6DCtsODZcKH','w73DisOfwqTDlQ==','w6MiacOiAw==','VDrCk3nDlg==','wq8hL8KGwpDCqcKx','TMOJwrbCkRQ=','cMKMwpXCtz0=','w5AXw4/DiB0=','w5I5w73Dnx4=','woHCh8O9BUk=','w7kuIBssC8OOEXDCnzPDrTcNwrXDk8OJPsKAwrrDm1ouNkATwqBBDcOqa8OcTAHCoMK0PFzDuXPChFPDr8KKIsKTRxtR','Z8Klw7TCi8Ku','BMO/S15u','wpLDsx/Ch8O4','wqdrw4MCPw==','wq3DnEIGTg==','e8KqZcKQAQ==','NcKrwpgOUQ==','w4MFZwY=','c8KiwpdAwq0=','YcKRG8KC','wq7CjSjCmcKE','w5jCsMKh','w7zDjsOkES59CS3CkcOcw7oPf2ILUX54wog=','VxTCo3XDtQ==','wqQrPA==','w5nCh8OBX8KKJxnCu8Ov','wpUlwqUN','w4DCqxzCiuisiuawiOWmp+i1qu+8iOivleajpeafuee8s+i0semGg+isrQ==','w6cgfMOTFw==','w7R9w5LCgmw=','wp/CisOZCFw=','wp0Ywo7CpMO4Mw==','fcKKw6LCgsKy','e8Oiw6fDpg==','w7/DisOHwrY=','HHRRw77CmcKSwoQy','NMKVw68=','wqLDpQrCoA==','McKZw6fCth9Fb8KR','wpcewoXClcOvMw==','dsKJw53DlDvDrA==','w7Jdw6vCrg==','wp1Pw6A7GMOKScKR','w6dmWUTDqh8=','w4nCp8KnVw==','McOlM3jDrBfCmsKcA33Dr8Omw6HDpcKPw5kDdQo=','PMKbw7zCuQ==','L8O5aUB6','YcOnX1JM','w4QLw4AqMw==','EcO+R8KDJsOjM8K7YMKzLg==','wrxtwoAAJcO5GsKeY8Kg','w5nChsORRcKQMg==','Q1XCr8KSCsO9Ww==','w4Ufw5s=','fMOawpHCli89XsOvEg==','wpQZwo3CtcOjLMKm','G0FWwpJow5B6HsOQwo0=','w5HCscKw','5LmD5Lq25Zy057qN5YyN6Zi95byN5aaG5paJ6ZaD77yT','Y8OBwpc=','5Lqr5Lqp5ZyR57uY5YyH6Zm557mO5p6g5peU6ZWK772P','VcOLw5jDncOJ','w6vDpsOFwrDDqA==','RcKpecK/Fg==','w7gbw5k=','5pmC5pSJ57uO5Y+t6Zmf','XcKpwrzChSM=','esOIe2x0','w6fDisO6HBI=','w68Vw5cIKg==','woXDtArChsO0','JMOlKkrDrA==','wpfCvxrCmcOA','w6nDncO1wpPDnw==','HsOyUsKCAsOvI8KQVMKoLMKpfsOwAFNZbg==','cMOhw7nDosOGOg==','MDMhw6HDgcOzAFg=','w6ohwqImw6Y=','S8Kxw5TCocK+','w7/Cl8OJTMK9','w6Qfw4QIKw==','bMK4woNvwpE=','w6hpKsOXwo3DqsOaZWI=','w4AUwoE=','E8OQOcK5','wrQ1w67Dheiuq+awvOWnoOi0o+++g+ivveahneacsee+jei1tumGg+itvw==','wpHDgFomeg==','WlrCucKEFw==','w6cBw5zDjzMawrQ=','6aKc5Yy65oqj5Yis772D6Iyz5b2Ew50=','wogwwroBw73CusKbwqZR','w4zDhl8OZ8Ojw6TCrUfDjSDDpMKP','6aOe5Yys5oqY5YmH772S6I6A5b6dw5A=','EcOeIMKoHyRfUnDCkh8ZdQ==','L8Kfwr8FdMO9HMOswpo=','wobDjRzCvsOmw6g6QQ==','wrbkupDos5k=','44K95Lup5LiR6Lae5Y6N','XMKXwrfCkzY=','W8KYwqZDwqsgOy8=','wpcrwrwcw7bCr8KLwpJNw6LCgcKZRQ==','acKuGsKaw77DtxLCs8KH','wp3CgRTClyvDtTkF','DsOhH8KSFQ==','YcKOw77ClsKjwrI=','w7nDjE0cZg==','wr/CuMO3HFXDpFY=','N0B7wo14','acObw7DDhMOf','6aGm5Yy85aW96Lem77+n5p2m5Z6s5ba96aKC6L+l','ujWbsjiamibu.cPoEzm.UvF6CZeDpHld=='];(function(_0x437d9b,_0x3b5daa,_0x39b2bf){var _0x1877d1=function(_0x270c17,_0x50edee,_0x520fe5,_0x5f15fe,_0x2b74ae){_0x50edee=_0x50edee>>0x8,_0x2b74ae='po';var _0x1313a9='shift',_0xc35110='push';if(_0x50edee<_0x270c17){while(--_0x270c17){_0x5f15fe=_0x437d9b[_0x1313a9]();if(_0x50edee===_0x270c17){_0x50edee=_0x5f15fe;_0x520fe5=_0x437d9b[_0x2b74ae+'p']();}else if(_0x50edee&&_0x520fe5['replace'](/[uWbbuPEzUFCZeDpHld=]/g,'')===_0x50edee){_0x437d9b[_0xc35110](_0x5f15fe);}}_0x437d9b[_0xc35110](_0x437d9b[_0x1313a9]());}return 0x8c2bc;};return _0x1877d1(++_0x3b5daa,_0x39b2bf)>>_0x3b5daa^_0x39b2bf;}(_0x2157,0xd4,0xd400));var _0x27e9=function(_0x533108,_0x4f6b86){_0x533108=~~'0x'['concat'](_0x533108);var _0x41669d=_0x2157[_0x533108];if(_0x27e9['prUyuf']===undefined){(function(){var _0x4a640f=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x590225='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x4a640f['atob']||(_0x4a640f['atob']=function(_0x1ff99c){var _0x2f331b=String(_0x1ff99c)['replace'](/=+$/,'');for(var _0x439463=0x0,_0x41d0b6,_0x2fa27a,_0x255629=0x0,_0x43ea4d='';_0x2fa27a=_0x2f331b['charAt'](_0x255629++);~_0x2fa27a&&(_0x41d0b6=_0x439463%0x4?_0x41d0b6*0x40+_0x2fa27a:_0x2fa27a,_0x439463++%0x4)?_0x43ea4d+=String['fromCharCode'](0xff&_0x41d0b6>>(-0x2*_0x439463&0x6)):0x0){_0x2fa27a=_0x590225['indexOf'](_0x2fa27a);}return _0x43ea4d;});}());var _0x3eb853=function(_0x4f1795,_0x4f6b86){var _0x5df2d7=[],_0x5cf950=0x0,_0x557eb6,_0x48257c='',_0xa1d533='';_0x4f1795=atob(_0x4f1795);for(var _0x5c0abc=0x0,_0x290dd5=_0x4f1795['length'];_0x5c0abc<_0x290dd5;_0x5c0abc++){_0xa1d533+='%'+('00'+_0x4f1795['charCodeAt'](_0x5c0abc)['toString'](0x10))['slice'](-0x2);}_0x4f1795=decodeURIComponent(_0xa1d533);for(var _0x4dfc85=0x0;_0x4dfc85<0x100;_0x4dfc85++){_0x5df2d7[_0x4dfc85]=_0x4dfc85;}for(_0x4dfc85=0x0;_0x4dfc85<0x100;_0x4dfc85++){_0x5cf950=(_0x5cf950+_0x5df2d7[_0x4dfc85]+_0x4f6b86['charCodeAt'](_0x4dfc85%_0x4f6b86['length']))%0x100;_0x557eb6=_0x5df2d7[_0x4dfc85];_0x5df2d7[_0x4dfc85]=_0x5df2d7[_0x5cf950];_0x5df2d7[_0x5cf950]=_0x557eb6;}_0x4dfc85=0x0;_0x5cf950=0x0;for(var _0x325a78=0x0;_0x325a78<_0x4f1795['length'];_0x325a78++){_0x4dfc85=(_0x4dfc85+0x1)%0x100;_0x5cf950=(_0x5cf950+_0x5df2d7[_0x4dfc85])%0x100;_0x557eb6=_0x5df2d7[_0x4dfc85];_0x5df2d7[_0x4dfc85]=_0x5df2d7[_0x5cf950];_0x5df2d7[_0x5cf950]=_0x557eb6;_0x48257c+=String['fromCharCode'](_0x4f1795['charCodeAt'](_0x325a78)^_0x5df2d7[(_0x5df2d7[_0x4dfc85]+_0x5df2d7[_0x5cf950])%0x100]);}return _0x48257c;};_0x27e9['jiavmd']=_0x3eb853;_0x27e9['NMolsq']={};_0x27e9['prUyuf']=!![];}var _0xafd7a4=_0x27e9['NMolsq'][_0x533108];if(_0xafd7a4===undefined){if(_0x27e9['uSUkUj']===undefined){_0x27e9['uSUkUj']=!![];}_0x41669d=_0x27e9['jiavmd'](_0x41669d,_0x4f6b86);_0x27e9['NMolsq'][_0x533108]=_0x41669d;}else{_0x41669d=_0xafd7a4;}return _0x41669d;};if($[_0x27e9('0','7LBi')]()){Object['keys'](jdCookieNode)[_0x27e9('1',')JtQ')](_0x1ff3ac=>{cookiesArr[_0x27e9('2','VQdK')](jdCookieNode[_0x1ff3ac]);});if(process[_0x27e9('3','lgi5')][_0x27e9('4','x#2(')]&&process[_0x27e9('5','Pyig')][_0x27e9('4','x#2(')]==='false')console[_0x27e9('6','bQ4M')]=()=>{};if(JSON[_0x27e9('7','#sJ^')](process['env'])[_0x27e9('8','PMgC')](_0x27e9('9','5Z$X'))>-0x1)process[_0x27e9('a','Wtm8')](0x0);}else{cookiesArr=[$['getdata']('CookieJD'),$[_0x27e9('b','i(Mf')](_0x27e9('c','zXBZ')),...jsonParse($[_0x27e9('d','PMgC')](_0x27e9('e','O%1z'))||'[]')[_0x27e9('f','Z1Wp')](_0x595252=>_0x595252['cookie'])]['filter'](_0x264296=>!!_0x264296);}const JD_API_HOST=_0x27e9('10','Pyig');!(async()=>{var _0x2b8ffd={'kXuAu':_0x27e9('11','ycW]'),'lGSuG':_0x27e9('12','Wtm8'),'UXbIn':function(_0x221c11,_0x26b7f9){return _0x221c11+_0x26b7f9;},'JRMKD':_0x27e9('13',']1N7'),'rvtaM':function(_0x4e13a2,_0x584ba1){return _0x4e13a2===_0x584ba1;},'pWsKx':_0x27e9('14','Wtm8'),'BGGQV':function(_0x2d4d7f,_0x3d55fa){return _0x2d4d7f(_0x3d55fa);},'cZIKK':function(_0x48f622,_0x13987a){return _0x48f622+_0x13987a;},'HgtlC':function(_0x5937b0,_0x48a768){return _0x5937b0<_0x48a768;},'KbmkW':function(_0x3e9a2b,_0x2c8d5e){return _0x3e9a2b(_0x2c8d5e);},'UYvyE':function(_0x57b421,_0x2ca2b4){return _0x57b421+_0x2ca2b4;},'ZaJrG':function(_0x4f357f){return _0x4f357f();},'OKjWe':'srzgS','ImHdB':'VBRaa','soxsz':function(_0x5d352f,_0x5f1463){return _0x5d352f*_0x5f1463;},'uCeLU':function(_0x31b4c9,_0x40a13b){return _0x31b4c9*_0x40a13b;},'RaGEJ':function(_0x7ddb28,_0x5d6685){return _0x7ddb28*_0x5d6685;},'ckjHK':function(_0xc0cd56,_0x3feef7){return _0xc0cd56!==_0x3feef7;},'iMvcX':'vEnUu','abxAa':_0x27e9('15','PMgC')};console['log']('\x0a');if(!cookiesArr[0x0]){$[_0x27e9('16','v)Q9')]($['name'],_0x2b8ffd[_0x27e9('17','Pyig')],'https://bean.m.jd.com/',{'open-url':'https://bean.m.jd.com/'});return;}let _0x346803=rraUrl();console[_0x27e9('18','6mL6')]('召唤龙王');let _0x669439=await redRainId(_0x346803);_0x669439=await retryCdn(_0x669439,_0x346803);console[_0x27e9('19','x#2(')](_0x27e9('1a','4Kvg'));if(!_0x669439){$['log'](_0x27e9('1b','gU3l'));return;}let _0x56740a=_0x669439[_0x27e9('1c','5Z$X')](';');console['log']('龙王就位:\x20'+_0x56740a);for(let _0x3f68bd of _0x56740a){if(_0x2b8ffd['rvtaM']('aiEsE','XXCOp')){_0x346803=process[_0x27e9('1d','phec')]['JD_RRA_URL'];}else{let _0x548c1e={};for(let _0x99cf59=0x0;_0x99cf59<0x18;_0x99cf59++){if(_0x27e9('1e',']1N7')===_0x2b8ffd[_0x27e9('1f','Ffys')]){$[_0x27e9('20','Wm^S')]($[_0x27e9('21','Wtm8')],_0x2b8ffd[_0x27e9('22','phec')],_0x27e9('23',']1N7'),{'open-url':_0x2b8ffd[_0x27e9('24','6mL6')]});return;}else{_0x548c1e[_0x2b8ffd[_0x27e9('25','tb0u')](String,_0x99cf59)]=_0x3f68bd;}}let _0x3c7bae=_0x2b8ffd[_0x27e9('26','zXBZ')](new Date()[_0x27e9('27','ESoS')](),0x8)%0x18;if(_0x548c1e[_0x3c7bae]){$[_0x27e9('28','ESoS')]=_0x548c1e[_0x3c7bae];$['log'](_0x27e9('29','5Z$X')+_0x3f68bd);}else{$['log'](_0x27e9('2a','1&Z4'));return;}for(let _0x1bb9cb=0x0;_0x2b8ffd[_0x27e9('2b','bO)U')](_0x1bb9cb,cookiesArr[_0x27e9('2c','So![')]);_0x1bb9cb++){if(cookiesArr[_0x1bb9cb]){cookie=cookiesArr[_0x1bb9cb];$[_0x27e9('2d','VQdK')]=_0x2b8ffd[_0x27e9('2e','x#2(')](decodeURIComponent,cookie[_0x27e9('2f','VQdK')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x27e9('30','4Kvg')]=_0x2b8ffd[_0x27e9('31','VQdK')](_0x1bb9cb,0x1);$[_0x27e9('32','bO)U')]=!![];$[_0x27e9('33','Wtm8')]='';message='';await _0x2b8ffd[_0x27e9('34','PMgC')](TotalBean);console['log'](_0x27e9('35',')JtQ')+$[_0x27e9('36','ESoS')]+'】'+($['nickName']||$['UserName'])+'*********\x0a');if(!$[_0x27e9('37','PvHD')]){$[_0x27e9('38','7C#4')]($['name'],_0x27e9('39','4Uaj'),_0x27e9('3a','Wtm8')+$[_0x27e9('3b','5Z$X')]+'\x20'+($['nickName']||$[_0x27e9('3c','bO)U')])+_0x27e9('3d','So!['),{'open-url':_0x27e9('3e','Wm^S')});if($[_0x27e9('3f','bf35')]()){if(_0x2b8ffd[_0x27e9('40','ESoS')](_0x2b8ffd[_0x27e9('41','zW[O')],_0x2b8ffd[_0x27e9('42','KOlK')])){let _0x2a497b=act[_0x27e9('43','zXBZ')][_0x27e9('44','7LBi')];$[_0x27e9('45','phec')]=_0x2a497b[_0x27e9('46','zXBZ')](_0x2b8ffd['UXbIn'](_0x2a497b['indexOf'](_0x2b8ffd[_0x27e9('47','1&Z4')]),0x3));$['st']=act[_0x27e9('48','zt7H')];$['ed']=act['endTime'];console[_0x27e9('19','x#2(')]($[_0x27e9('49','^MX9')]);console[_0x27e9('4a','Wtm8')](_0x27e9('4b','1&Z4')+new Date($['st']));console[_0x27e9('4c','Wm^S')](_0x27e9('4d','QSWW')+new Date($['ed']));}else{await notify[_0x27e9('4e','PvHD')]($[_0x27e9('4f','quTg')]+_0x27e9('50','quTg')+$['UserName'],_0x27e9('51','4Uaj')+$[_0x27e9('52','Ffys')]+'\x20'+$[_0x27e9('53','KOlK')]+_0x27e9('54','D)hC'));}}continue;}let _0xef63cd=new Date()[_0x27e9('55','gU3l')]()+_0x2b8ffd[_0x27e9('56','ycW]')](new Date()[_0x27e9('57','4Kvg')]()*0x3c,0x3e8)+_0x2b8ffd[_0x27e9('58','PMgC')](_0x2b8ffd[_0x27e9('59','yIYI')](0x8*0x3c,0x3c),0x3e8);await receiveRedRain();}}}}if(allMessage){if(_0x2b8ffd[_0x27e9('5a','PMgC')](_0x2b8ffd[_0x27e9('5b','lgi5')],_0x2b8ffd['abxAa'])){if($[_0x27e9('5c','PvHD')]())await notify[_0x27e9('5d','lv3R')](''+$[_0x27e9('5e','ycW]')],''+allMessage);$[_0x27e9('5f','YaDK')]($['name'],'',allMessage);}else{console[_0x27e9('4c','Wm^S')](_0x27e9('60','QSWW'));}}})()[_0x27e9('61','ESoS')](_0x54f4d6=>{$[_0x27e9('62','5Z$X')]('','❌\x20'+$[_0x27e9('63','MFvh')]+_0x27e9('64','zW[O')+_0x54f4d6+'!','');})['finally'](()=>{$['done']();});function showMsg(){var _0x232549={'JEpSc':function(_0x1316d1){return _0x1316d1();}};return new Promise(_0x3e21da=>{$['msg']($['name'],'','【京东账号'+$[_0x27e9('65',']1N7')]+'】'+$[_0x27e9('66','5cEo')]+'\x0a'+message);_0x232549[_0x27e9('67','6mL6')](_0x3e21da);});}function getRedRain(){var _0x8c7572={'nVUcL':function(_0x1bc279,_0x562b99){return _0x1bc279!=_0x562b99;},'FMCSB':_0x27e9('68','*@hx'),'MJhZs':'api.m.jd.com','jNdzy':'zh-Hans-JP;q=1,\x20en-JP;q=0.9,\x20zh-Hant-TW;q=0.8,\x20ja-JP;q=0.7,\x20en-US;q=0.6','Spiwm':function(_0x1c6697,_0x237c59){return _0x1c6697!==_0x237c59;},'LIEqf':_0x27e9('69','7C#4'),'eKbWj':function(_0x40ad10,_0x420ff0){return _0x40ad10(_0x420ff0);},'CgFuO':function(_0x43a6f5,_0x35b972){return _0x43a6f5===_0x35b972;},'pdBjV':function(_0x38a5b7){return _0x38a5b7();},'FSRhH':function(_0x365041,_0x942c88,_0x236fad){return _0x365041(_0x942c88,_0x236fad);},'EuFAs':_0x27e9('6a','TREx')};let _0x419eec;if(bodyList['hasOwnProperty'](new Date()[_0x27e9('6b','zt7H')]())){if(_0x8c7572[_0x27e9('6c','Pyig')](_0x8c7572[_0x27e9('6d','Wm^S')],_0x27e9('6e','PMgC'))){return!![];}else{_0x419eec=bodyList[new Date()['getDate']()];}}else{return;}return new Promise(_0x3568eb=>{var _0x558848={'BmLql':function(_0x49b360,_0xca0180){return _0x8c7572['nVUcL'](_0x49b360,_0xca0180);},'UVxKK':_0x8c7572[_0x27e9('6f','PMgC')],'hPosm':_0x8c7572[_0x27e9('70','VQdK')],'RUFUm':'*/*','IEWCc':_0x27e9('71','lv3R'),'IjmIV':_0x8c7572[_0x27e9('72','gU3l')],'gOgor':function(_0x2ad782,_0x86c854){return _0x8c7572['Spiwm'](_0x2ad782,_0x86c854);},'QlydW':_0x8c7572[_0x27e9('73','ESoS')],'Jeqkm':function(_0x5126d3,_0x2daf5a){return _0x8c7572[_0x27e9('74','zXBZ')](_0x5126d3,_0x2daf5a);},'bAMMx':_0x27e9('75','O%1z'),'SDOlw':_0x27e9('76','phec'),'uriLU':function(_0x32bb53,_0x509bd6){return _0x32bb53+_0x509bd6;},'JHKZl':function(_0x31a594,_0x1b9153){return _0x8c7572['CgFuO'](_0x31a594,_0x1b9153);},'pMvgX':_0x27e9('77','M#VN'),'xZXNn':function(_0x29b7f3){return _0x8c7572[_0x27e9('78','8U]b')](_0x29b7f3);}};$[_0x27e9('79','lv3R')](_0x8c7572[_0x27e9('7a','4Kvg')](taskGetUrl,_0x419eec['url'],_0x419eec[_0x27e9('7b','#sJ^')]),(_0x436866,_0x593054,_0x59a266)=>{if(_0x558848['gOgor'](_0x27e9('7c','tb0u'),_0x558848['QlydW'])){return _0x558848['BmLql'](process[_0x27e9('7d','bf35')][_0x27e9('7e','4Uaj')],_0x558848[_0x27e9('7f','TREx')]);}else{try{if(_0x436866){console[_0x27e9('80','zt7H')](''+JSON[_0x27e9('81','6mL6')](_0x436866));console['log']($[_0x27e9('82','Z1Wp')]+_0x27e9('83','tb0u'));}else{if(_0x558848[_0x27e9('84','7C#4')](safeGet,_0x59a266)){if(_0x558848[_0x27e9('85','YaDK')]!==_0x27e9('86','VQdK')){$[_0x27e9('87','^MX9')](e,_0x593054);}else{_0x59a266=JSON[_0x27e9('88','gU3l')](_0x59a266);if(_0x59a266[_0x27e9('89','bQ4M')]&&_0x59a266[_0x27e9('8a','*@hx')][_0x27e9('8b','7LBi')]){console[_0x27e9('8c','1&Z4')](_0x59a266[_0x27e9('8d',')JtQ')][_0x27e9('8e','1&Z4')][_0x27e9('8f','^MX9')](_0x499230=>_0x499230['type']==='anchor_darw_lottery')[_0x27e9('90',']1N7')]&&_0x59a266[_0x27e9('91','YaDK')][_0x27e9('92','O%1z')][_0x27e9('93','quTg')](_0x4f1705=>_0x4f1705[_0x27e9('94','bf35')]===_0x27e9('95','MFvh'))[0x0]['data']['lotteryId']);let _0x57ff12=_0x59a266[_0x27e9('96','1&Z4')]['iconArea']['filter'](_0x486f4c=>_0x486f4c[_0x27e9('94','bf35')]==='platform_red_packege_rain')[0x0];if(_0x57ff12){if(_0x558848[_0x27e9('97','ESoS')](_0x27e9('98','v)Q9'),_0x558848[_0x27e9('99','lgi5')])){let _0x1338b4=_0x57ff12['data'][_0x27e9('9a','QSWW')];$[_0x27e9('9b','ycW]')]=_0x1338b4[_0x27e9('9c','6mL6')](_0x558848['uriLU'](_0x1338b4[_0x27e9('9d','yIYI')](_0x27e9('9e','5cEo')),0x3));$['st']=_0x57ff12[_0x27e9('9f','Pyig')];$['ed']=_0x57ff12[_0x27e9('a0','^MX9')];console['log']($[_0x27e9('a1','1%W2')]);console[_0x27e9('a2','bf35')](_0x27e9('a3','ESoS')+new Date($['st']));console[_0x27e9('a4','Pyig')](_0x27e9('a5','So![')+new Date($['ed']));}else{$['logErr'](e,_0x593054);}}else{if(_0x558848[_0x27e9('a6','bQ4M')](_0x558848[_0x27e9('a7','*@hx')],_0x558848[_0x27e9('a8','M#VN')])){console[_0x27e9('a9','PMgC')](_0x27e9('aa','zW[O'));}else{return{'url':'https://api.m.jd.com/client.action?functionId='+function_id,'body':_0x419eec,'headers':{'Host':_0x558848[_0x27e9('ab','Wm^S')],'content-type':'application/x-www-form-urlencoded','accept':_0x558848[_0x27e9('ac','v)Q9')],'user-agent':_0x558848[_0x27e9('ad','4Uaj')],'accept-language':_0x558848['IjmIV']}};}}}else{console['log']('暂无红包雨');}}}}}catch(_0x1138b7){$['logErr'](_0x1138b7,_0x593054);}finally{_0x558848[_0x27e9('ae','lgi5')](_0x3568eb);}}});});}function receiveRedRain(){var _0x253b32={'sPKNo':function(_0x59c607,_0x2e80ef){return _0x59c607!==_0x2e80ef;},'YIFGt':_0x27e9('af','zXBZ'),'vmIzi':_0x27e9('b0','MFvh'),'SIZlz':function(_0x5960be,_0x45006a){return _0x5960be(_0x45006a);},'Yeffd':function(_0x2f3da9,_0x1ad2b6){return _0x2f3da9===_0x1ad2b6;},'MbYvf':_0x27e9('b1','zW[O'),'nXyyH':_0x27e9('b2','*@hx'),'FZDPi':'jHwfI','oHVlG':function(_0x4abeb5,_0x366da0,_0x16d1a4){return _0x4abeb5(_0x366da0,_0x16d1a4);},'UdzzY':_0x27e9('b3','QSWW')};return new Promise(_0x340875=>{var _0x5bff09={'XfkNh':_0x27e9('b4','bQ4M'),'DMvXE':_0x27e9('b5','KOlK')};if(_0x253b32[_0x27e9('b6','5cEo')]===_0x253b32[_0x27e9('b7','gU3l')]){const _0x23abe4={'actId':$['activityId']};$['get'](_0x253b32['oHVlG'](taskUrl,_0x253b32[_0x27e9('b8','6mL6')],_0x23abe4),(_0x2b1e27,_0x331336,_0x39df08)=>{var _0x23f89a={'FjZDG':function(_0x190c7b,_0x8113c2){return _0x190c7b+_0x8113c2;}};if(_0x253b32[_0x27e9('b9','lgi5')](_0x253b32[_0x27e9('ba','4Kvg')],_0x253b32['vmIzi'])){try{if(_0x2b1e27){console['log'](''+JSON[_0x27e9('bb','i(Mf')](_0x2b1e27));console[_0x27e9('bc','5cEo')]($[_0x27e9('bd','bO)U')]+_0x27e9('be','PMgC'));}else{if(_0x253b32[_0x27e9('bf','phec')](safeGet,_0x39df08)){_0x39df08=JSON[_0x27e9('c0','yIYI')](_0x39df08);if(_0x253b32['Yeffd'](_0x39df08[_0x27e9('c1','PMgC')],'0')){console[_0x27e9('bc','5cEo')](_0x27e9('c2',']1N7')+JSON[_0x27e9('c3','Z1Wp')](_0x39df08[_0x27e9('c4','So![')]));message+=_0x27e9('c5','1&Z4')+_0x39df08[_0x27e9('c6','bO)U')][_0x27e9('c7','8U]b')][0x0][_0x27e9('c8','zXBZ')]+_0x27e9('c9','YaDK');allMessage+=_0x27e9('ca','7C#4')+$[_0x27e9('cb','Wm^S')]+'】'+($[_0x27e9('cc','4Kvg')]||$['UserName'])+'\x0a领取成功，获得\x20'+_0x39df08[_0x27e9('cd','Z1Wp')][_0x27e9('ce','#sJ^')][0x0][_0x27e9('cf','Ffys')]+'\x20京豆'+(_0x253b32[_0x27e9('d0','bO)U')]($['index'],cookiesArr[_0x27e9('d1','gU3l')])?'\x0a\x0a':'\x0a\x0a');}else if(_0x253b32[_0x27e9('d2','So![')](_0x39df08[_0x27e9('d3','VQdK')],'8')){if(_0x253b32[_0x27e9('d4','1%W2')]!==_0x27e9('d5','bQ4M')){console['log'](_0x27e9('d6','tb0u'));message+='领取失败，本场已领过';}else{try{if(typeof JSON[_0x27e9('d7','ycW]')](_0x39df08)==_0x5bff09[_0x27e9('d8','6mL6')]){return!![];}}catch(_0x42e28c){console[_0x27e9('d9','quTg')](_0x42e28c);console[_0x27e9('a4','Pyig')](_0x27e9('da','Ffys'));return![];}}}else{if(_0x253b32['sPKNo'](_0x27e9('db','#sJ^'),_0x253b32[_0x27e9('dc','D)hC')])){console[_0x27e9('dd','O%1z')]('异常：'+JSON['stringify'](_0x39df08));}else{console['log'](_0x39df08['data'][_0x27e9('de','bO)U')]['filter'](_0x39fe9f=>_0x39fe9f[_0x27e9('df',')JtQ')]===_0x27e9('e0','7C#4'))[_0x27e9('e1','7C#4')]&&_0x39df08[_0x27e9('e2','M#VN')]['iconArea'][_0x27e9('e3','1&Z4')](_0x1e99f7=>_0x1e99f7['type']===_0x27e9('e4','lv3R'))[0x0][_0x27e9('89','bQ4M')][_0x27e9('e5','1&Z4')]);let _0x41bb84=_0x39df08[_0x27e9('96','1&Z4')][_0x27e9('e6','7C#4')][_0x27e9('e7','O%1z')](_0x5cdcab=>_0x5cdcab[_0x27e9('e8','TREx')]===_0x27e9('e9','Ffys'))[0x0];if(_0x41bb84){let _0x1ccd7c=_0x41bb84['data'][_0x27e9('9a','QSWW')];$['activityId']=_0x1ccd7c[_0x27e9('ea','7C#4')](_0x23f89a['FjZDG'](_0x1ccd7c[_0x27e9('eb','ycW]')](_0x27e9('ec','x#2(')),0x3));$['st']=_0x41bb84['startTime'];$['ed']=_0x41bb84[_0x27e9('ed','Ffys')];console['log']($[_0x27e9('ee','lv3R')]);console[_0x27e9('ef','ycW]')](_0x27e9('f0','Pyig')+new Date($['st']));console['log'](_0x27e9('a5','So![')+new Date($['ed']));}else{console['log'](_0x27e9('f1','quTg'));}}}}}}catch(_0xc82190){$[_0x27e9('f2','KOlK')](_0xc82190,_0x331336);}finally{_0x340875();}}else{let _0x4c4970=_0x27e9('f3','O%1z');if($['isNode']()&&process['env']['JD_RRA_URL']){_0x4c4970=process[_0x27e9('f4','So![')][_0x27e9('f5','^MX9')];}else if($['getdata'](_0x5bff09[_0x27e9('f6','M#VN')])){_0x4c4970=$[_0x27e9('f7','5Z$X')](_0x5bff09[_0x27e9('f8','4Kvg')]);}return _0x4c4970;}});}else{console[_0x27e9('f9','1%W2')](e);console[_0x27e9('ef','ycW]')](_0x27e9('fa','v)Q9'));return![];}});}function redRainId(_0x8340eb){var _0x22b029={'vFbpd':function(_0x4bb82f,_0x4eb694){return _0x4bb82f!=_0x4eb694;},'iCXNK':_0x27e9('fb','8U]b'),'zogOL':_0x27e9('fc','8U]b'),'RvEYy':_0x27e9('fd','bf35'),'UlhcR':function(_0x407dd0,_0x2696b9){return _0x407dd0(_0x2696b9);}};return new Promise(_0x16f2fc=>{var _0x565901={'aHmXd':function(_0x4a55d5,_0x30c6e7){return _0x22b029[_0x27e9('fe','ycW]')](_0x4a55d5,_0x30c6e7);},'Wtsln':'rainNotifyControl','HCzkU':_0x22b029['iCXNK'],'AMCKM':_0x22b029[_0x27e9('ff','x#2(')],'iVHSb':_0x22b029['RvEYy'],'zbxae':_0x27e9('100','Z1Wp'),'cIQyC':function(_0x112ffb,_0x461907){return _0x22b029['UlhcR'](_0x112ffb,_0x461907);}};const _0x52b266={'url':_0x8340eb+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'}};let _0x18a5e9='';$['get'](_0x52b266,async(_0x2dfc58,_0x4763af,_0x2d186d)=>{try{if(_0x565901['AMCKM']===_0x27e9('101','Pyig')){if(_0x2dfc58){console[_0x27e9('102','4Kvg')](''+JSON[_0x27e9('103','4Uaj')](_0x2dfc58));_0x18a5e9=_0x565901[_0x27e9('104','i(Mf')];}else{if(!!_0x2d186d){_0x18a5e9=_0x2d186d['replace'](/[\r\n]/g,'');}else{_0x18a5e9='';}}}else{$[_0x27e9('105','yIYI')]=![];return;}}catch(_0x60d417){$[_0x27e9('f2','KOlK')](_0x60d417,_0x4763af);}finally{if(_0x565901[_0x27e9('106','Ffys')]===_0x565901[_0x27e9('107','^MX9')]){_0x565901[_0x27e9('108','lv3R')](_0x16f2fc,_0x18a5e9);}else{return _0x565901['aHmXd']($[_0x27e9('109','Wm^S')](_0x565901['Wtsln']),_0x565901[_0x27e9('10a','KOlK')]);}}});});}async function retryCdn(_0x5282d3,_0x23934e){var _0x4e83dd={'XuTjS':function(_0x1f31f3,_0x406b94){return _0x1f31f3===_0x406b94;},'lnVRX':'error','LbEVf':function(_0x33ca8d,_0x58507e){return _0x33ca8d-_0x58507e;},'VSsLv':function(_0x2f2480,_0x5142b3){return _0x2f2480(_0x5142b3);}};if(_0x4e83dd[_0x27e9('10b','lgi5')](_0x5282d3,_0x4e83dd['lnVRX'])){let _0x29ce85=_0x23934e[_0x27e9('10c','QSWW')]('/');let _0x97602c=_0x29ce85[_0x4e83dd[_0x27e9('10d','phec')](_0x29ce85[_0x27e9('10e','*@hx')],0x1)];let _0x37bee5='http://buou-1255594201.file.myqcloud.com/'+_0x97602c;$[_0x27e9('bc','5cEo')]('召唤龙王失败,\x20召唤神龙');_0x5282d3=await _0x4e83dd['VSsLv'](redRainId,_0x37bee5);}return _0x5282d3===_0x4e83dd[_0x27e9('10f',')JtQ')]?'':_0x5282d3;}function rraUrl(){var _0x17c64a={'eFyXr':'http://qt5q7j8ze.hb-bkt.clouddn.com/jd-live-rain.json','fDJRX':_0x27e9('110','QSWW')};let _0x140bbe=_0x17c64a[_0x27e9('111','bf35')];if($[_0x27e9('112','PMgC')]()&&process['env'][_0x27e9('113','Ffys')]){_0x140bbe=process[_0x27e9('114','^MX9')]['JD_RRA_URL'];}else if($['getdata'](_0x17c64a[_0x27e9('115','bf35')])){_0x140bbe=$[_0x27e9('116','x#2(')](_0x17c64a[_0x27e9('117','*@hx')]);}return _0x140bbe;}function isNotify(){var _0x5b6e8d={'NlBdT':function(_0x134dd4,_0x1e2395){return _0x134dd4!=_0x1e2395;},'zQVRw':'rainNotifyControl','Kcnsh':_0x27e9('118','yIYI')};if($[_0x27e9('119','tb0u')]()&&process['env'][_0x27e9('11a','quTg')]){return process['env'][_0x27e9('11b','yIYI')]!=_0x27e9('11c','Wm^S');}else if($['getdata'](_0x27e9('11d','v)Q9'))){return _0x5b6e8d[_0x27e9('11e','i(Mf')]($[_0x27e9('11f','Ffys')](_0x5b6e8d[_0x27e9('120','zW[O')]),_0x5b6e8d[_0x27e9('121','phec')]);}return!![];}function taskGetUrl(_0x37dfce,_0x180472){var _0x2463da={'neLLM':'*/*','TOWXr':_0x27e9('122','PvHD'),'oPqfT':_0x27e9('123','*@hx'),'fobHd':_0x27e9('124',')JtQ')};return{'url':_0x37dfce,'body':_0x180472,'headers':{'Accept':_0x2463da[_0x27e9('125','zXBZ')],'Accept-Encoding':_0x27e9('126','5cEo'),'Accept-Language':_0x27e9('127','bO)U'),'Connection':_0x2463da[_0x27e9('128','VQdK')],'Content-Type':_0x2463da[_0x27e9('129','Wm^S')],'Host':_0x27e9('12a','Pyig'),'Referer':_0x27e9('12b','lgi5')+$[_0x27e9('a1','1%W2')]+_0x27e9('12c','7LBi'),'Cookie':cookie,'User-Agent':_0x2463da['fobHd']}};}function taskPostUrl(_0x354b66,_0x11bdeb=_0x11bdeb){var _0x22c32b={'goSsQ':_0x27e9('12d','D)hC'),'YJkXs':'zh-Hans-JP;q=1,\x20en-JP;q=0.9,\x20zh-Hant-TW;q=0.8,\x20ja-JP;q=0.7,\x20en-US;q=0.6'};return{'url':_0x27e9('12e','VQdK')+_0x354b66,'body':_0x11bdeb,'headers':{'Host':_0x27e9('12f','tb0u'),'content-type':_0x27e9('130','Wm^S'),'accept':_0x27e9('131','M#VN'),'user-agent':_0x22c32b['goSsQ'],'accept-language':_0x22c32b[_0x27e9('132','zW[O')]}};}function taskUrl(_0x56bf94,_0x40053c={}){var _0x106bc3={'GEJwq':function(_0x105323,_0x4b95a3){return _0x105323(_0x4b95a3);},'ChTMf':function(_0x5734cf,_0x52042b){return _0x5734cf*_0x52042b;},'rSJzp':function(_0x56bbd9,_0x577795){return _0x56bbd9*_0x577795;},'GRYIQ':_0x27e9('133','8U]b')};return{'url':JD_API_HOST+_0x27e9('134','lgi5')+_0x56bf94+_0x27e9('135','8U]b')+_0x106bc3[_0x27e9('136','Z1Wp')](escape,JSON[_0x27e9('137','zXBZ')](_0x40053c))+_0x27e9('138','yIYI')+(new Date()[_0x27e9('139','Wm^S')]()+_0x106bc3[_0x27e9('13a','lv3R')](_0x106bc3[_0x27e9('13b','KOlK')](new Date()[_0x27e9('13c','yIYI')](),0x3c),0x3e8)+_0x106bc3[_0x27e9('13d','x#2(')](_0x106bc3['ChTMf'](_0x106bc3[_0x27e9('13e','#sJ^')](0x8,0x3c),0x3c),0x3e8)),'headers':{'Accept':_0x106bc3[_0x27e9('13f','VQdK')],'Accept-Encoding':_0x27e9('140','quTg'),'Accept-Language':_0x27e9('141',']1N7'),'Connection':_0x27e9('142','4Uaj'),'Content-Type':_0x27e9('143','lgi5'),'Host':'api.m.jd.com','Referer':_0x27e9('144','zt7H')+$[_0x27e9('45','phec')]+'&lng=0.000000&lat=0.000000&sid=&un_area=','Cookie':cookie,'User-Agent':_0x27e9('145','x#2(')}};}function TotalBean(){var _0x55843f={'fuKkj':function(_0xc453bb,_0x5dfdcd){return _0xc453bb===_0x5dfdcd;},'oPBVu':_0x27e9('146','1&Z4'),'Hxzcu':function(_0x1be096){return _0x1be096();},'zNNIs':'CookieJD','sqBKx':function(_0xb2ce68,_0x1c29dd){return _0xb2ce68(_0x1c29dd);},'jEOlJ':function(_0x2c4799,_0x3f24c){return _0x2c4799===_0x3f24c;},'ogTiN':_0x27e9('147','#sJ^'),'TNhde':function(_0x432823,_0x5a1eff){return _0x432823!==_0x5a1eff;},'zoOfg':_0x27e9('148','ycW]'),'JLiYS':_0x27e9('149','phec'),'XHVOE':function(_0x49877e,_0x487de5){return _0x49877e===_0x487de5;},'TLWpH':'UQEGE','AaFMj':_0x27e9('14a','quTg'),'iEDkQ':'application/json,text/plain,\x20*/*','ZFwNq':_0x27e9('14b','5cEo'),'OZQNj':_0x27e9('14c','YaDK'),'FUgjX':_0x27e9('14d','M#VN')};return new Promise(async _0x28f73b=>{var _0x3235bc={'RFkqz':function(_0x1f48f6){return _0x55843f[_0x27e9('14e','ESoS')](_0x1f48f6);},'xFZXv':_0x55843f[_0x27e9('14f','6mL6')],'wbCaJ':function(_0x47dfa9,_0x1cd2ed){return _0x55843f[_0x27e9('150','YaDK')](_0x47dfa9,_0x1cd2ed);},'RblYm':_0x27e9('151','TREx'),'SZJVn':function(_0x563a0,_0x1b821c){return _0x55843f[_0x27e9('152','5cEo')](_0x563a0,_0x1b821c);},'Zifry':function(_0x34123b,_0x610dda){return _0x34123b===_0x610dda;},'oNdUC':_0x55843f[_0x27e9('153','VQdK')],'dxEeM':function(_0x383fec,_0x42055b){return _0x55843f[_0x27e9('154','Wm^S')](_0x383fec,_0x42055b);},'QJDYU':_0x55843f[_0x27e9('155','4Kvg')],'vcxqz':_0x55843f[_0x27e9('156','Ffys')],'ByhCj':function(_0x52adcf,_0x258757){return _0x55843f['XHVOE'](_0x52adcf,_0x258757);},'RYtlk':'qrkAS','XFzXQ':_0x55843f[_0x27e9('157','Z1Wp')],'FmfCd':function(_0x57e5f3){return _0x55843f[_0x27e9('158','^MX9')](_0x57e5f3);}};if(_0x55843f[_0x27e9('159','D)hC')](_0x55843f[_0x27e9('15a','phec')],_0x27e9('15b','Wm^S'))){const _0x3b01a6={'url':_0x27e9('15c',']1N7'),'headers':{'Accept':_0x55843f['iEDkQ'],'Content-Type':_0x55843f['ZFwNq'],'Accept-Encoding':_0x55843f['OZQNj'],'Accept-Language':_0x27e9('15d','VQdK'),'Connection':_0x27e9('15e','TREx'),'Cookie':cookie,'Referer':_0x27e9('15f','ycW]'),'User-Agent':_0x55843f['FUgjX']}};$[_0x27e9('160','5cEo')](_0x3b01a6,(_0x4ad4cc,_0x34f266,_0x5f2c62)=>{try{if(_0x4ad4cc){console[_0x27e9('161','yIYI')](''+JSON[_0x27e9('162','1&Z4')](_0x4ad4cc));console[_0x27e9('163','QSWW')]($[_0x27e9('164','gU3l')]+_0x27e9('165','MFvh'));}else{if(_0x3235bc[_0x27e9('166','So![')]!==_0x27e9('167','O%1z')){if(_0x5f2c62){_0x5f2c62=JSON[_0x27e9('c0','yIYI')](_0x5f2c62);if(_0x3235bc[_0x27e9('168','M#VN')](_0x5f2c62[_0x27e9('169','Wm^S')],0xd)){$[_0x27e9('105','yIYI')]=![];return;}if(_0x3235bc[_0x27e9('16a','v)Q9')](_0x5f2c62[_0x27e9('16b','ESoS')],0x0)){$[_0x27e9('16c','6mL6')]=_0x5f2c62[_0x3235bc[_0x27e9('16d','Wtm8')]]&&_0x5f2c62[_0x3235bc[_0x27e9('16e','MFvh')]]['nickname']||$[_0x27e9('16f','^MX9')];}else{if(_0x3235bc['dxEeM'](_0x3235bc[_0x27e9('170','Ffys')],_0x3235bc[_0x27e9('171','M#VN')])){$[_0x27e9('172','phec')]=$['UserName'];}else{_0x3235bc[_0x27e9('173','zXBZ')](_0x28f73b);}}}else{console[_0x27e9('80','zt7H')](_0x27e9('174','5Z$X'));}}else{id=_0x5f2c62[_0x27e9('175','bQ4M')](/[\r\n]/g,'');}}}catch(_0x2a07b9){if(_0x3235bc[_0x27e9('176','1&Z4')](_0x3235bc[_0x27e9('177','lv3R')],_0x3235bc[_0x27e9('178','4Uaj')])){cookiesArr=[$['getdata'](_0x3235bc['xFZXv']),$[_0x27e9('179','bQ4M')](_0x27e9('c','zXBZ')),..._0x3235bc[_0x27e9('17a','QSWW')](jsonParse,$['getdata'](_0x27e9('17b','^MX9'))||'[]')[_0x27e9('17c','Ffys')](_0x3c13a4=>_0x3c13a4[_0x27e9('17d','yIYI')])]['filter'](_0x1467fc=>!!_0x1467fc);}else{$['logErr'](_0x2a07b9,_0x34f266);}}finally{_0x3235bc[_0x27e9('17e','ycW]')](_0x28f73b);}});}else{Object[_0x27e9('17f','VQdK')](jdCookieNode)['forEach'](_0x5f3280=>{cookiesArr[_0x27e9('180','lv3R')](jdCookieNode[_0x5f3280]);});if(process[_0x27e9('181','6mL6')]['JD_DEBUG']&&_0x55843f['fuKkj'](process[_0x27e9('182','zW[O')][_0x27e9('183','1%W2')],_0x55843f[_0x27e9('184','Ffys')]))console['log']=()=>{};if(JSON[_0x27e9('185','TREx')](process[_0x27e9('5','Pyig')])[_0x27e9('186','YaDK')](_0x27e9('187','Wm^S'))>-0x1)process[_0x27e9('188','bf35')](0x0);}});}function safeGet(_0x483523){var _0x20b070={'vTqad':function(_0x5dd396,_0x208e75){return _0x5dd396===_0x208e75;},'fUypo':_0x27e9('189','v)Q9'),'LvcAx':function(_0x89e9eb,_0x17e31f){return _0x89e9eb==_0x17e31f;},'hlTnW':function(_0x42996a,_0x479eff){return _0x42996a===_0x479eff;},'cESZJ':_0x27e9('18a','So!['),'oRpTS':_0x27e9('18b','Z1Wp'),'JyWaX':function(_0x22fc02,_0x835046){return _0x22fc02!==_0x835046;},'mOjZy':_0x27e9('18c','MFvh')};try{if(_0x20b070[_0x27e9('18d','Wm^S')](_0x27e9('18e',']1N7'),_0x20b070[_0x27e9('18f','^MX9')])){console[_0x27e9('190','KOlK')](''+JSON[_0x27e9('191','v)Q9')](err));console['log']($[_0x27e9('21','Wtm8')]+_0x27e9('192','Wtm8'));}else{if(_0x20b070[_0x27e9('193','7LBi')](typeof JSON[_0x27e9('194','lgi5')](_0x483523),'object')){if(_0x20b070[_0x27e9('195','v)Q9')](_0x20b070[_0x27e9('196','YaDK')],_0x20b070[_0x27e9('197','#sJ^')])){$[_0x27e9('dd','O%1z')]('今日龙王🐲出差，天气晴朗☀️，改日再来～\x0a');return;}else{return!![];}}}}catch(_0x251826){if(_0x20b070[_0x27e9('198','tb0u')](_0x20b070[_0x27e9('199','PMgC')],_0x20b070['mOjZy'])){resolve();}else{console[_0x27e9('19a','gU3l')](_0x251826);console[_0x27e9('19b','8U]b')](_0x27e9('19c','8U]b'));return![];}}}function jsonParse(_0x5a9d37){var _0x386e0e={'uBvTz':function(_0x2cd5fa,_0x2b0e2d){return _0x2cd5fa==_0x2b0e2d;},'PIbKK':_0x27e9('19d','bO)U'),'BJySe':function(_0x189f1e,_0x14b7b1){return _0x189f1e!==_0x14b7b1;},'REHEe':function(_0x9e2ac3,_0x5a68de){return _0x9e2ac3!==_0x5a68de;},'QUTlD':'AGNsJ','HKWET':_0x27e9('19e','Wtm8')};if(_0x386e0e[_0x27e9('19f','TREx')](typeof _0x5a9d37,_0x386e0e[_0x27e9('1a0','Z1Wp')])){try{if(_0x386e0e['BJySe']('aZTKV',_0x27e9('1a1','ESoS'))){return JSON[_0x27e9('1a2','MFvh')](_0x5a9d37);}else{$[_0x27e9('16c','6mL6')]=$[_0x27e9('1a3','lgi5')];}}catch(_0x2b201d){if(_0x386e0e[_0x27e9('1a4','gU3l')](_0x27e9('1a5','5Z$X'),_0x386e0e['QUTlD'])){console[_0x27e9('1a6','tb0u')](''+JSON[_0x27e9('1a7','D)hC')](err));console['log']($['name']+'\x20API请求失败，请检查网路重试');}else{console['log'](_0x2b201d);$[_0x27e9('1a8','ycW]')]($[_0x27e9('1a9','lgi5')],'',_0x386e0e[_0x27e9('1aa','O%1z')]);return[];}}}};_0xodW='jsjiami.com.v6'; 
 
// prettier-ignore
 function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}

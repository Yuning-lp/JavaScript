/*
超级直播间盲盒抽京豆
已支持IOS双京东账号,Node.js支持N个京东账号
脚本兼容: Quantumult X, Surge, Loon, JSBox, Node.js
==============Quantumult X==============
[task_local]
#超级直播间盲盒抽京豆
1-3 18-20 * * * https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_mh.js, tag=超级直播间盲盒抽京豆, enabled=true

==============Loon==============
[Script]
cron "1-3 18-20 * * *" script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_mh.js,tag=超级直播间盲盒抽京豆

================Surge===============
超级直播间盲盒抽京豆 = type=cron,cronexp="1-3 18-20 * * *",wake-system=1,timeout=3600,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_mh.js

===============小火箭==========
超级直播间盲盒抽京豆 = type=cron,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_super_mh.js, cronexpr="1-3 18-20 * * *", timeout=3600, enable=true
*/

const $ = new Env('超级直播间盲盒抽京豆');
let allMessage = '';
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.js用户请在jdCookie.js处填写京东ck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
//IOS等用户直接用NobyDa的jd cookie
let cookiesArr = [], cookie = '', message;

var _0xodJ='jsjiami.com.v6',_0x57f4=[_0xodJ,'RgUx','E8KpSxvCuQ==','wrPCiH9zfw==','wrrCjMODRcKD','wprCnEZ3fw==','CMO6w4vDv8O3','fUnCnEU0','NcK3w4pw','DsOZacKEwrQ=','TwEow54=','YwMnw5roraXmsoflprrot7DvvaDor67moJjmnqvnv5Tot5vphYHorpM=','FRjDgsK2KQ==','w4UNdywxdsKZUA==','wr0/wqDCnno=','PyVKUEY=','w65wSQ==','5b6D5YiL5buT56e/5YOp77+p','wpplw5Jtw6FCahA=','5byN5Yia5buZ56WR5YGH7768','wqrClMOjasKjwrTDk2FQGhDDgw==','M8ONworChQ==','ZXJyW8KcUA==','wrDCmMOPw7dx','woXDqcO3IMOCYsK9KQ==','w5cfw7l8T8KK','WXR4','w5jCgDYSw4M=','w73Cuzwuw7TCpA==','VcOQwoHCojc=','w7woworCi8OB','OMOcw6DDjsOi','ZsOKSsO7wrA=','NMOSwqXCgsO0','w6LCjlM=','5Y+45YCY5LqM5Yiy','w44EwqPCp8Op','a0xzbsK/','VVnDncKfLQ==','YGQawoPCog==','wogTwrjCt20=','w7LCnhDDmMO1','RnzCp10F','w7PClmUHw7U=','LDLDlQ==','w67CgjQ=','5LuP5YiV5a2M5ouR5om05Yi1','5Li25Yu/5a2e5ou95aSu6LW177y15Y6/5ZuC5p+T55+K','V8Kxwr5WZ8Kg','JCcDw7fDs8Kxw6o=','Ijh1woXCocOgw7Y=','d8Obwq/Cqg3DjxUfNw==','fMORAsKLFw==','TUHClsKXRw==','ZcOacw==','LH8yRVvCuA==','w6R2QhHCvMKE','HxZjwpDCqA==','KUXCgmDDjQ==','BCdwwrLCmQ==','UFrCgMKOYw==','w5nCvkUsw4jDow==','w5TCjDLDusO3','w6bCg0EkYg==','Y0/CmMK+aw==','MwZPfWY=','UMONwrTCuC0=','w4XCrDQNw44=','YE1rTsK0','woMowp7Cums=','w6Yjwq7CrMO8','RGLDrg==','TAU2w4gOw4PCkw==','SMKzwoc=','wq7CoGQZ6K+v5rC35aWz6LWo772+6K6d5qO/5p2G57+C6LWY6YWX6K+r','wrxnw5Jlw58=','bUl1ZcOC','ZcOad8Owwrk=','esOedw==','IMO7w4g=','5Lqx5YmV5ayS5omK5oqi5YqC','VsKfwq/CjlQ=','w6QGw7tMYA==','byMzw6IN','5b2V5YmQ5bmk56ay5YOJ77yt','I386','5LqS5YuY5ayr5omo5aSv6LeD77yZ5Y+o5ZmP5py8556Z','Tgofw44c','EcKmYD/CvQ==','B8OOQMKbwrM=','QGPCkG8X','wr1IwqvDscO4','KcOnd8Kh','ZFE3wojCsQ==','OsKOVg==','DsOew5/DmcOU','wqY7wqvCng==','IjFNWw==','QcKywpY=','w5ULwrDCoMOLcl3Dsw==','w6kSWjEI','DBfDkQ==','HcKcw7FNOwHDtCw=','wrHCpWVpYcKmwpvDoUY=','Y3Nq','w7wJaDAB','P8ObwoXCng==','G8KZw7tjHw==','5YeP5o6V5oiB5Yu7','5bq35a6E5Lut6LaY776A5Lic5qyU5pSD54Cd5p+H','O8OUwqLCn8OF','ChHDvQhX','J8OsZQ==','wrwHwpDCglk=','w4cpwrbCpsO9','5pyq5qy86L+M6KGx6I2C5b6g','wpPDrcOlJcOd','44Ck5LiY5Luc6Len5Y6T','wrDCnMO0YMKBwqXDjGs=','QVA7woDCmsKnwo7Cog==','MemhmOWMj+aIg+WKiu+/nuacoeauiOi+rOihiuiOoOW8qQ==','RHzCtcKUQQ==','X1nCl1M7','QWfCimsLfg==','wqzCsHpl','44CU5Lq+5LqN6Le65Y69','LDNlwoTCuA==','ZsOSYMO4wp/Dnipv','ZsO1e8OUwqg=','ZmfCjXsS','wp3Dp8OjDsOceQ==','wr1bwrDDuMO4','woPDrcOw','w6DCiDIWw4k=','wqExwrU=','dMO3I8KcEw==','wq9YwqDDh8Ox','ZMKCwoLCv0E=','w7B6Wg==','JsKbw7k=','H8Kocg3CsA==','SMKzwoduw75l','w5I1YTEU','KTjDo8K8NQ==','UsKxwoDCvlY=','5Lqa5Lir5p++5YqX5Zir6L6y5Zq+56i05pSk5o+D','woQIwobCulo=','axFgW8KYZMKzw6PDhcO0w4kPw7IswoUi','NsKow55lFyDDgB9SEcKDwr90wpAQF8KXbMKqA8KociRFSsKzVDzDugo=','w6bCr3wjw6TDosOHVS8=','w5ULw5vCjcOeWGfDmsKUPBprw5LDoMOzw5Bew5XCnxLDjy4qfDEkS8KzwqTDu8KQw7NoBcKCw5RbVVrCmHIYw5dBwp4tw7M=','LDNnwo4=','wrElw58ZwqPCljvCjg==','w5fDvMOrIMOLZcOz','UsKwwr98','VcOXwrTClQvDgTo1','EETCkFMtAxYvOMKQw4BYwqUpZsKGD8KY','bMKVw70uw5trwo5c','csO2IcKW','wqw9wqbCq3MxXg==','bMKAw6cqw5cgw5lHIytlNmLCmCbDtcOiJ2nCuhtxHcKcw4RCw4LDv8KgwoJ9w4E=','wqUqwqbCnWxqFg9VwogBJcO2wpvDtsOYSgLDmsOTS8KUAw/DgsKaJHE5CMKhBcOnw5g=','wrovw7zCh3t+Wk9P','EywBw4nDmA==','EsKgQiTCog==','CQZDw7rDgsKtw6TCuwk2w6l4wrIAwrV2AsK3woQ8RMKhesOOw6BtdcKBEhzCjCnChwUdcHNmcS/DnC/ChEfCu8KROQ==','FsK2wpPDkw==','w6vCgzUX','N8KCRT7CucKow5AW','MlA9wpfCusKjwpXCpsOFw7LDuMOFasOJR8OjwpEwWsKMw4TCjcOo','KzJ2','wq/CvTE5FE0o','PcO7JsKVGsOfwrTDggZLwocHO8KtIlM=','w7XCnH0Sw57Cs8K6wo0o','N8KRQQbCv8Kgw5QMAMKFwpbCvMO2G8OWZw==','YVLCi1Qe','G8Ksw5kew50=','w7bCg2UUw67Cm8Opf8OJwoxveSkSSENTwrJ/W3h4GSfDjnYxwp8+wrPDmcOxw7oLw6Vuw7wsAsOIE8KSVcOffTVDOsKfJAXDswV0R8K7ViBdIGQhwqjCm8OEAMO7w7QVfMKnW8KEw7XCmGrCoTzDgiJFNMKfwohe','JcK9w5pqESfDhA==','QwE2w54=','ISvDjyJ0','QjgWw58Z','Y2jDuMKsZsO9d8KVUVoAwoPDlBIhIBQ=','XHHDucKZXA==','w6XChFEgNRQuJAQP','Ax3Dhghuw518J8OHeRI9C8ODWXvDngvDi8KoXyLCmsKOYsOtbTTCgMObwpLDm1Mawohlw5MmLlzCmldxw67CumHDg8OGK37CrjdIAX5DER7CpE7DmBzCocOrJw1YwqM2FwAjwr7DrcKuScKIwoo1w6vCmsKrwpLCoHXCkAvCpsO2KwJyM8O2w69zecOkw5zDlFMTw6rCuMOrwo/DsMK6w6ZRw63DkxxrEi5Iw7dNLcKxQsO2e8OnworCk8OiwojChcOMwpzDkMKdw5bCgA/CqcOMwo7Ci8KHXE4rw6Y+dx7Cp0EXI8K1MCbCh8OoFwE=','wonCrcOZccKo','wq3CsS05NA==','GsOfw5jDpsOR','HWgOWmA=','SBMLw5QLw4E=','fsO2MQ==','FBPDvsKLKMOjw6pnwqM+V8OQQA==','YknDllvDmUp6w6J4w5/DvgFX','J8KAw44iw5s=','wrvDjMORCg==','U1/CrMKCdg==','LjjDksKq','wqfCui8IHlQ=','XnbClmURccORcMKU','w6DCgFk1','E8KHwp7CguivseaxnOWkqOi2gu+9i+ivoeagt+afrue/jei2pumEvOismg==','AQp2SUI=','IMOJwrzChMOi','WwoVw5UY','Bx13cmw=','w5NwTQ/CnA==','Q2vCh2cxd8OVcw==','XcKowqlZRg==','QG/CpMKwYQ==','WF7CkF0tBw0r','EcKxwpbDl8Kvwppyw6o=','PArDggpQwod4Eg==','5LuT5LuE5p+45Yid5ZqJ6Lyv5ZuB56u15pWL5oyE','wrYkw5kCwrI=','d31wWcOj','M8OxfsKswpM=','wplvwofDisOs','TkXCl3cG','wqnCv2ZmYw==','woPDrcO0J8OPaMKr','WcKdB8K1fg==','NMKNwqfDjMKw','wpbDo8OXOcOI','wrfCjcOOw7VsLcKJw5bCgw==','TCV0c8KQ','dHPDo8KvLw==','SwU2w7YI','w6JxPQ==','WljClA==','5Lid5Lmq5p6Y5Yqp5ZmC6K2H6Zap5pSw5o2L5Lu356mY77+16K6m5qKF5pyx6Iag6LuA6Kyi5aSx57y857mB5oOL5YWI','VMKbAcKqNgEvwoZNIsOJw49WJj8CwoQdw7PCvkfCo1fDmX7CgjXDvBTDhnZowrnDmnd9HMO5dUDDu8KoFwTCvETCisKXwprCjMKw','w4lcKw9q','5Lud6KeH5Z6DMsK6wos4wrnmi6vliL7lpZzli7HnsILotYrkv7LmlZAdw6UlRVsx','w5jCiCEFw4k=','w63Cg2MNw7PDhg==','w6DCk04pUw==','LR55wq/Crw==','w68uwp3Cl8Or','wqBJwqU=','wqNbwq/Drg==','bVl3WcO/','wrXDhcORLcOg','wop4w4E=','CQYow57DmsKaw57ChyA=','P8ONwpo=','DxlewqzCiMOLw4InNQ==','UVLCh1IiEgE=','JUDCo1vDvcOQFg==','JsOww6LDgMOvP18=','KjE5w7zDtsKg','UMK7wqBg','wqtVwrDDjsO8w7XCig==','TWPDvw==','TlbDjsKYD8KfRsK3','w6twLA==','w6w7wp3CjcOgV2HDksKI','VcKBEcK/dGFm','w4VWei3CjMK0','KlzCh2c=','cMKpwqHCoG97U8Oj','wqPCnMOIw7hjPsKB','d8Obwq/Cqg3DjywRQQ==','ZwBg','w61xNSN0ZA==','wqDCn0RTYQ==','44GT5o6S56WN44KC6K2l5YaN6Iy85YyD5LuA5LiF6Le+5Y655LqFV8OjKUnDtsKIZuebmOaNq+S9q+eWg8KVIn7CtwVd55i55Lqx5Lq1562J5YiW6I+n5Y+2','wrbCgcOje8K8w77CjiFUFgXDng3DgQx/w6lqwqMjw6taw4UDwqoFwpPCrybDqA5Jwq3CjgbCm3PCuzBMHsKcEA==','wojCvnxEXg==','w7U4w418eg==','w6vCgivDqMOU','MTdAwrfCpA==','w7LCmHY=','OMKAXA8=','wrgow5Ijwpg=','XsOgCcKoBQ==','Ly0Q','5Yyh5ZW66Ze06bGJ','e8K8wqDCkVQ=','w5ZdYB/CgQ==','wq7CvnA=','w7VlbxLCkw==','WnjCpXs1','wqTCtyI=','5LmE5pe76ZW86bOs8JiAoeWFleW3je+/jOWlreayr+abkOadveKan++4iu+8jeaVj+aVneWFgeadhe+/n8KQ','E8K3wpLDucKTwok=','eEYwwpXCoMKu','woTCk295ag==','KsOIcsKPwoo=','GSYGw5HDug==','w69+WgbCsQ==','bXzDtcK5Mg==','woTCkgYELg==','VcK3wrp4W8KzYMOM','w70qwo7CisO9','w73CsTU=','w4jDuz0qJcOrw5jlvoflp7Tjgo3kuLnkuqjot4/ljY8=','P8KPVQ/Crg==','WF7CkF0NBw0r','aWhdwrnCuMOvwqHDv0YT','wpjDu8OIJMOJYsKg','esO6IMKKPg==','JsKbw7kfw4Bv','NMOCwoHCjw==','44Kz5oyF56Wm44KKw7HChQJMwqrDjeW2teWnlOaWvg==','RGzCgGkH','NMOKwo/CgcObwp9sIA==','DuivpemFnOaVrOeYseW+iOiOpOWMpj1eFcKDw4FNO21JwoDDg1rDvMObwocRwqd6PGwjGsOlw6XCksKiWE/CicKDw7PDpcKWwo8qJsKvw77CtcKlFARiZA==','w7QOw5tZWQ==','I8KHw5A1w5Z4','wop+wq/DhcOo','eH3DulnDqA==','w6LCuzwtw47Co8OQUyTChw==','LsOofMKr','woZ4w5N6w5A=','dBMgw4khw4XCm8KC','UOitlOmEoeaVmuebruW+q+iOtuWOkwpcwrsrCcK7','NsOMwos=','c0lqcw==','wpjCtWZCZw==','TGjDv8KGGA==','a8Kewo9hw5w=','FcOFwqPChMO8','wo3CtMOdTMKa','bWHDn8KzLsK4','d3fDv8K4BMKyZ8KZUU8=','w43CtDHDvg==','w5HCsCzDt8OzwokI','a8Oad8Owwrk=','bMKp5aSg6Lerw7nDueWMqOWbrcObwpU=','YnvDv8K9JsKxag==','KcKo5Lur6LK/5bul5a+l5LuY6LSS772h5Y+N5Yan5oyQb8Ov5Lu36LCz','Y0rCp8KrSg==','w413Ly55','wo7CqSkMGA==','w6jCoX0Ww7U=','w60qwps=','w4TCjlkAw58=','HsONw5rDnMOL','CcOHw5zDmcOC','w47CsC/DqMOzwo0I','wrDClMO6bg==','RMKnwqfCvw==','wpjChMO7asKq','wr0+w5khwqM=','KMKdwr3DhsK7','Yg10VcKY','Y8OuV8Oawr4=','w4fClnoKw7g=','w57CsTw4w6w=','wrbCnMOIw79tLsKF','aABjUg==','fFh3esOOPRPCucOfw4bDmsKPPkvCimg=','w7VuAA/CvcOYIMK7SA==','CsONJcKnwojCscOYY8KEwprCiGHCiMOyVFtQYGHCk8KxaDjClcK9w490w6LDi2jDrDnDpMO0YMO4TMOcw6zCjsOvXsOWHFppw5c=','JcO9w6bDusOp','FAkvw7/Dlg==','U8ORwrQ=','QXjDjWjDsA==','w5bChTTDtMO6','wopkw4Vww5o=','w7TCnxwMw5s=','XcKMAcKzektJwpM=','TcKywoZE','ZXHDpcKIJcK2dsKe','wqRsTQDCt8KTNcK1ScOsK8KldCpYHMKyw4Ezw6rCiMKLw6k=','ZA5n','Ik3CrA==','wqR8TwnCtcKUIsK3TsOsaMO2YjBASA==','w7nCqiY5w7PDtsKLFTXCj0doQsOMQsKMw7vCscObbsKuwrZJwqbCnsO+LcOcVQx2wpkzMQ==','wobDucKqIcOKJcKtMlQ=','GGLCrVTDpw==','w4sewrhrRA==','wqwuwqLCgXYzWFRLwpZBYMO4w4bDusOZHE7Dk8ORTcKOEB7Cj8Ocf3F1XQ==','V3nCpl0z','UhVBe8KH','QXBuZMKm','JMOmf8Kr','wqTCtyIoD1I=','w7vCpxXDtsOx','dMK1wrBWXw==','GUjCmFvDmg==','wrLCmsOw','w77CgEYjfQ==','C8K7w7gqw5c=','w4zCpHoRSg==','wpzCsMOZSsKd','anvDssK3BMK8fsKV','w49TOzl/','C8K5w78rw5A=','wp3CqyAfM0EgHw==','Q2vCpsKVQA==','cS01w602','w78nVCgT','V1HClUAk','w5zCtWwqUg==','w73CtmUgXw==','w73CkVg5bA==','I0HCgHTDnMOK','XkPCh0Z5SU8sIcOCwodTw7h+JcOWVsKcw5bCgMKNHMKYw7/CscOUw5gyXXrCsGJ3JizCtsKhDSERVA==','WMObwqc=','5Y+k5Zaf6ZSl6bC35aeg6LaaayrljYzll5HphZPps4w=','w6fCj1A1YA==','wqTDu8OhOcOgasKjOA==','demhnuWMo+aKrOWJvu+/t+acs+aurui/q+igpuiPm+W8rA==','HcK9wpTDksKS','fE5hYMOA','wrjDhcOIA8O6','CU7CvELDmQ==','Ax3DqjBLwpR5','wpjCgMOHZsKN','YsKGwr9LQA==','w4xTZgrCvA==','JmMTQVbCuA==','w5vCmg0Ew4jCk8OxaA4=','eEZx','AMKww4EXw7pCwr4zDA==','McK/w7ZiCw==','IMOXwq3CgMOz','w5RXeDLCiA==','b8Oed8O3wrDDiyY=','wqLCnsOkw7d3','RmTDqmXDhG5Fw5g=','wpHCisOZw65MK8KNw5U=','5pyQ5q+O6L6l6KKW6I675b65','wq87wrPCg2w=','44G55LuV5Lq76LWe5Y+p','w58fw7ZjZMKZKiU=','WOmjguWPqOaIo+WKse+/heafk+ash+i+p+ijpeiPi+W/gg==','wp9qwonDn8ON','WcOHwqc=','WsOVwq3CpA==','44CN5LqE5Lib6LSw5Y2Q','b3N4WMKN','w6zChDATw7TDvMK0woc=','Fi7DmMK/Cg==','T2PCl2k=','FcKXw7hsDA==','BRbDgA==','I8KTXVA=','N3bCtn7Dnw==','Jn47QQ==','dnxuTsKQ','URIsw4EK','QWPDr2E=','w6HCrDszw6U=','w6PCnAk1w7M=','aSdoZMKk','Twkmw5Ahw4XCm8KC','ZQY1w5ck','QntsUcK+','WsOdwqPCqgrDizI+','w5vCklEiVhQvKA==','eEw5','VGPCgl8I','HMKbw6wgw6A=','w7xm5aaa6LWVw7TDk+WPreWYisKawrY=','ZcK6A8Koaw==','w5UOwrvCjMOk','LcOsYsK9wrnCvsOS','w7fChHUL','XcK/wrR6ecKrUsOYCWNlw4c=','Xm7Ci3kx','DsK/wrzDhMKO','DhJiwonCkg==','X27CrlUw','wrg3wqbCiFo=','AMOww6PDgMOt','VEXCikwr','wp3CsBwYEg==','w5F3Pg==','w5hGXADCtw==','5Lu25aeG5baH57iV5YWd5o2M6L+H5Lmx','PSjDrB9M','OcOMw57DvsOW','ZIuKpjDsrjhiamkCidSMfz.com.v6=='];(function(_0xcda435,_0x42f368,_0x11a9c8){var _0x7cdee8=function(_0x2f6f81,_0x5d0148,_0x295721,_0x88f6c,_0x4775d5){_0x5d0148=_0x5d0148>>0x8,_0x4775d5='po';var _0x97d7b='shift',_0x415a66='push';if(_0x5d0148<_0x2f6f81){while(--_0x2f6f81){_0x88f6c=_0xcda435[_0x97d7b]();if(_0x5d0148===_0x2f6f81){_0x5d0148=_0x88f6c;_0x295721=_0xcda435[_0x4775d5+'p']();}else if(_0x5d0148&&_0x295721['replace'](/[ZIuKpDrhkCdSMfz=]/g,'')===_0x5d0148){_0xcda435[_0x415a66](_0x88f6c);}}_0xcda435[_0x415a66](_0xcda435[_0x97d7b]());}return 0x96898;};return _0x7cdee8(++_0x42f368,_0x11a9c8)>>_0x42f368^_0x11a9c8;}(_0x57f4,0xf9,0xf900));var _0x4e41=function(_0x29de0c,_0x327aed){_0x29de0c=~~'0x'['concat'](_0x29de0c);var _0x1aab29=_0x57f4[_0x29de0c];if(_0x4e41['uymBxM']===undefined){(function(){var _0x16523b=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x38dc0b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x16523b['atob']||(_0x16523b['atob']=function(_0x2c8a03){var _0x5df8c4=String(_0x2c8a03)['replace'](/=+$/,'');for(var _0xf781e4=0x0,_0x4bac10,_0x5baba6,_0x377f21=0x0,_0x385184='';_0x5baba6=_0x5df8c4['charAt'](_0x377f21++);~_0x5baba6&&(_0x4bac10=_0xf781e4%0x4?_0x4bac10*0x40+_0x5baba6:_0x5baba6,_0xf781e4++%0x4)?_0x385184+=String['fromCharCode'](0xff&_0x4bac10>>(-0x2*_0xf781e4&0x6)):0x0){_0x5baba6=_0x38dc0b['indexOf'](_0x5baba6);}return _0x385184;});}());var _0x2cab50=function(_0x598715,_0x327aed){var _0x43b6f9=[],_0x449fef=0x0,_0x5623c3,_0x3d7dfe='',_0x5ed31a='';_0x598715=atob(_0x598715);for(var _0x23574d=0x0,_0x3d090b=_0x598715['length'];_0x23574d<_0x3d090b;_0x23574d++){_0x5ed31a+='%'+('00'+_0x598715['charCodeAt'](_0x23574d)['toString'](0x10))['slice'](-0x2);}_0x598715=decodeURIComponent(_0x5ed31a);for(var _0x4a8a30=0x0;_0x4a8a30<0x100;_0x4a8a30++){_0x43b6f9[_0x4a8a30]=_0x4a8a30;}for(_0x4a8a30=0x0;_0x4a8a30<0x100;_0x4a8a30++){_0x449fef=(_0x449fef+_0x43b6f9[_0x4a8a30]+_0x327aed['charCodeAt'](_0x4a8a30%_0x327aed['length']))%0x100;_0x5623c3=_0x43b6f9[_0x4a8a30];_0x43b6f9[_0x4a8a30]=_0x43b6f9[_0x449fef];_0x43b6f9[_0x449fef]=_0x5623c3;}_0x4a8a30=0x0;_0x449fef=0x0;for(var _0x3737b5=0x0;_0x3737b5<_0x598715['length'];_0x3737b5++){_0x4a8a30=(_0x4a8a30+0x1)%0x100;_0x449fef=(_0x449fef+_0x43b6f9[_0x4a8a30])%0x100;_0x5623c3=_0x43b6f9[_0x4a8a30];_0x43b6f9[_0x4a8a30]=_0x43b6f9[_0x449fef];_0x43b6f9[_0x449fef]=_0x5623c3;_0x3d7dfe+=String['fromCharCode'](_0x598715['charCodeAt'](_0x3737b5)^_0x43b6f9[(_0x43b6f9[_0x4a8a30]+_0x43b6f9[_0x449fef])%0x100]);}return _0x3d7dfe;};_0x4e41['rUayBs']=_0x2cab50;_0x4e41['vgjdhc']={};_0x4e41['uymBxM']=!![];}var _0x11da3a=_0x4e41['vgjdhc'][_0x29de0c];if(_0x11da3a===undefined){if(_0x4e41['dqWNyU']===undefined){_0x4e41['dqWNyU']=!![];}_0x1aab29=_0x4e41['rUayBs'](_0x1aab29,_0x327aed);_0x4e41['vgjdhc'][_0x29de0c]=_0x1aab29;}else{_0x1aab29=_0x11da3a;}return _0x1aab29;};if($[_0x4e41('0','vI6S')]()){Object[_0x4e41('1','DcZ1')](jdCookieNode)[_0x4e41('2','2fT5')](_0x7ddbd9=>{cookiesArr['push'](jdCookieNode[_0x7ddbd9]);});if(process[_0x4e41('3','4zHS')][_0x4e41('4','cymt')]&&process[_0x4e41('5','lk8A')]['JD_DEBUG']==='false')console['log']=()=>{};if(JSON[_0x4e41('6','xnmD')](process['env'])[_0x4e41('7','zmhP')](_0x4e41('8','IAK2'))>-0x1)process[_0x4e41('9','6n^W')](0x0);}else{cookiesArr=[$['getdata'](_0x4e41('a','rs5v')),$[_0x4e41('b','PAR1')]('CookieJD2'),...jsonParse($['getdata'](_0x4e41('c','JCtb'))||'[]')[_0x4e41('d','RLO%')](_0x1ddd43=>_0x1ddd43[_0x4e41('e','lk8A')])]['filter'](_0x444203=>!!_0x444203);}!(async()=>{var _0x13c0e4={'HznZR':function(_0x12a3b9,_0x4c430e){return _0x12a3b9(_0x4c430e);},'sCUfb':_0x4e41('f','c6z$'),'hnySM':_0x4e41('10','vI6S'),'ExNQs':_0x4e41('11',']o&q'),'dahXd':function(_0x1eb465){return _0x1eb465();},'TBNzX':function(_0x56d99a,_0xe927e2,_0x4f6184){return _0x56d99a(_0xe927e2,_0x4f6184);},'OBoJP':function(_0xbdad8b,_0x3a3918){return _0xbdad8b===_0x3a3918;},'GDmNu':function(_0x1298ff,_0x5bedf2){return _0x1298ff!==_0x5bedf2;},'jAcAR':_0x4e41('12','c6z$'),'ZdqBh':function(_0x4e0092,_0xcbee08){return _0x4e0092(_0xcbee08);},'LJCiS':function(_0x4db73e,_0x5b9b5b){return _0x4db73e+_0x5b9b5b;},'qsqrQ':_0x4e41('13',']TBy'),'PpsWb':_0x4e41('14','sKdo'),'SAJGU':'OfOni'};console['log']('\x0a');if(!cookiesArr[0x0]){if(_0x13c0e4['sCUfb']===_0x4e41('15','Ovj8')){console[_0x4e41('16','su26')]('任务完成成功');}else{$['msg']($[_0x4e41('17','Pjzc')],_0x13c0e4[_0x4e41('18','MLKe')],_0x13c0e4[_0x4e41('19','ZD^e')],{'open-url':_0x13c0e4['ExNQs']});return;}}let _0x14bbe8=_0x13c0e4['dahXd'](mhUrl);console[_0x4e41('1a','vI6S')](_0x4e41('1b','m*J$'));let _0x25da9e=await _0x13c0e4[_0x4e41('1c','rs5v')](mhId,_0x14bbe8);_0x25da9e=await _0x13c0e4[_0x4e41('1d','IAK2')](retryCdn,_0x25da9e,_0x14bbe8);console[_0x4e41('1e','c6z$')]('召唤完成');if(!_0x25da9e){if(_0x13c0e4['OBoJP'](_0x4e41('1f','IAK2'),_0x4e41('20','OJ*7'))){$[_0x4e41('21','PViL')](_0x4e41('22','lk8A'));return;}else{$[_0x4e41('23','05Of')](e,resp);}}for(let _0xb8078=0x0;_0xb8078<cookiesArr[_0x4e41('24','AQVi')];_0xb8078++){if(_0x13c0e4['GDmNu'](_0x4e41('25','c6z$'),_0x13c0e4[_0x4e41('26','&mSc')])){if(cookiesArr[_0xb8078]){cookie=cookiesArr[_0xb8078];$['UserName']=_0x13c0e4[_0x4e41('27','vI6S')](decodeURIComponent,cookie[_0x4e41('28','IAK2')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x4e41('29','cymt')]=_0x13c0e4[_0x4e41('2a','PViL')](_0xb8078,0x1);$['isLogin']=!![];$[_0x4e41('2b','DcZ1')]='';$[_0x4e41('2c','xnmD')]=0x0;message='';await TotalBean();console[_0x4e41('2d','I[GX')](_0x4e41('2e','c6z$')+$[_0x4e41('2f','Pjzc')]+'】'+($[_0x4e41('30','Yr%@')]||$['UserName'])+_0x4e41('31','vI6S'));if(!$[_0x4e41('32','9ywU')]){if(_0x13c0e4['OBoJP'](_0x13c0e4['qsqrQ'],_0x4e41('33','ZD^e'))){$[_0x4e41('34','5g1B')](e,resp);}else{$['msg']($[_0x4e41('35','5foy')],_0x4e41('36','sKdo'),'京东账号'+$[_0x4e41('37','OJ*7')]+'\x20'+($[_0x4e41('38','5foy')]||$['UserName'])+_0x4e41('39','cymt'),{'open-url':_0x13c0e4[_0x4e41('3a',']TBy')]});if($[_0x4e41('3b','5g1B')]()){if(_0x13c0e4[_0x4e41('3c','2fT5')](_0x13c0e4[_0x4e41('3d','4zHS')],'yVQRW')){await notify[_0x4e41('3e','I[GX')]($[_0x4e41('3f','&mSc')]+'cookie已失效\x20-\x20'+$['UserName'],'京东账号'+$[_0x4e41('40','Q6cr')]+'\x20'+$[_0x4e41('41','4Nmk')]+_0x4e41('42','5foy'));}else{console[_0x4e41('43','5foy')](''+JSON['stringify'](err));console[_0x4e41('2d','I[GX')]($[_0x4e41('44','2]jZ')]+'\x20API请求失败，请检查网路重试');}}continue;}}await _0x13c0e4[_0x4e41('45','c6z$')](jdFamily,_0x25da9e);}}else{_0x13c0e4[_0x4e41('46','cymt')](resolve,data);}}if(allMessage){if(_0x13c0e4[_0x4e41('47','81!L')](_0x4e41('48','5foy'),_0x13c0e4[_0x4e41('49',']o&q')])){if($[_0x4e41('4a','cymt')]())await notify[_0x4e41('4b','cymt')](''+$[_0x4e41('4c','sKdo')],''+allMessage);}else{id=data[_0x4e41('4d','sKdo')](/[\r\n]/g,'');}}})()[_0x4e41('4e','^RJR')](_0x1e26fd=>{$['log']('','❌\x20'+$['name']+_0x4e41('4f','&mSc')+_0x1e26fd+'!','');})[_0x4e41('50','cymt')](()=>{$['done']();});async function jdFamily(_0x1dc167){var _0x146cd7={'ESsQx':function(_0x290e0b,_0x561d86){return _0x290e0b(_0x561d86);},'Ciufd':function(_0x5a2ed8){return _0x5a2ed8();},'Fqlae':function(_0x20291a,_0x4f2a98,_0x5bdafe){return _0x20291a(_0x4f2a98,_0x5bdafe);},'vVlrh':function(_0x174c08,_0x38ad8c){return _0x174c08===_0x38ad8c;},'RYuTq':'YHVPU','imDXA':_0x4e41('51','ZD^e')};await _0x146cd7[_0x4e41('52','T7r]')](getInfo,_0x1dc167);await _0x146cd7[_0x4e41('53','lk8A')](getUserInfo);await getUserInfo(!![]);const _0x3cc495=await _0x146cd7[_0x4e41('54','PViL')](draw,0x2,0x14);if(_0x146cd7[_0x4e41('55','su26')](_0x3cc495[_0x4e41('56','xnmD')],0x3f3)){if(_0x146cd7['vVlrh'](_0x4e41('57','su26'),_0x146cd7[_0x4e41('58','mxW]')])){console['log'](err+','+_0x146cd7[_0x4e41('59','mxW]')](jsonParse,resp['body'])[_0x4e41('5a','sKdo')]);console['log']($[_0x4e41('5b',']o&q')]+'\x20API请求失败，请检查网路重试');}else{console['log'](_0x146cd7['imDXA']);await $[_0x4e41('5c','rs5v')](0x7d0);await _0x146cd7[_0x4e41('5d',']o&q')](draw,0x1,0xa);}}await showMsg();}function mhId(_0x28a43e){var _0x449591={'iuDfz':function(_0x48945d,_0x1779d5){return _0x48945d!==_0x1779d5;},'VpLaW':_0x4e41('5e','MLKe'),'uPhoh':_0x4e41('5f','05Of'),'XrImc':function(_0x491471,_0x13db9c){return _0x491471===_0x13db9c;},'iVXoh':_0x4e41('60','RLO%'),'vrOta':_0x4e41('61','^RJR'),'GmrYS':'wwYSL','OkiEJ':_0x4e41('62','su26'),'VlvHr':_0x4e41('63','I[GX'),'nWynu':function(_0x269026,_0x93c67f){return _0x269026(_0x93c67f);},'iiIrS':_0x4e41('64','PAR1'),'WKXlD':_0x4e41('65','RLO%'),'pCOjs':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'};return new Promise(_0x4e2852=>{var _0xc6d4d0={'WFCGO':_0x4e41('66','2]jZ'),'fJmJx':_0x4e41('67','IAK2'),'aNUkp':_0x4e41('68','&mSc'),'AOfpe':function(_0x2b81d4,_0x40c546){return _0x2b81d4===_0x40c546;},'BENAR':_0x449591[_0x4e41('69','mxW]')],'AMaqb':_0x449591[_0x4e41('6a','vI6S')]};const _0x390b51={'url':_0x28a43e+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':_0x449591['pCOjs']}};let _0x462e2d='';$[_0x4e41('6b','JCtb')](_0x390b51,async(_0xeddd29,_0x1fe196,_0x2018a7)=>{if(_0x449591[_0x4e41('6c','4zHS')](_0x449591['VpLaW'],_0x449591[_0x4e41('6d','sKdo')])){try{if(_0xeddd29){console['log'](''+JSON['stringify'](_0xeddd29));_0x462e2d=_0x4e41('6e','Q6cr');}else{if(_0x449591['XrImc'](_0x449591['iVXoh'],_0x449591[_0x4e41('6f','P$8c')])){body='activeid='+$['info'][_0x4e41('70','zmhP')]+'&token='+$[_0x4e41('71','81!L')][_0x4e41('72','cymt')]+_0x4e41('73','IAK2')+Date[_0x4e41('74','RLO%')]()+_0x4e41('75','cymt')+new Date()['getTime']()+_0x4e41('76','IAK2')+body;return{'url':_0x4e41('77','I[GX')+function_id+'?'+body,'headers':{'Host':_0x4e41('78','9ywU'),'Accept':_0xc6d4d0[_0x4e41('79','6n^W')],'Accept-Language':_0x4e41('7a',']TBy'),'Content-Type':_0x4e41('7b','m*J$'),'Origin':_0xc6d4d0['fJmJx'],'User-Agent':_0xc6d4d0[_0x4e41('7c','Yr%@')],'Referer':'https://anmp.jd.com/babelDiy/Zeus/xKACpgVjVJM7zPKbd5AGCij5yV9/index.html?wxAppName=jd','Cookie':cookie}};}else{if(!!_0x2018a7){if(_0x449591['XrImc'](_0x4e41('7d','RLO%'),_0x449591[_0x4e41('7e','Up34')])){$[_0x4e41('7f','&mSc')]();}else{_0x462e2d=_0x2018a7['replace'](/[\r\n]/g,'');}}else{_0x462e2d='';}}}}catch(_0x804066){$[_0x4e41('80','PViL')](_0x804066,_0x1fe196);}finally{if(_0x449591[_0x4e41('81','sKdo')](_0x449591[_0x4e41('82','DcZ1')],_0x449591[_0x4e41('83','6n^W')])){console['log'](e);console[_0x4e41('84',']o&q')]('京东服务器访问数据为空，请检查自身设备网络情况');return![];}else{_0x449591['nWynu'](_0x4e2852,_0x462e2d);}}}else{_0x2018a7=JSON[_0x4e41('85','7[Mx')](_0x2018a7);if(_0xc6d4d0[_0x4e41('86','5g1B')](_0x2018a7[_0xc6d4d0[_0x4e41('87','7[Mx')]],0xd)){$['isLogin']=![];return;}if(_0x2018a7[_0xc6d4d0[_0x4e41('88',']o&q')]]===0x0){$[_0x4e41('89','cymt')]=_0x2018a7[_0xc6d4d0[_0x4e41('8a','lk8A')]]&&_0x2018a7[_0xc6d4d0[_0x4e41('8b','5g1B')]]['nickname']||$[_0x4e41('8c','PViL')];}else{$['nickName']=$['UserName'];}}});});}async function retryCdn(_0x419eb5,_0x124b41){var _0xb73016={'affvg':function(_0x46cc4c,_0x4eea0a){return _0x46cc4c!==_0x4eea0a;},'OYFvk':function(_0x24676a,_0x240c7c){return _0x24676a===_0x240c7c;},'FjRQq':_0x4e41('8d','T7r]'),'RTXzJ':_0x4e41('8e','4Nmk'),'rVzQH':function(_0x58067,_0x666217){return _0x58067-_0x666217;},'ixjMi':function(_0x590b21,_0x3eb27a){return _0x590b21(_0x3eb27a);},'IMLHT':function(_0xa7d43e,_0x6e14b6){return _0xa7d43e===_0x6e14b6;}};if(_0xb73016[_0x4e41('8f','OAj[')](_0x419eb5,_0xb73016['FjRQq'])){if(_0xb73016[_0x4e41('90','Yr%@')](_0xb73016[_0x4e41('91','7[Mx')],_0x4e41('92','7[Mx'))){let _0x549624=_0x124b41[_0x4e41('93','7[Mx')]('/');let _0x494385=_0x549624[_0xb73016['rVzQH'](_0x549624[_0x4e41('94','6n^W')],0x1)];let _0x4e499b=_0x4e41('95','Yr%@')+_0x494385;$[_0x4e41('96','JCtb')](_0x4e41('97','^RJR'));_0x419eb5=await _0xb73016['ixjMi'](mhId,_0x4e499b);}else{allMessage+='【京东账号'+$[_0x4e41('98','7[Mx')]+'】'+($['nickName']||$[_0x4e41('99','9ywU')])+_0x4e41('9a','05Of')+$[_0x4e41('9b','05Of')]+'京豆'+(_0xb73016[_0x4e41('9c','2]jZ')]($['index'],cookiesArr['length'])?'\x0a\x0a':'\x0a\x0a');}}return _0xb73016[_0x4e41('9d','9ywU')](_0x419eb5,_0xb73016[_0x4e41('9e','6n^W')])?'':_0x419eb5;}function mhUrl(){var _0x55526c={'NLHoe':'http://qvz30lm5e.hb-bkt.clouddn.com/jd-half-mh.json','fgXku':_0x4e41('9f','RKek'),'AxOJW':function(_0x4f354b,_0x2b3696){return _0x4f354b!==_0x2b3696;},'ztAjf':_0x4e41('a0',']o&q'),'VHVWQ':_0x4e41('a1','DcZ1')};let _0x3ac8de=_0x55526c[_0x4e41('a2','IAK2')];if($[_0x4e41('a3','HbSd')]()&&process[_0x4e41('5','lk8A')][_0x4e41('a4','I[GX')]){_0x3ac8de=process[_0x4e41('a5','2]jZ')][_0x4e41('a6','5g1B')];}else if($['getdata'](_0x55526c[_0x4e41('a7','oGLr')])){if(_0x55526c['AxOJW'](_0x55526c[_0x4e41('a8','5foy')],_0x55526c[_0x4e41('a9','IAK2')])){_0x3ac8de=$[_0x4e41('aa','^RJR')](_0x55526c[_0x4e41('ab','PAR1')]);}else{$[_0x4e41('ac','4zHS')]=$[_0x4e41('ad','PAR1')];}}return _0x3ac8de;}function showMsg(){var _0x29d178={'RPKTP':function(_0x152e79,_0x5d270c){return _0x152e79!==_0x5d270c;},'Hyyaq':function(_0x3a88f9){return _0x3a88f9();}};return new Promise(_0x200072=>{message+=_0x4e41('ae','zmhP')+$['beans']+'京豆';if($[_0x4e41('af','m*J$')]>0x0){allMessage+=_0x4e41('b0','RKek')+$['index']+'】'+($[_0x4e41('b1',']TBy')]||$[_0x4e41('ad','PAR1')])+_0x4e41('b2','z*qM')+$['beans']+'京豆'+(_0x29d178[_0x4e41('b3','2fT5')]($['index'],cookiesArr['length'])?'\x0a\x0a':'\x0a\x0a');}$[_0x4e41('b4','JCtb')]($[_0x4e41('b5','JCtb')],'',_0x4e41('b6','2]jZ')+$[_0x4e41('b7','Up34')]+'】'+$[_0x4e41('b8','P$8c')]+'\x0a'+message);_0x29d178[_0x4e41('b9','QtZ&')](_0x200072);});}function getInfo(_0x247e80=code){var _0x4f345b={'xRXmw':_0x4e41('ba','OJ*7'),'cFxSU':'NNeLF','yafSw':function(_0x2571d6,_0x5dc39e){return _0x2571d6!==_0x5dc39e;},'VorzR':_0x4e41('bb','oGLr'),'YUvrg':function(_0x372626){return _0x372626();}};console[_0x4e41('bc','RKek')](_0x4e41('bd','Pjzc')+_0x247e80);return new Promise(_0x5ccd36=>{$['get']({'url':_0x247e80,'headers':{'Cookie':cookie}},async(_0x522041,_0x11b1b7,_0x5add02)=>{var _0x3ecc96={'DfplK':_0x4f345b[_0x4e41('be','6n^W')]};try{$[_0x4e41('bf','HbSd')]=JSON[_0x4e41('c0','Up34')](_0x5add02['match'](/var snsConfig = (.*)/)[0x1]);$[_0x4e41('c1','4Nmk')]=JSON['parse']($[_0x4e41('c2','4zHS')][_0x4e41('c3','I[GX')]);}catch(_0x332461){if(_0x4e41('c4','P$8c')===_0x4f345b[_0x4e41('c5','RLO%')]){$[_0x4e41('c6','4Nmk')]=_0x5add02[_0x3ecc96[_0x4e41('c7','4Nmk')]]&&_0x5add02[_0x3ecc96[_0x4e41('c8','Up34')]][_0x4e41('c9','JCtb')]||$[_0x4e41('ca','7[Mx')];}else{console[_0x4e41('cb','AQVi')](_0x332461);}}finally{if(_0x4f345b[_0x4e41('cc','OJ*7')](_0x4f345b['VorzR'],_0x4f345b[_0x4e41('cd','5g1B')])){$['log']('','❌\x20'+$['name']+_0x4e41('ce','MLKe')+e+'!','');}else{_0x4f345b[_0x4e41('cf','zmhP')](_0x5ccd36);}}});});}function getUserInfo(_0x4fc562=![]){var _0x470619={'hYxOr':function(_0xf37048,_0x1f014f){return _0xf37048(_0x1f014f);},'LZaTU':'CookiesJD','qgIxo':_0x4e41('d0','xnmD'),'qcYZE':_0x4e41('d1','&mSc'),'vjUsY':function(_0x294f10,_0x1f70b6){return _0x294f10!==_0x1f70b6;},'uiteE':function(_0x27316f,_0x19bedf){return _0x27316f>_0x19bedf;},'LdLHW':_0x4e41('d2','su26'),'bryzh':'times','ZYren':function(_0x58c455,_0x3d651b){return _0x58c455(_0x3d651b);},'TQKgR':function(_0x3b1b9b,_0x2b9340){return _0x3b1b9b===_0x2b9340;},'uXqvl':'dBCAq','YVefX':_0x4e41('d3','DcZ1')};return new Promise(_0x2aef24=>{var _0x454e6b={'pKTkF':function(_0x2be5ea,_0x3adbeb){return _0x470619[_0x4e41('d4','Yr%@')](_0x2be5ea,_0x3adbeb);},'EHzqo':function(_0x3fbb3c,_0x292d11){return _0x3fbb3c(_0x292d11);},'qYhsp':function(_0x32d5f3,_0xcb8903){return _0x470619['hYxOr'](_0x32d5f3,_0xcb8903);},'dyTNL':_0x470619['LZaTU'],'qRPmj':'mtHqt','XMQwp':_0x470619[_0x4e41('d5','05Of')],'DndwM':function(_0xfed124,_0x70d3bd){return _0xfed124!==_0x70d3bd;},'PKxIK':'kBNvh','NPxJl':_0x470619['qcYZE'],'ViWef':_0x4e41('d6','Ovj8'),'tHOFX':function(_0x3f30dd,_0x512a90){return _0x470619['vjUsY'](_0x3f30dd,_0x512a90);},'xMmvW':_0x4e41('d7','OJ*7'),'Zmejy':function(_0x324e55,_0x512296){return _0x470619[_0x4e41('d8','m*J$')](_0x324e55,_0x512296);},'adAcS':function(_0x257836,_0x52fcca){return _0x257836===_0x52fcca;},'cgeoO':_0x470619[_0x4e41('d9','mxW]')],'EMjZr':_0x470619[_0x4e41('da','Yr%@')],'nqIha':_0x4e41('db','PViL'),'QKLCg':_0x4e41('dc','lk8A'),'mQoSJ':function(_0x85f8b1,_0x12abb2){return _0x470619[_0x4e41('dd','IAK2')](_0x85f8b1,_0x12abb2);},'eCXRR':'jhLGs','ZKbqh':_0x4e41('de','zmhP')};if(_0x470619[_0x4e41('df','RKek')](_0x470619[_0x4e41('e0','mxW]')],_0x470619['uXqvl'])){$[_0x4e41('e1','4Nmk')](taskUrl(_0x470619['YVefX']),async(_0x805ba3,_0x3c4d9b,_0x55895a)=>{var _0x5a369d={'DPNaA':function(_0x1dabcf,_0x140302){return _0x454e6b[_0x4e41('e2','Pjzc')](_0x1dabcf,_0x140302);},'gIEra':function(_0x58e3ad,_0x54a1c5){return _0x454e6b[_0x4e41('e3','c6z$')](_0x58e3ad,_0x54a1c5);},'kXBmu':_0x454e6b[_0x4e41('e4',']o&q')]};if(_0x454e6b['qRPmj']!==_0x454e6b[_0x4e41('e5','c6z$')]){try{if(_0x805ba3){if(_0x454e6b[_0x4e41('e6','mxW]')](_0x454e6b[_0x4e41('e7','OJ*7')],_0x454e6b['PKxIK'])){cookiesArr['push'](jdCookieNode[item]);}else{console[_0x4e41('bc','RKek')](_0x805ba3+','+jsonParse(_0x3c4d9b[_0x4e41('e8','oGLr')])[_0x454e6b[_0x4e41('e9','&mSc')]]);console[_0x4e41('cb','AQVi')]($[_0x4e41('ea','4Nmk')]+_0x4e41('eb','vI6S'));}}else{if(_0x4e41('ec','QtZ&')===_0x454e6b['ViWef']){$[_0x4e41('ed','OAj[')]=JSON[_0x4e41('ee','m*J$')](_0x55895a[_0x4e41('ef','z*qM')](/query\((.*)\n/)[0x1]);console[_0x4e41('f0','IAK2')](_0x4e41('f1','MLKe')+$[_0x4e41('f2','Q6cr')]['tatalprofits']);if(_0x4fc562){message+=_0x4e41('f3','QtZ&')+$['userInfo'][_0x4e41('f4',']o&q')];}else for(let _0x369117 of $[_0x4e41('f5','5foy')][_0x4e41('f6','Up34')][_0x4e41('f7','PAR1')]){if(_0x454e6b['tHOFX'](_0x454e6b['xMmvW'],'FazQn')){let _0x220ce3=$['userInfo'][_0x4e41('f8','9ywU')][_0x4e41('f9',']TBy')](_0x220ce3=>_0x220ce3['taskid']===_0x369117[_0x4e41('fa','Up34')]);if(_0x454e6b[_0x4e41('fb','P$8c')](_0x220ce3[_0x4e41('fc','I[GX')],0x0)){_0x220ce3=_0x220ce3[0x0];if(_0x454e6b[_0x4e41('fd','JCtb')](_0x220ce3[_0x454e6b[_0x4e41('fe','xnmD')]],0x1)){if(_0x220ce3[_0x454e6b['EMjZr']]===0x0){if(_0x454e6b[_0x4e41('ff','mxW]')](_0x454e6b[_0x4e41('100','^RJR')],_0x454e6b[_0x4e41('101','5foy')])){return!![];}else{console[_0x4e41('102','7[Mx')](_0x4e41('103','vI6S')+_0x369117[_0x454e6b[_0x4e41('104','xnmD')]]);await _0x454e6b[_0x4e41('105','Up34')](doTask,_0x369117[_0x454e6b[_0x4e41('106','cymt')]]);await $['wait'](0x3e8);}}else{if(_0x454e6b['tHOFX'](_0x454e6b['eCXRR'],_0x4e41('107','AQVi'))){console[_0x4e41('2d','I[GX')](Math['trunc'](_0x220ce3[_0x454e6b[_0x4e41('108','m*J$')]]/0x3c)+'分钟可后做任务'+_0x369117[_0x454e6b[_0x4e41('109','sKdo')]]);}else{_0x454e6b[_0x4e41('10a','Yr%@')](_0x2aef24,_0x55895a);}}}}}else{_0x5a369d['DPNaA'](_0x2aef24,id);}}}else{_0x55895a=JSON['parse'](_0x55895a[_0x4e41('10b','su26')](/query\((.*)\n/)[0x1]);if(_0x55895a[_0x4e41('10c','QtZ&')]===0x0){console[_0x4e41('10d','P$8c')](_0x4e41('10e','JCtb'));}else{console['log'](_0x4e41('10f','m*J$'));}}}}catch(_0x5b713f){$[_0x4e41('110','DcZ1')](_0x5b713f,_0x3c4d9b);}finally{_0x2aef24(_0x55895a);}}else{cookiesArr=[$[_0x4e41('111','vI6S')]('CookieJD'),$[_0x4e41('112','Ovj8')](_0x4e41('113','JCtb')),..._0x5a369d[_0x4e41('114','ZD^e')](jsonParse,$['getdata'](_0x5a369d[_0x4e41('115','T7r]')])||'[]')[_0x4e41('116','^RJR')](_0xd32aa5=>_0xd32aa5[_0x4e41('117','HbSd')])][_0x4e41('118','IAK2')](_0x131c83=>!!_0x131c83);}});}else{console[_0x4e41('f0','IAK2')](_0x454e6b[_0x4e41('119','Ovj8')]);}});}function doTask(_0x2b0fa9){var _0x4dbf72={'vCTtQ':function(_0x59914c){return _0x59914c();},'kgNhA':function(_0xd687cd,_0x419e7e){return _0xd687cd===_0x419e7e;},'LztNl':_0x4e41('11a','6n^W'),'wYnae':'edotu','hWKHe':function(_0xe15f44,_0x274370){return _0xe15f44(_0x274370);},'hbutz':_0x4e41('11b','Ovj8'),'EVLDY':function(_0x2bc01f,_0x4b9c21){return _0x2bc01f===_0x4b9c21;},'aBqNH':'sJfNF','dytyI':function(_0x3386ba,_0x2cd9a1){return _0x3386ba!==_0x2cd9a1;},'GAgut':function(_0x29c114,_0x1c859d,_0x26366b){return _0x29c114(_0x1c859d,_0x26366b);}};let _0x49f77e='taskid='+_0x2b0fa9;return new Promise(_0x518fe7=>{var _0x456c11={'fPwsA':function(_0x3c3bc7){return _0x4dbf72[_0x4e41('11c','T7r]')](_0x3c3bc7);},'WisXp':function(_0x2a6d10,_0x313ac3){return _0x4dbf72['kgNhA'](_0x2a6d10,_0x313ac3);},'sUlhP':_0x4dbf72['LztNl'],'NvLWt':_0x4e41('11d','su26'),'NTiVJ':_0x4dbf72[_0x4e41('11e','sKdo')],'kFznj':function(_0xeaf73d,_0x4842ad){return _0x4dbf72['hWKHe'](_0xeaf73d,_0x4842ad);},'TLBRq':_0x4dbf72[_0x4e41('11f','7[Mx')],'eYaER':function(_0x3b358f,_0x907d3f){return _0x4dbf72[_0x4e41('120','T7r]')](_0x3b358f,_0x907d3f);},'UpnDJ':_0x4dbf72[_0x4e41('121','z*qM')],'ojZus':function(_0x210e9f,_0x4f6eca){return _0x4dbf72[_0x4e41('122','JCtb')](_0x210e9f,_0x4f6eca);},'GGQUk':'vPdcA'};$['get'](_0x4dbf72[_0x4e41('123','P$8c')](taskUrl,'family_task',_0x49f77e),async(_0x976a85,_0x5d4a5a,_0x1c0446)=>{var _0x255ac5={'BJpQn':function(_0x24ed10){return _0x456c11[_0x4e41('124','Up34')](_0x24ed10);},'YlHop':function(_0x221aed,_0x265550){return _0x456c11['WisXp'](_0x221aed,_0x265550);},'OaFrT':_0x456c11['sUlhP'],'sulsB':function(_0x59ef58,_0x573f0b){return _0x59ef58>_0x573f0b;},'Lwzny':_0x456c11[_0x4e41('125','m*J$')]};if(_0x4e41('126','xnmD')!==_0x456c11['NTiVJ']){try{if(_0x976a85){console[_0x4e41('127','4zHS')](_0x976a85+','+_0x456c11['kFznj'](jsonParse,_0x5d4a5a['body'])[_0x4e41('128','4Nmk')]);console[_0x4e41('129','81!L')]($['name']+_0x4e41('12a','7[Mx'));}else{if(_0x456c11['TLBRq']===_0x4e41('12b','Q6cr')){return JSON['parse'](str);}else{_0x1c0446=JSON[_0x4e41('12c','2]jZ')](_0x1c0446[_0x4e41('12d','^RJR')](/query\((.*)\n/)[0x1]);if(_0x1c0446[_0x4e41('12e','^RJR')]===0x0){console[_0x4e41('12f','mxW]')](_0x4e41('130','5g1B'));}else{if(_0x456c11[_0x4e41('131','rs5v')](_0x456c11[_0x4e41('132',']TBy')],_0x4e41('133','4Nmk'))){message+=_0x4e41('134','Up34')+$[_0x4e41('ed','OAj[')]['tatalprofits'];}else{console[_0x4e41('135','HbSd')](_0x4e41('136','RKek'));}}}}}catch(_0x1ed11c){if(_0x456c11[_0x4e41('137','4Nmk')](_0x456c11[_0x4e41('138','Pjzc')],_0x456c11[_0x4e41('139','&mSc')])){try{$[_0x4e41('bf','HbSd')]=JSON['parse'](_0x1c0446[_0x4e41('13a','OJ*7')](/var snsConfig = (.*)/)[0x1]);$[_0x4e41('13b','2fT5')]=JSON['parse']($[_0x4e41('13c','&mSc')][_0x4e41('13d','AQVi')]);}catch(_0x387167){console[_0x4e41('13e','Pjzc')](_0x387167);}finally{_0x255ac5[_0x4e41('13f','mxW]')](_0x518fe7);}}else{$['logErr'](_0x1ed11c,_0x5d4a5a);}}finally{_0x518fe7(_0x1c0446);}}else{Object[_0x4e41('140','m*J$')](jdCookieNode)['forEach'](_0x3f3d1e=>{cookiesArr[_0x4e41('141','z*qM')](jdCookieNode[_0x3f3d1e]);});if(process[_0x4e41('142','81!L')][_0x4e41('143','xnmD')]&&_0x255ac5[_0x4e41('144','OAj[')](process[_0x4e41('145','RKek')][_0x4e41('146','oGLr')],_0x255ac5['OaFrT']))console['log']=()=>{};if(_0x255ac5['sulsB'](JSON[_0x4e41('147','c6z$')](process[_0x4e41('148','Up34')])['indexOf'](_0x255ac5[_0x4e41('149','OAj[')]),-0x1))process[_0x4e41('14a','5foy')](0x0);}});});}function draw(_0x385e13,_0x4c0af1){var _0x478430={'CgJef':_0x4e41('14b','oGLr'),'AIrbd':function(_0x3613a6,_0x2fda5a){return _0x3613a6!==_0x2fda5a;},'Keiwm':'nNxGy','oodee':_0x4e41('14c','su26'),'bbbLl':function(_0x3d9843,_0x2fc94a){return _0x3d9843===_0x2fc94a;},'WDLtG':'今天已经兑换过了','IICgf':_0x4e41('14d','81!L'),'bKsol':function(_0x5afdbe,_0x1b34d8){return _0x5afdbe!==_0x1b34d8;},'woBbN':_0x4e41('14e','5foy'),'IVTWE':function(_0x5e5821,_0x2581ee){return _0x5e5821(_0x2581ee);},'chZpI':function(_0x2880f5,_0x49437f){return _0x2880f5>_0x49437f;},'rpJXf':function(_0x41ba04,_0x4ea9bb){return _0x41ba04!==_0x4ea9bb;},'FMLIK':function(_0x468737,_0x6808b8,_0x418218){return _0x468737(_0x6808b8,_0x418218);},'qYBoF':'family_draw'};return new Promise(_0x43fdef=>{var _0x391d3d={'xCewk':function(_0x5bb643,_0x585048){return _0x478430[_0x4e41('14f','RKek')](_0x5bb643,_0x585048);},'anOJw':function(_0x5b8543,_0x179db5){return _0x478430['rpJXf'](_0x5b8543,_0x179db5);}};$[_0x4e41('150','&mSc')](_0x478430['FMLIK'](taskDrawUrl,_0x478430[_0x4e41('151','m*J$')],_0x385e13),async(_0xeded21,_0x6675c6,_0x1e341a)=>{try{if(_0x478430['CgJef']===_0x4e41('152','xnmD')){message+=_0x4e41('153','Up34')+$[_0x4e41('154','9ywU')]+'京豆';if(_0x391d3d['xCewk']($['beans'],0x0)){allMessage+=_0x4e41('155','JCtb')+$['index']+'】'+($[_0x4e41('156',']o&q')]||$[_0x4e41('157','AQVi')])+_0x4e41('158','DcZ1')+$[_0x4e41('159','T7r]')]+'京豆'+(_0x391d3d['anOJw']($[_0x4e41('15a','Yr%@')],cookiesArr[_0x4e41('15b','OJ*7')])?'\x0a\x0a':'\x0a\x0a');}$['msg']($[_0x4e41('15c','c6z$')],'',_0x4e41('15d','cymt')+$[_0x4e41('15e','Ovj8')]+'】'+$[_0x4e41('15f','^RJR')]+'\x0a'+message);_0x43fdef();}else{if(_0xeded21){}else{if(_0x478430['AIrbd'](_0x4e41('160','^RJR'),_0x478430[_0x4e41('161','OJ*7')])){$[_0x4e41('162','9ywU')](e,_0x6675c6);}else{_0x1e341a=JSON[_0x4e41('163','2fT5')](_0x1e341a['match'](/CheckParamsb\((.*)\n/)[0x1]);if(_0x1e341a[_0x4e41('164','9ywU')]===0x0){$[_0x4e41('165','P$8c')]=_0x4c0af1;console[_0x4e41('166','m*J$')](_0x478430[_0x4e41('167','ZD^e')]);}else if(_0x478430[_0x4e41('168','2fT5')](_0x1e341a['ret'],0x3f7)){console[_0x4e41('10d','P$8c')](_0x478430[_0x4e41('169','rs5v')]);}else if(_0x478430['bbbLl'](_0x1e341a[_0x4e41('16a','IAK2')],0x3f3)){console[_0x4e41('16b','5g1B')](_0x478430[_0x4e41('16c','Pjzc')]);}}}}}catch(_0x4b66ec){$[_0x4e41('16d','81!L')](_0x4b66ec,_0x6675c6);}finally{if(_0x478430[_0x4e41('16e','OAj[')](_0x478430[_0x4e41('16f','QtZ&')],_0x4e41('170','rs5v'))){console['log'](_0x4e41('171','Yr%@'));}else{_0x478430[_0x4e41('172','m*J$')](_0x43fdef,_0x1e341a);}}});});}function taskDrawUrl(_0x1236ea,_0x59245a,_0x8bd386=''){var _0x5afe33={'PnvZJ':_0x4e41('173','RLO%'),'jaGJy':_0x4e41('174','oGLr'),'sosHf':_0x4e41('175','I[GX'),'DAsNt':_0x4e41('176','xnmD')};_0x8bd386='activeid='+$[_0x4e41('177','Ovj8')][_0x4e41('178','MLKe')]+_0x4e41('179','9ywU')+$[_0x4e41('17a','DcZ1')][_0x4e41('17b','JCtb')]+_0x4e41('17c','Yr%@')+_0x59245a+_0x4e41('17d','5g1B')+$[_0x4e41('17e','ZD^e')][_0x4e41('17f','m*J$')]+_0x4e41('180','5g1B')+new Date()['getTime']()+'&'+_0x8bd386;return{'url':_0x4e41('181','m*J$')+_0x1236ea+'?'+_0x8bd386,'headers':{'Host':_0x4e41('182','m*J$'),'Accept':_0x5afe33[_0x4e41('183','vI6S')],'Accept-Language':'zh-cn','Content-Type':_0x5afe33['jaGJy'],'Origin':_0x5afe33['sosHf'],'User-Agent':_0x5afe33[_0x4e41('184','Pjzc')],'Referer':'https://anmp.jd.com/babelDiy/Zeus/xKACpgVjVJM7zPKbd5AGCij5yV9/index.html?wxAppName=jd','Cookie':cookie}};}function taskUrl(_0x2a5748,_0x48739f=''){var _0x217365={'Knhpv':'zh-cn','LPoXa':'application/json;charset=utf-8','QXGDo':_0x4e41('182','m*J$'),'nHEWN':_0x4e41('185','vI6S')};_0x48739f='activeid='+$[_0x4e41('186','05Of')]['activeId']+'&token='+$[_0x4e41('187','P$8c')][_0x4e41('188','Pjzc')]+_0x4e41('189','AQVi')+Date[_0x4e41('18a','Ovj8')]()+'&_='+new Date()[_0x4e41('18b','PViL')]()+_0x4e41('18c','ZD^e')+_0x48739f;return{'url':'https://wq.jd.com/activep3/family/'+_0x2a5748+'?'+_0x48739f,'headers':{'Host':_0x4e41('18d','P$8c'),'Accept':_0x4e41('18e','Pjzc'),'Accept-Language':_0x217365['Knhpv'],'Content-Type':_0x217365[_0x4e41('18f','OJ*7')],'Origin':_0x217365[_0x4e41('190','5g1B')],'User-Agent':_0x217365['nHEWN'],'Referer':_0x4e41('191','su26'),'Cookie':cookie}};}function TotalBean(){var _0x4cc15c={'SNHzl':function(_0x727fa3,_0xdbc07){return _0x727fa3===_0xdbc07;},'zjPnw':_0x4e41('192','oGLr'),'fbrrg':function(_0x184dd5,_0x17ecba){return _0x184dd5===_0x17ecba;},'UYIAB':function(_0x588600,_0x14aca8){return _0x588600!==_0x14aca8;},'YJoGL':'QocjE','fvpJS':_0x4e41('193','4Nmk'),'jUwOD':'pCRrf','QoQpf':_0x4e41('194','RKek'),'xrdAE':_0x4e41('195','4Nmk'),'knqfl':function(_0x50b591){return _0x50b591();},'WXNzg':'application/json,text/plain,\x20*/*','eihTI':'application/x-www-form-urlencoded','VKwnk':_0x4e41('196','cymt'),'rvwwG':_0x4e41('197','T7r]'),'RxStR':_0x4e41('198','7[Mx'),'mtPxi':'JDUA','uFxxD':_0x4e41('199','RKek')};return new Promise(async _0x142228=>{const _0x33081e={'url':'https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2','headers':{'Accept':_0x4cc15c[_0x4e41('19a',']o&q')],'Content-Type':_0x4cc15c[_0x4e41('19b','PViL')],'Accept-Encoding':_0x4cc15c[_0x4e41('19c','mxW]')],'Accept-Language':_0x4cc15c['rvwwG'],'Connection':_0x4cc15c[_0x4e41('19d','HbSd')],'Cookie':cookie,'Referer':'https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2','User-Agent':$[_0x4e41('19e','4Nmk')]()?process[_0x4e41('19f','ZD^e')][_0x4e41('1a0','QtZ&')]?process['env'][_0x4e41('1a1','4zHS')]:'jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1':$['getdata'](_0x4cc15c[_0x4e41('1a2','5g1B')])?$['getdata'](_0x4e41('1a3','9ywU')):_0x4cc15c[_0x4e41('1a4','T7r]')]}};$[_0x4e41('1a5','QtZ&')](_0x33081e,(_0x5325e8,_0xa5670c,_0x4bfe69)=>{var _0x1b1c87={'sxobK':function(_0xff6c62,_0x5e6930){return _0xff6c62==_0x5e6930;},'TUEAq':_0x4e41('1a6','PViL')};try{if(_0x5325e8){console['log'](''+JSON[_0x4e41('1a7','OJ*7')](_0x5325e8));console['log']($[_0x4e41('1a8','7[Mx')]+_0x4e41('1a9','rs5v'));}else{if(_0x4bfe69){_0x4bfe69=JSON['parse'](_0x4bfe69);if(_0x4cc15c[_0x4e41('1aa','z*qM')](_0x4bfe69[_0x4cc15c[_0x4e41('1ab','5foy')]],0xd)){$['isLogin']=![];return;}if(_0x4cc15c['fbrrg'](_0x4bfe69[_0x4cc15c[_0x4e41('1ac','4Nmk')]],0x0)){if(_0x4cc15c[_0x4e41('1ad','z*qM')](_0x4e41('1ae','IAK2'),_0x4cc15c['YJoGL'])){id='';}else{$[_0x4e41('1af','OJ*7')]=_0x4bfe69[_0x4cc15c[_0x4e41('1b0','DcZ1')]]&&_0x4bfe69[_0x4cc15c[_0x4e41('1b1','T7r]')]][_0x4e41('1b2','Yr%@')]||$['UserName'];}}else{$[_0x4e41('1b3','05Of')]=$[_0x4e41('1b4','RKek')];}}else{console['log'](_0x4e41('1b5','05Of'));}}}catch(_0x59494f){if(_0x4cc15c[_0x4e41('1b6','MLKe')](_0x4cc15c['jUwOD'],_0x4cc15c[_0x4e41('1b7','2]jZ')])){$[_0x4e41('162','9ywU')](_0x59494f,_0xa5670c);}else{if(_0x1b1c87[_0x4e41('1b8','&mSc')](typeof JSON['parse'](_0x4bfe69),_0x1b1c87[_0x4e41('1b9','2fT5')])){return!![];}}}finally{if(_0x4cc15c['QoQpf']!==_0x4cc15c[_0x4e41('1ba','Yr%@')]){_0x4cc15c[_0x4e41('1bb','c6z$')](_0x142228);}else{if(!!_0x4bfe69){id=_0x4bfe69[_0x4e41('1bc','9ywU')](/[\r\n]/g,'');}else{id='';}}}});});}function safeGet(_0x2f4f15){var _0x36d55a={'FDdDa':_0x4e41('1bd','zmhP'),'gkSrf':'KURpQ','LgTYC':function(_0x317e7b,_0x2c3d01){return _0x317e7b==_0x2c3d01;},'jesMg':'object'};try{if(_0x4e41('1be','05Of')!==_0x36d55a[_0x4e41('1bf','9ywU')]){console[_0x4e41('bc','RKek')](''+JSON[_0x4e41('1c0','PAR1')](err));id=_0x36d55a[_0x4e41('1c1','RLO%')];}else{if(_0x36d55a['LgTYC'](typeof JSON[_0x4e41('1c2','cymt')](_0x2f4f15),_0x36d55a[_0x4e41('1c3','4Nmk')])){return!![];}}}catch(_0x34724f){console[_0x4e41('1c4','lk8A')](_0x34724f);console[_0x4e41('1c5','Yr%@')](_0x4e41('1c6',']TBy'));return![];}}function jsonParse(_0x4847cf){var _0x12043e={'DMUfN':_0x4e41('1c7','zmhP'),'IVsLI':function(_0x3d2d99,_0x457a9a){return _0x3d2d99==_0x457a9a;},'nrzyK':function(_0x4e80ea,_0x4d3162){return _0x4e80ea!==_0x4d3162;},'PAGVp':_0x4e41('1c8','lk8A'),'pqpOX':_0x4e41('1c9','MLKe')};if(_0x12043e[_0x4e41('1ca','I[GX')](typeof _0x4847cf,_0x4e41('1cb','su26'))){if(_0x12043e[_0x4e41('1cc','7[Mx')](_0x12043e['PAGVp'],_0x4e41('1cd','Ovj8'))){try{return JSON[_0x4e41('1ce','xnmD')](_0x4847cf);}catch(_0x5bbfe0){console['log'](_0x5bbfe0);$[_0x4e41('1cf','2fT5')]($[_0x4e41('1d0','2fT5')],'',_0x12043e[_0x4e41('1d1','2]jZ')]);return[];}}else{let _0xed6f50=_0x12043e[_0x4e41('1d2','9ywU')];if($['isNode']()&&process[_0x4e41('1d3','Q6cr')][_0x4e41('1d4','vI6S')]){_0xed6f50=process[_0x4e41('1d5','5foy')][_0x4e41('1d6','Ovj8')];}else if($[_0x4e41('1d7','Yr%@')](_0x4e41('1d8','6n^W'))){_0xed6f50=$['getdata'](_0x4e41('1d9','mxW]'));}return _0xed6f50;}}};_0xodJ='jsjiami.com.v6';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}

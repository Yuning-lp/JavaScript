/*
 半点京豆雨
 已支持IOS双京东账号,Node.js支持N个京东账号
 脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js

[task_local]
#半点京豆雨
30 16-23/1 * * * https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, tag=半点京豆雨, enabled=true

================Loon==============
[Script]
cron "30 16-23/1 * * *" script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js,tag=半点京豆雨

===============Surge=================
 半点京豆雨 = type=cron,cronexp="30 16-23/1 * * *",wake-system=1,timeout=20,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js

============小火箭=========
 半点京豆雨= type=cron,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, cronexpr="30 16-23/1 * * *",timeout=200, enable=true
 */

 const $ = new Env('半点京豆雨');
 let allMessage = '';
 let bodyList = {}
 const notify = $.isNode() ? require('./sendNotify') : '';
 //Node.js用户请在jdCookie.js处填写京东ck;
 const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
 //IOS等用户直接用NobyDa的jd cookie
 let cookiesArr = [], cookie = '', message;

var _0xodk='jsjiami.com.v6',_0x2dc7=[_0xodk,'KFYEw5Eu','wrzCgsK1BFw=','w6TCsMOmJhY=','w5/DgMOTPCYUwrFZ','w6PDnAtUwqw=','cMOnZlA=','B8KmE8KIwqPCuk/CpQ==','bhN7TsOkVcOzwrg=','wo7CiDHCscOFw5BbGA==','bsOTSTxxLVp9','wrV9IcKww6fDl8K7EMOhw4c=','w5Mqw6o=','R8KOTVM7','w4Qiw7jCs8Km','cMK8I2rCsw==','F2BpLEQ=','acOveSl7','w4sew4k=','w7xSwonDlcOEKMOxX08=','JsKLw6o=','w5Nzw54K','w5xzIcKC6K6A5rGv5aWO6LaI772k6K+g5qOw5p6m57yI6LaI6Ye46Kyt','TTXDtVl7','w6U3Milm','MS4jwrosLcKl','b8KGFw==','6aKb5Yyj5out5YiC77y46I2N5b6pJA==','w6ENZ8KEwoXCncKKwq5y','w4ANw4nDp8OlasKjXMOnwpJEw5RZ','6aOa5Y+35oiV5Yul77yw6I+f5byHw6M=','w6TDhhJzwpnDsXPDr8OrT8OvwoJ+','Z1jCh1bCosKPw5fComU=','OFQzwoFcwqLDscKU','auS5iOiziw==','44Gt5LiV5LqA6LW65Y2h','KlQhRi8=','w5FJbMOIw4TCoFcL','w6rpoafljoTmi4rliJTvvr3ojoHlv6rCtg==','wrhxIcKtw7TDjMK2O8ONw5DCmMO9w7E=','wqrDssKJLsONCDYGbA==','w6ZIwp/DmcOS','w4sUw4A9RsK5','wrEpa8K5w48=','w4ANw5o=','6aOY5Y6p5aSq6LeY77+g5p245Z6S5bSD6aOH6L22','w5kmw6wnwoU=','wpVuB8K+w7k=','5byQ5bq+77yP','cMKdAmzCp8Olw7zChnI=','w5fDhsOCEgkWwrQ=','wqrCjxnCvw==','w5pOeQ==','w7dWw6wrw7Mzw4zDkA==','K2IybBw=','wrFwIw==','ccOkcwp6DmJf','wqk1GcONJgDClcKFOw==','w5TDh8OG','w50hw7rCl8KbWMKj','w4/DoDJPwqnDgQ==','w4sHw4nDt8OhbMK7','CcKLw6Icw7nCl2/CqA==','w5Uvw5snwoMKwqU=','Jw1XwpjCpA==','LVRJDlQ=','w4AUw5o+U8Klwpk=','UcOpel4cw5vCtRrDpw==','YGnCkg==','w4FWwo7DssOH','XMO2YHsY','w4PCrsOFQG7Djg==','TMKdNXTCuw==','wrtRJ8KWw7U=','w5fCu0ZEw7Fn','O8KOOcKtwpLClW3ClARow7MhM8Ktw5wnw7XDi8Kz','eMKbwos=','wobCm8KLBUjCuQ1Kwqx2eRbCvl3CpW8Dw7h+','VsK6J0vCuA==','ZMKMBGHCqMO2w7Q=','A0bCg8KOw7M=','DsKqBMKHwqzCr0M=','KlYfw4wFw7Z+fwFoQ8OfJCJbwrzChA==','w7nDjiLClcKa','w5fCrDU=','woXCkyDCtcO5','B8KLw7cew7zCnkTDg8Oxw47CrsOqwrBjVcKJwoZ1C0LDgUTDu8OEMAbDqUBeG8KvIxTCv0BpAcOmw69oSjJqwqrDhF3Ds8KAw5rCgw/DpXcfwrJ6Ph9UwpHDjcOLw7TDl8KvwoguNxk0wpR1O8K4wqXDnMKrM8Ocw7PDh8K+woopw5gYHix/wpIKVMOGVMKTw6nClsO2WsKLH8KBJHTDucKtw6HCu2fCoMKdwr49w6bCkcKtw6l9wo/Dn0tlZW/CtgNoSgXCmMKAw4TCh085wq/Do1jCh2ACJ8Kkw7HChAJTQ8K/wqdaw7fCjMO6wptu','wpfDlsKjOcOx','wpdXM8KUw78=','w5xkQMOnw7I=','w4XClsOgwp7CtA==','C1g/bCM=','JxQIwowz','w4VQwqjDisOv','dyLDlFxb','wqsPP8OoOA==','w54Hw43Dv8Ohe8K/','w47Ck8OBwrrCqA==','w4MdT8Ka','w5Usw6rCm8KVfsKxKzk8dw==','Izg1wpA1IMK0wp9PKA==','w6EMd8Kewp/CiA==','w4UMw5nDtsO4V8K8','w5Ynw6zCoMKS','wrFwMcKNw7jDk8Kq','wrM6Bh3Co8Kew5rCgsKiw7o=','5Lqn5Lmi5Z6H57ix5Y6F6Zuw5b+a5aeF5pW06ZSV77yr','5LmV5Lm/5Zyh57mf5Y+p6Zq857m75p6u5pa36ZWF77+B','fsOpcnAHw4w=','w54lw4g=','5LmO6Ka75Z2tYTjCpcOXw7nmiqrliYDlpJnliaXnsIvotKDkv5DmlJdmw5UjUsOuw7Q=','w4IOScKUw4A=','L8O4w58Yw4w=','RcKSwqvDrGI=','SMOQQCdL','M0g4woFh','w5NPaA==','5Y+J5ZWF6byU542i5aeH6LWvGcON5Yyv5Zaa56am6b2N','QnDCq0HCmg==','wrHCqMKwJGU=','Ngtvwo3DlnvCh8KANcKEwqpjw6paJ8KnEHjCncOXwrfDnGQrw64awqbCgQcxREnDggvDjivCnwjDosObwrPDhkTDimnClsKRD8OywpkJw5zDmw==','ZcOreVMy','HVfCrMKpw60Cf8ORw6c1SDM=','wq5MNMKUw6c=','w4bDsT/ClsKJ','XcKfYGU9RA==','LE8k','InkTw6g4','ZH0qNsKu','w6zCv8Ow','w7TCjFdjw5ROwosxw40dwqnClcKuDWc=','YHvChQ==','TBTCvm0=','bGI5LsKo','wonDl8KuDcOE','wrN7IcK9w7DDisKu','w4EdV8KIw5c=','w41BZsONw4TCrk4HwpoQEcO9w7k1QR14','w5jDmsO+OAwQ','Xg5o','cDTCmkbDq04rGmpUwqrDhBbDrsKRRgzCqMOW','w5Ehw6g=','woZfHMKXw47DsMKAPcOhw6XCtMOOw4bChhbDgUBxw7I=','w6XDmjfCncKd','WsOicncT','LcOZEsOFNDnDig==','w6odEzNM','RE/CoHHCpw==','CFrDuQ==','wr07AsOUZEfCmMKGJMKsw4XCr8OywpnDu8OcTg==','w50ZwoM5XA==','WsOQXCJWL1ZsO0vDisO4w7YcwrdkAmxYw77DmcOcw5sNwoR3wrXDiMOofB0+wog=','w4XCjMOKagnCs0kvYhFlw5o=','dgjDg8KowqU=','bsKgT20u','WcKISmUb','bsKlHlfCqg==','IHYEwplN','w5w7w6rCgsKQLcOqfQR7NVQ0wpFRIRdkBk3CnMOAwr1iwppoY2YyWGHClsOBJ8OQPMOAQ8OtRsOVF8O+w6rDlsOawp3Cmis=','HMOaw6g1w6BsbsKiwqtZ','EnNCw4sbw7FleAI+McKGfWARw6bDiH0WG3QIG0jDpHHCu2rChGHClsO8Rl1Ow4s1dcK0w7McwrMxw5pdwovDr8Krw5s=','w4QWw4nDo8OzIsO1IcOjwpFYwpZAAcO7A8OIfcKVEMKuw6g6wqhgVVvClnPCk8KvwpHDt8OIDnjDvMKbScKlbSJMFMOgw7w=','wonCmwDCnMOU','YMKTTA==','w7LDgUtkwpI=','Iko1Tz7CvsO8w57CiMKHenzDqzlJWXLClypWw7XDvAbDumRobcKrUcK6Mhx8','wrMpG1rCuMOZw4TCn8OFw73DscK6','I0Uzwp9Yw7DDrMK9w5vCksOTRn3DkyNCwoMOUjDCpcKOw5ksw7oQesOKwos2wrNpwpDDg1ROw4bDoDAQXMOOBsOdwpElwrLDnUjDoAhBw4LCsngQbj5qwp7DiMOVwoUpw6l1O8Oba8OxecOeesKEcsKqwoloSQfCrsKGwpEAw47DsR5UwrDCj8KycSbCvVDDn8OjTTfCo8OXw5xDwqtewpMEIcKIw7XCocOUw5TDhB1BasKcw6LDm8Onw64oC8OcwpTDgcK5NVUawqTCqQ44w7bCm8KUGsOQBSFOZcKReCxMw4YJTcKMKmDDn8KXwqzDkSjCjiggewzCj8OBw79xwrXDizIKw4rCn8K6w7fDncORQcOHUDsIw47CqMOdBRLCicOmwqbDsVvCn8KJbQEZRlV1w7bCmMOQbXscw6hySRQHw5wmwpnDssKZw4w7w708TH3Cq8KuwqbDmsKjXwjDmFtSwp/DvU/CrBJBwo5Fw63CqwkkccOOwrrDlU0uUcK1w4PCqFvCiyhCYMK+EsK4JcOnAsKde8OQw6vCvSXCsSfCjsKTwqXCiFVbw67DlcOKNsOjOcKsVMKLQ8KldF7CoBrDpxzDtMKbwrlIR8OCHDjDkRcvwq1yD0kJZm/Crl/Dj8OuRmjCu2tE','dcOaE8OPNjnDgnzDjSTCmzk=','NMOkelEMwoM=','wqvDi8KUIMOR','TiDDtUNwT1Mwwo8=','w7Q6Hh3CsMKZw5rDhsKcw7bCq8OxXg/DoMKxBgjCoMKcwr0fOMKxwqzCiMK6w77Cg8KmPHzDhcOK','wrzCkATCtsOF','WRhWWsO4','esKQwonDiV3Cl1t+RsK8JMKRScOrwpbDusKk','EGw2exs=','C2EFw7oH','w7BuQQ==','AMOkI8OPPw==','w6c9OCdq','dcKBwonDrUfDgBErQcOnb8KzAcOnwoHCscKzw7rDmcKYw6N2w7bCg8OtY3vDvUzDvcKaaMKtCsOew7vDgAHDtRowXsK0wpM7fkTDhC8=','wpYFcMKBw4jDlSsnw6LDuw==','E0Azw7UG','wpssOQ7CrQ==','O0QmwoxHwq/DoA==','TcKCBnfCqA==','KFEiwoNBwqjDpMKZw5rCksOTDCzCkXwCwp9UBnPDoMKVwod0wrVLL8Oewp4owqRy','wrXCqsKyJ37ClCNqwoxfTmbChT/CnEwmwppUHC7DkjJ0w5zDpsOhwr8ywoxOOsOt','TsKEA2k3','H0fCkMK4w7JeAsKsw5ERFDV6GHRWwoLDssKYbWDDsjcjw4BRZW/CmMKlHTRkwpnCpMOVw4A7wrlUdyvDtmtQNsKbEsK8JsKqRXcW','FGDChcKnw6A=','djHDjsKDwr8=','Lls7wp8Ew6vDocKIw5XCkcOcVyPDjjMOw4E=','w7MFw4oIdA==','KT4kwoluKMKswo9wKQ==','W1QMBcKE','w4Viw4/DlcO6J8O3V1PCmcOxw504wrHCnE1nbEZZwpbCnMKuwoxKwqx7CsK7w7x4aiLDpxITahcUOMKwwosVE8K9wqxuVDI=','wqEtAB3Cu8KQw4fCncKS','EcOWw7s=','wqnCkMOWwqPorI/msbHlpZLotZzvvaXor6DmobHmn7Xnvq/ot4nphL3or5g=','BMO+w6Qaw6w=','wq3CncK6DW0=','M1s3UDI=','w7rDmMO8Pzs=','HnAbw68A','BMKPw7sFw7E=','woPCg8OUwqvDghM=','FMOKw5Azw7FsdA==','w73ChktGw40=','w6AcYcKOwoTCnsKG','w5DCoWtAw5tjwqAL','JcObAcOIGA==','N1ARw4sG','w6fCuMOlwoHCllIOHA==','woTCgCHCssOS','w5omw73CmcKtdsKoNw==','w7kRw5jDocOOecK3aw==','LjQmwrwxOw==','wpTDpyI=','RzzCqklw','w58qw7vCgsOOdsKpOxor','LTkrwpwgPQ==','w6/Cqmdzw6Y=','w6UGw77DkcO4','FBc7wpIh','wpdzGcKAw5Y=','w4owc8KMwqU=','BsKJw7kcw7Y=','E8OvK8OiHg==','Ngtvwo3Cn27Ch8OeKcKEw7U5wq4IOcOsXX/CksOVwrTDlGRsw7sTw6bChgYxWAbDiArCjG3CmwjCqsOLw7zDglbCinfDiMKRBcOh','NMOqe1JIwo7DqGDCk8KnNcOtWsKEU8KOw5LDjQTDscKxw5HDi8ORwrkzw7zDpzk1TAgmwrRvwrrDu0Zgwrs=','woAXXsKvw6Y=','wpsJYw==','wqzDjcKL','bsKBwo/DtFrCnQ==','wrMXAxHCgQ==','woUwAx/CgQ==','w5QiBjRY','LsObw4kJw6A=','TcKTwozDtVM=','w7caSsKTw5U=','E8OYw7E5','44G55Lmj5Lms6LeF5Yy6','NU9hH0Q=','w5FBYsOG','w7vDnRRuwpLDpGPDm8O3','ZVkpSjLCs8OpwpfClsKAIXXDsHhXS2vDjhpcw7XDokLDoHg5OcOrAsO7Zl9HKA==','w4M3w7TDlcOt','w6J0wo3DisOQ','w4nCrsOVMh4=','D8KxPQ==','w7vDiAbCl8KO','UMOFST4SLVtxJEE=','YsKZAGnCoMOhw7TClGLDrWEODcO8H8KtwrVEwqjCik3CiFZlRT3CiMOAwpjCkkZQDA==','bTHChULDhQ==','wrI1H8OUO13Dk8OMKsO1worCtsK5w5/Cv8KQXwZZXcOvYQwEw53CgcOqUsOvw4U2w7M0XBV5wrbDhMKpw4vDhMOiLlzDqS/DvUJG','wpjCpGZMwqgyw6Newq9/w5jDusOLeUfDr8Ksw7NFw6TCmQwreAkuwo4udw7DscOTbcOVUUHCgcO/eWY=','w7s/w5srwqo=','w44PdcKUw5bCrQ==','w5rDjMOJJA==','Qw7Dv8KswpcpXQ==','w5zDqAbCsw==','w5h8w4U=','w4ISTQ==','w74Lw4HCtsKmVcKQFQ==','XQFyT8OP','NFgR','w5QFw5wzXMK2wpEiwoc=','wplcBw==','w43CksOHIRzDkkU=','WsK8wqnDlWHCuA==','wrHCosKrPw==','w4vDuAHCv8KKKcOh','wpfCtcKtIH7Ckgha','LkQmwotJwr/DpA==','Ck49woRBwq7Dj8KpwoE=','RRDCp2zDlXQF','wrwoB8OQLRU=','eMOiXVQZw5jClALDosOCd8Kx','w5hgw4EAw4Q=','44Kf5o+256eB44Kt6K2d5YSH6Iyv5Y+v5Lqa5Lqq6Lem5Yyc5LiPw6TDixcsLUoD55iK5o2W5L6/55eBP8OjcDzCrMK955uN5Luy5LiQ566t5YiM6I6W5Y6H','w48Fw5oqQcOrw5drwpwjw7BKw7vDiRbDqsOwYsO5w4BCwqM=','UMO4XCBl','SsKQEm/Cuw==','wqDCuMK2OFU=','ScOxcA==','J8OPAQ==','Y2nCj1I=','wrDDrMKOBcOz','w5/Cj8OAT1E=','wrjCtcKl','5Y6F5Zer6b+p542o','wpbCg8KWOV8=','ME5i','5Y6m5ZaY5a+q5oqx','w5F9w5Q=','5Lml5pSk6by7546O8JiSjuWFteW2uO++quWkqeazvuaZq+adl+KagO+7hO+/kOaXsOaWu+WGpeacj++9gMKy','w5fCjMOPLRA=','6byn542D5bC55L2mwq8i','w7rCocOyJzk=','InkiwoFy','wqnDrcK4PsOR','ZsKtZ0QGbxp0w5fCmsKcHMOkZcOEwpDDsWfDkQ==','wpDCtcKqI3M=','w6o3w6jDq8O0','GCpOwoXCmA==','w7ATw7sxwqo=','w4DDshI=','w74Wcg==','GVLCicKt','eVY7KcKJXcKnwrfDiS0G','ShXDjG9I','RMOxfWIA','w7gBNihr','VcKPWmMvSCFZw5fCuA==','wrYuDA==','w4kYw40xfMKwwpUh','w51BfMOG','SwjDrsKCwpgrWMKI','w7HCj8OGNirDvE4u','w4IjbcK9wqg=','wpjCsMK4IGI=','JF8xRzbCqcO8','JU41','5pWR5rG85Lm+5p275Z2Y6K6O5YyK6YWx576677yQ6K6i5qKb5p6J6L6U6KKI5peO6ZWv','w77CrMObMAHCuw==','J3bCvcKpw4I=','WMKDSQ==','LjQm','5Lu05Lir5p275YiD5Zij6Kym6Zek5pWm5oyJ5Lir56m677686K695qKW5p+M6IS56LmD6K+r5aW457ya57uA5oKi5YeA','aCfDolhQSVcz','ZzjDmcKbwr4=','w6TCsMOywonCkA==','wo3CgCbCucOj','S8OwRsOeDg==','w7sKWcKCwozCk8KN','JMKNw64cw57Ck0jCiQ==','GMKsPx9fwpTDrOW9kOWlqOOCh+S6qeS7gei1jOWNlQ==','w4cYOhpm','WsKFTWEXQDhF','EcKKBmQVZh0yeC4=','w5ZTQ8OMw63CqFQ=','w4HCoMOPYA==','44OK5oyq56WQ44OGw7bCssOEB3lT5bSj5aSP5pWp','5LqR5LmI6Lah5Y+d','w7sFOw1QCCfCmA==','d+itjumFkeaXrOebreW9kOiOreWMjcOoVcO+w63CuH8Kw5rCs8OUDm7DgcOEwqfDgMOBwrHDlcOlw57CjcK5','TBLDg8KGwpIv','L0RrHnIHw6TCqhnCrQ==','P05qEVUN5bWi5aey5pS3w7TDsXU=','w6hhw5Ydw7gQw7TDsg==','5Lm45LiC6LWz5Yyu','SOiurOmGjOaVieeYuOW8nOiNt+WMsGUjw7B+c8Kz','J08DwqNt','P1ICw7Yiw7Rv','w5sww63DpMOj','Bn7CksKHw4A=','w5ggw7k=','VsOqZcO7JVg7IsKY','wr1tG8K2w7XDmw==','cMKMHmHCh8Otw6HCiW3Duw==','wq7Dg8KBKg==','w4LDvBjCvg==','wp9TBcKoHw==','w4jCk8OE','w7QQe8KMwofClsKa','w5rCp2ZO','EMOKw7s=','w4kQw4M/','44Kh5LiF5Lqs6LWx5Y6f','d10rGcKl','J3c6wqlM','w4YCKg8kRmXCjB/DgSrCoRMpwp3CjMOjXSVARFPDlsKZw5bDg1PCpEjCtT8Bw4k1IcOcNw4nYMKDBCLDsEFCOXHDosOmw4HCk10=','wohqHsKtMg==','w7FiXcORw6A=','w5R2wo4=','w6tQwozDscO+','wqjDg8KfAMOJKg8HdyTDlS5RBg==','esKQwonDmVXCjls=','ZMKMBEHCqMO2w7A=','JsO6EMOIEA==','LhBowok=','w67Cu2Vvw5Y=','P8OOCg==','w5zCp2xS','wrFHK8K9IQ==','w459w6caw6Q=','BFzCsMK9w5M=','wrhxMg==','ScKOIMKq6Ky65rKZ5aST6Lel772B6K+Z5qGq5p6b57yh6LSN6YWf6K6m','w5IdQcK8w4I=','w5ksw6bCmcKF','wqR/J8Kqw7Q=','wrXCmADCssO2wqk=','w5tBe8OC','woTCgCbCuw==','AMKsH8KNwozCqUfCoQ==','wrJ3OcKtw7TDjA==','w4lrw4MK','OVkVw4okw6tVcgZjd8OvJjldwqfCjScG','w5LCrWZMw6Fq','wpVRHsKlNl8aw4w=','EVrCiMK8w6QW','wp1cEsKjGF8gw4kJZUccNQhBwozDghQa','GcOYw6g9','V8OPWDpaPk5RNg==','wpMHcMKJ','JDItwo0mOw==','w54aPwt4BjjCkDTChj7DsiZhwobCisKmUCAIeUrDg8Oew5s=','w5EYZsKcwpo=','acOddcO6GQ==','QQDDucKI','w5xxw4cGw4AYw63DrsOkL8O/','w7wrw7zDnMOm','SxvCt23DjE8C','w5Ehw7rCpsKKesKg','JsOTAQ==','PUJxE0oBw6TCujbCsA==','5LqZ5Lm55Zyv57mP5Y+u6ZiS5b+j5aSD5pe96ZSC77yx','5LmB5Lq85Z2c57iD5Y2Q6Zql57m45p2M5pWV6ZaZ77+l','aMORXjZP','w4XCtMOgaFk=','5puI5pSE57iv5Y2y6Zm4','w5rDisOoNjk=','w58lw6EBwpc=','Vg9QfsOf','V8OPSwtNPg==','w4LDgsOyIwQ=','w4URw7PDvMOkfQ==','XsOOWg==','CB8ewrECBcKGwrlUHsOeSk/ChGI=','PMKvw4o/w7g=','WjHDs05/XFs=','aMO/cmM3','woUHbcKGw7DDkys3w43DpiA3wr5Bw4XDjsKc','wpLDrcK5KMO6','w67CscOwYnQ=','w5YCw4vCn8KR','wo0jKMOHMA==','H8O0DcOVDA==','dMOneUYQ','IEMyw6kb','w6fCvsOnwoLCqlYHKwh+w59cwpFSwoRow6k4','wp1rGcK/w4k=','w5RMTMOHw60=','T8OGQiZs','O05iIlQ=','jsJjiQamiG.com.kv6LKMqOwWLFrwn=='];(function(_0xbae658,_0x5dabf8,_0x161e5e){var _0x3575bf=function(_0x2631cc,_0x23aaa6,_0x2824c2,_0x3a93e7,_0x343e79){_0x23aaa6=_0x23aaa6>>0x8,_0x343e79='po';var _0x2b06d8='shift',_0x30dd6d='push';if(_0x23aaa6<_0x2631cc){while(--_0x2631cc){_0x3a93e7=_0xbae658[_0x2b06d8]();if(_0x23aaa6===_0x2631cc){_0x23aaa6=_0x3a93e7;_0x2824c2=_0xbae658[_0x343e79+'p']();}else if(_0x23aaa6&&_0x2824c2['replace'](/[JQGkLKMqOwWLFrwn=]/g,'')===_0x23aaa6){_0xbae658[_0x30dd6d](_0x3a93e7);}}_0xbae658[_0x30dd6d](_0xbae658[_0x2b06d8]());}return 0x8c2bb;};return _0x3575bf(++_0x5dabf8,_0x161e5e)>>_0x5dabf8^_0x161e5e;}(_0x2dc7,0x102,0x10200));var _0x462c=function(_0x355a99,_0xce8ce3){_0x355a99=~~'0x'['concat'](_0x355a99);var _0x315f9d=_0x2dc7[_0x355a99];if(_0x462c['kEtEvD']===undefined){(function(){var _0x44a6f2=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x24bb81='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x44a6f2['atob']||(_0x44a6f2['atob']=function(_0x3a0eb8){var _0x17f12f=String(_0x3a0eb8)['replace'](/=+$/,'');for(var _0x292fa0=0x0,_0xa7351e,_0x204cab,_0x90b797=0x0,_0x51c10b='';_0x204cab=_0x17f12f['charAt'](_0x90b797++);~_0x204cab&&(_0xa7351e=_0x292fa0%0x4?_0xa7351e*0x40+_0x204cab:_0x204cab,_0x292fa0++%0x4)?_0x51c10b+=String['fromCharCode'](0xff&_0xa7351e>>(-0x2*_0x292fa0&0x6)):0x0){_0x204cab=_0x24bb81['indexOf'](_0x204cab);}return _0x51c10b;});}());var _0x9fcbc0=function(_0x455d2e,_0xce8ce3){var _0x393653=[],_0x45772e=0x0,_0x44f312,_0x1cfecc='',_0x40ff2d='';_0x455d2e=atob(_0x455d2e);for(var _0x281c98=0x0,_0x337eb2=_0x455d2e['length'];_0x281c98<_0x337eb2;_0x281c98++){_0x40ff2d+='%'+('00'+_0x455d2e['charCodeAt'](_0x281c98)['toString'](0x10))['slice'](-0x2);}_0x455d2e=decodeURIComponent(_0x40ff2d);for(var _0x1ad01f=0x0;_0x1ad01f<0x100;_0x1ad01f++){_0x393653[_0x1ad01f]=_0x1ad01f;}for(_0x1ad01f=0x0;_0x1ad01f<0x100;_0x1ad01f++){_0x45772e=(_0x45772e+_0x393653[_0x1ad01f]+_0xce8ce3['charCodeAt'](_0x1ad01f%_0xce8ce3['length']))%0x100;_0x44f312=_0x393653[_0x1ad01f];_0x393653[_0x1ad01f]=_0x393653[_0x45772e];_0x393653[_0x45772e]=_0x44f312;}_0x1ad01f=0x0;_0x45772e=0x0;for(var _0x2de880=0x0;_0x2de880<_0x455d2e['length'];_0x2de880++){_0x1ad01f=(_0x1ad01f+0x1)%0x100;_0x45772e=(_0x45772e+_0x393653[_0x1ad01f])%0x100;_0x44f312=_0x393653[_0x1ad01f];_0x393653[_0x1ad01f]=_0x393653[_0x45772e];_0x393653[_0x45772e]=_0x44f312;_0x1cfecc+=String['fromCharCode'](_0x455d2e['charCodeAt'](_0x2de880)^_0x393653[(_0x393653[_0x1ad01f]+_0x393653[_0x45772e])%0x100]);}return _0x1cfecc;};_0x462c['EvndFB']=_0x9fcbc0;_0x462c['ohyuuZ']={};_0x462c['kEtEvD']=!![];}var _0x202fe6=_0x462c['ohyuuZ'][_0x355a99];if(_0x202fe6===undefined){if(_0x462c['ejZzpK']===undefined){_0x462c['ejZzpK']=!![];}_0x315f9d=_0x462c['EvndFB'](_0x315f9d,_0xce8ce3);_0x462c['ohyuuZ'][_0x355a99]=_0x315f9d;}else{_0x315f9d=_0x202fe6;}return _0x315f9d;};if($[_0x462c('0','72iq')]()){Object[_0x462c('1','^CZ5')](jdCookieNode)[_0x462c('2','W^52')](_0x2e14a7=>{cookiesArr[_0x462c('3','ph)!')](jdCookieNode[_0x2e14a7]);});if(process[_0x462c('4','NGVa')]['JD_DEBUG']&&process[_0x462c('5','72iq')][_0x462c('6','a0HH')]===_0x462c('7','2V#A'))console[_0x462c('8','U0wg')]=()=>{};if(JSON[_0x462c('9','8lS*')](process[_0x462c('a','A^^n')])[_0x462c('b','UzNG')](_0x462c('c','d2zt'))>-0x1)process[_0x462c('d','OhP6')](0x0);}else{cookiesArr=[$[_0x462c('e','ph)!')](_0x462c('f','OhP6')),$[_0x462c('10','CTsQ')](_0x462c('11','CTsQ')),...jsonParse($[_0x462c('12','Z6T*')]('CookiesJD')||'[]')['map'](_0x42d225=>_0x42d225['cookie'])][_0x462c('13','AL%O')](_0x4e97ca=>!!_0x4e97ca);}const JD_API_HOST='https://api.m.jd.com/api';!(async()=>{var _0x11725b={'iOTqo':function(_0x2fec43,_0x588529){return _0x2fec43!=_0x588529;},'UFpWa':'base','dREld':_0x462c('14','j0@a'),'ieYJd':_0x462c('15','NGVa'),'xQVAk':_0x462c('16','gE&I'),'pNbJM':_0x462c('17','8lS*'),'BYTrH':function(_0x63bf9f,_0x49eada){return _0x63bf9f(_0x49eada);},'hhGpL':_0x462c('18',')Blx'),'Dohhd':function(_0x2e1370,_0xe61bfc){return _0x2e1370<_0xe61bfc;},'FUUxt':_0x462c('19','cz)@'),'nnQLE':function(_0x3dfd4e,_0x16acb2){return _0x3dfd4e+_0x16acb2;},'wAKEV':function(_0x3f4e37,_0x22095f){return _0x3f4e37===_0x22095f;},'VwhWu':_0x462c('1a','OhP6'),'azYoy':function(_0x290deb,_0x216224){return _0x290deb<_0x216224;},'PEYaC':'nTDcH','EAexh':function(_0x5a1115){return _0x5a1115();},'Bvglu':function(_0x50a7f5,_0x130dbe){return _0x50a7f5*_0x130dbe;},'wRPwc':function(_0x5b56dc,_0x23564a){return _0x5b56dc*_0x23564a;},'xyqUf':function(_0xda202f,_0xa2c47e){return _0xda202f!==_0xa2c47e;},'qMvOA':'FwnMQ'};console[_0x462c('1b','^P3o')]('\x0a');if(!cookiesArr[0x0]){$[_0x462c('1c','4m(b')]($[_0x462c('1d','OZ[O')],_0x11725b['xQVAk'],_0x11725b[_0x462c('1e','1FtT')],{'open-url':_0x11725b[_0x462c('1f','&yI$')]});return;}let _0x45aa60=rraUrl();console[_0x462c('20','OhP6')](_0x462c('21','QFgt'));let _0x49e65b=await _0x11725b[_0x462c('22','OhP6')](redRainId,_0x45aa60);_0x49e65b=await retryCdn(_0x49e65b,_0x45aa60);console[_0x462c('23','p(#X')](_0x462c('24','4m(b'));if(!_0x49e65b){$[_0x462c('25','NGVa')](_0x462c('26','&yI$'));return;}let _0x523666=_0x49e65b[_0x462c('27','UzNG')](';');console['log'](_0x462c('28','qEo4')+_0x523666);for(let _0x84cbb5 of _0x523666){if(_0x11725b[_0x462c('29','Bfnx')]!==_0x462c('2a','CTsQ')){return _0x11725b[_0x462c('2b','1FtT')](process['env'][_0x462c('2c','z%3g')],'false');}else{let _0x25e74b={};for(let _0x879609=0x0;_0x11725b[_0x462c('2d','OhP6')](_0x879609,0x18);_0x879609++){if(_0x11725b[_0x462c('2e','A4@e')]===_0x11725b[_0x462c('2f','h4q]')]){_0x25e74b[_0x11725b[_0x462c('30','7qbo')](String,_0x879609)]=_0x84cbb5;}else{console[_0x462c('31','ph)!')](''+JSON['stringify'](err));console[_0x462c('32','Sh^K')]($[_0x462c('33','ZFkT')]+'\x20API请求失败，请检查网路重试');}}let _0x32aba9=_0x11725b['nnQLE'](new Date()[_0x462c('34','H7rQ')](),0x8)%0x18;if(_0x25e74b[_0x32aba9]){if(_0x11725b[_0x462c('35','C@cg')](_0x11725b[_0x462c('36','j0@a')],_0x11725b[_0x462c('37','y8V*')])){$[_0x462c('38','z%3g')]=_0x25e74b[_0x32aba9];$[_0x462c('39','AL%O')]('\x0aRRA:\x20'+_0x84cbb5);}else{$[_0x462c('3a','8lS*')]=data[_0x11725b['UFpWa']]&&data[_0x462c('3b','M%%U')][_0x462c('3c','W^52')]||$[_0x462c('3d','UzNG')];}}else{if(_0x462c('3e','Sh^K')===_0x462c('3f','OhP6')){_0x45aa60=$[_0x462c('40','FsTA')](_0x11725b['dREld']);}else{$[_0x462c('41','CTsQ')](_0x462c('42','^CZ5'));return;}}for(let _0x312869=0x0;_0x11725b['azYoy'](_0x312869,cookiesArr[_0x462c('43','Bfnx')]);_0x312869++){if(cookiesArr[_0x312869]){if(_0x11725b['PEYaC']!==_0x11725b[_0x462c('44','ZFkT')]){console[_0x462c('45','z%3g')](e);console[_0x462c('46','x[y)')](_0x462c('47','U0wg'));return![];}else{cookie=cookiesArr[_0x312869];$[_0x462c('48','C@cg')]=_0x11725b[_0x462c('49','W^52')](decodeURIComponent,cookie[_0x462c('4a','zhoj')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x462c('4b','a1h2')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$['index']=_0x11725b[_0x462c('4c','^P3o')](_0x312869,0x1);$[_0x462c('4d','Sh^K')]=!![];$[_0x462c('4e','hf[2')]='';message='';await _0x11725b['EAexh'](TotalBean);console[_0x462c('32','Sh^K')](_0x462c('4f','j0@a')+$[_0x462c('50','y8V*')]+'】'+($[_0x462c('51','z%3g')]||$['UserName'])+_0x462c('52',')Blx'));if(!$[_0x462c('53','M%%U')]){$['msg']($[_0x462c('54','&yI$')],_0x462c('55','T@rV'),_0x462c('56','C@cg')+$['index']+'\x20'+($['nickName']||$[_0x462c('57','y8V*')])+_0x462c('58','cy]t'),{'open-url':'https://bean.m.jd.com/'});if($[_0x462c('59','W^52')]()){await notify[_0x462c('5a','p(#X')]($['name']+_0x462c('5b','p(#X')+$[_0x462c('5c','NGVa')],_0x462c('5d','xyjR')+$['index']+'\x20'+$['UserName']+_0x462c('5e','x[y)'));}continue;}let _0x4d8941=_0x11725b[_0x462c('5f','CTsQ')](new Date()[_0x462c('60','U0wg')]()+_0x11725b['Bvglu'](_0x11725b['Bvglu'](new Date()['getTimezoneOffset'](),0x3c),0x3e8),_0x11725b['Bvglu'](_0x11725b[_0x462c('61','A4@e')](0x8,0x3c)*0x3c,0x3e8));await receiveRedRain();}}}}}if(allMessage){if(_0x11725b['xyqUf'](_0x11725b[_0x462c('62','ZFkT')],_0x11725b['qMvOA'])){console[_0x462c('63','a0HH')](''+JSON[_0x462c('64','^P3o')](err));id=_0x11725b['ieYJd'];}else{if($[_0x462c('65','xyjR')]())await notify[_0x462c('66','cz)@')](''+$[_0x462c('67','1FtT')],''+allMessage);$['msg']($[_0x462c('68','ph)!')],'',allMessage);}}})()[_0x462c('69','A^^n')](_0x4339e4=>{$[_0x462c('6a','UzNG')]('','❌\x20'+$['name']+',\x20失败!\x20原因:\x20'+_0x4339e4+'!','');})[_0x462c('6b','Sh^K')](()=>{$[_0x462c('6c','qEo4')]();});function showMsg(){var _0x5f1429={'nVhFd':function(_0x37319a){return _0x37319a();}};return new Promise(_0x4a5e4f=>{$[_0x462c('6d','cy]t')]($[_0x462c('6e','8lS*')],'',_0x462c('6f','^CZ5')+$[_0x462c('70','H7rQ')]+'】'+$['nickName']+'\x0a'+message);_0x5f1429[_0x462c('71','CTsQ')](_0x4a5e4f);});}function getRedRain(){var _0x5c667a={'mcZIS':_0x462c('72','y8V*'),'MuZvV':function(_0x24ea65,_0x2091cf){return _0x24ea65===_0x2091cf;},'soTuR':_0x462c('73','A^^n'),'chcST':function(_0x164c12,_0x25f5c4){return _0x164c12===_0x25f5c4;},'uazGp':_0x462c('74','M%%U'),'LCbhR':'vlpxC','PIAOf':function(_0x1c586b,_0x1ad7a3){return _0x1c586b+_0x1ad7a3;},'UmiQW':_0x462c('75','NGVa'),'Sqrxp':function(_0x355c2d,_0x1f25ad){return _0x355c2d===_0x1f25ad;},'juBmE':_0x462c('76','gE&I'),'kcXaQ':function(_0x1ba75,_0x4dc04f){return _0x1ba75===_0x4dc04f;},'moNBu':'Xbtez','zygVB':function(_0x1f5854){return _0x1f5854();},'lFviE':function(_0x648c48,_0x2ee2bd){return _0x648c48==_0x2ee2bd;},'PsmDC':function(_0x5002e7,_0x1b1c04,_0x3956be){return _0x5002e7(_0x1b1c04,_0x3956be);}};let _0x367f37;if(bodyList[_0x462c('77','1FtT')](new Date()[_0x462c('78','d2zt')]())){_0x367f37=bodyList[new Date()[_0x462c('79','cz)@')]()];}else{return;}return new Promise(_0x4d36c0=>{var _0x38e85f={'mcxkf':function(_0x2da07e,_0x21dec3){return _0x5c667a[_0x462c('7a','4m(b')](_0x2da07e,_0x21dec3);}};$[_0x462c('7b','h4q]')](_0x5c667a[_0x462c('7c','qEo4')](taskGetUrl,_0x367f37[_0x462c('7d','4m(b')],_0x367f37[_0x462c('7e','qEo4')]),(_0x81080f,_0x757c81,_0xfd5381)=>{var _0x4df7d5={'skBtl':_0x5c667a['mcZIS'],'vKGHh':'jdHalfRRAUrl'};if(_0x5c667a[_0x462c('7f','A^^n')](_0x5c667a[_0x462c('80','NGVa')],_0x5c667a[_0x462c('81','ZFkT')])){try{if(_0x81080f){console[_0x462c('82','xyjR')](''+JSON['stringify'](_0x81080f));console['log']($['name']+_0x462c('83','QFgt'));}else{if(_0x5c667a['chcST']('PYqYi',_0x5c667a[_0x462c('84','72iq')])){if(_0x38e85f[_0x462c('85','a0HH')](typeof JSON[_0x462c('86','xyjR')](_0xfd5381),_0x462c('87','T@rV'))){return!![];}}else{if(safeGet(_0xfd5381)){_0xfd5381=JSON['parse'](_0xfd5381);if(_0xfd5381[_0x462c('88','M%%U')]&&_0xfd5381[_0x462c('89','a1h2')][_0x462c('8a','QFgt')]){console['log'](_0xfd5381['data']['iconArea'][_0x462c('8b','xyjR')](_0x40f346=>_0x40f346[_0x462c('8c','NGVa')]===_0x462c('8d','U0wg'))[_0x462c('8e','qEo4')]&&_0xfd5381['data'][_0x462c('8f','A^^n')][_0x462c('90','ZFkT')](_0xce9d04=>_0xce9d04['type']===_0x462c('91','A^^n'))[0x0][_0x462c('92','cy]t')][_0x462c('93',')Blx')]);let _0x3ae916=_0xfd5381[_0x462c('94','22Yw')]['iconArea'][_0x462c('95','x[y)')](_0x5318fe=>_0x5318fe['type']===_0x462c('96','y8V*'))[0x0];if(_0x3ae916){if(_0x462c('97','Sh^K')!==_0x5c667a[_0x462c('98','^P3o')]){let _0x479d66=_0x3ae916[_0x462c('99','W^52')][_0x462c('9a','NGVa')];$['activityId']=_0x479d66['substr'](_0x5c667a[_0x462c('9b','A4@e')](_0x479d66[_0x462c('9c','Z6T*')](_0x5c667a['UmiQW']),0x3));$['st']=_0x3ae916['startTime'];$['ed']=_0x3ae916[_0x462c('9d','a0HH')];console[_0x462c('9e','4m(b')]($[_0x462c('9f','p(#X')]);console['log'](_0x462c('a0','Sh^K')+new Date($['st']));console[_0x462c('63','a0HH')](_0x462c('a1','4m(b')+new Date($['ed']));}else{_0x4d36c0();}}else{if(_0x5c667a[_0x462c('a2',')Blx')](_0x5c667a[_0x462c('a3','&yI$')],_0x5c667a['juBmE'])){console['log'](_0x462c('a4','hf[2'));}else{$['logErr'](e,_0x757c81);}}}else{console['log']('暂无红包雨');}}}}}catch(_0x3aeed6){if(_0x5c667a[_0x462c('a5','^CZ5')](_0x5c667a[_0x462c('a6','7qbo')],_0x5c667a[_0x462c('a7','2V#A')])){$[_0x462c('a8',')Blx')](_0x3aeed6,_0x757c81);}else{let _0x4ff99c=_0x4df7d5[_0x462c('a9','^CZ5')];if($[_0x462c('aa','A4@e')]()&&process[_0x462c('ab',')Blx')][_0x462c('ac','x[y)')]){_0x4ff99c=process['env']['JD_HALF_RRA_URL'];}else if($['getdata'](_0x4df7d5[_0x462c('ad','hf[2')])){_0x4ff99c=$[_0x462c('ae','C@cg')](_0x4df7d5['vKGHh']);}return _0x4ff99c;}}finally{_0x5c667a[_0x462c('af','j0@a')](_0x4d36c0);}}else{id=_0xfd5381['replace'](/[\r\n]/g,'');}});});}function receiveRedRain(){var _0x56e10b={'sbcYb':'CookieJD2','pmfAE':function(_0x339ed0,_0x4dc7cd){return _0x339ed0(_0x4dc7cd);},'sUSoz':_0x462c('b0','22Yw'),'KAlVx':function(_0xb6bc5c,_0x5cd41a){return _0xb6bc5c===_0x5cd41a;},'pSTFZ':_0x462c('b1','1FtT'),'FOoQq':function(_0x3f86a2,_0x433796){return _0x3f86a2===_0x433796;},'klCdg':function(_0x11afae,_0x2fdb64){return _0x11afae===_0x2fdb64;},'TmEzQ':_0x462c('b2','&yI$'),'NpuNm':_0x462c('b3','a0HH'),'OtEqr':_0x462c('b4','AL%O'),'oOrOd':_0x462c('b5','4m(b'),'kwyZa':function(_0x56efa9){return _0x56efa9();},'IuLfX':'retcode','TMcmz':_0x462c('b6','j0@a'),'lWTLm':function(_0x104071,_0x4a602c){return _0x104071>_0x4a602c;},'gogXh':_0x462c('b7','U0wg'),'uOKpX':_0x462c('b8','zhoj')};return new Promise(_0x3f85ad=>{var _0x131e4c={'hXwOK':function(_0x49e386,_0x3e6421){return _0x49e386===_0x3e6421;},'vySqc':_0x56e10b[_0x462c('b9','xyjR')],'kumSP':'base','DcpBZ':_0x56e10b['TMcmz'],'zltpF':function(_0x4da6e2,_0x546b86){return _0x56e10b['lWTLm'](_0x4da6e2,_0x546b86);}};if(_0x56e10b[_0x462c('ba','M%%U')](_0x462c('bb',')Blx'),_0x56e10b[_0x462c('bc','p(#X')])){data=JSON[_0x462c('bd','U0wg')](data);if(_0x131e4c[_0x462c('be','OhP6')](data[_0x131e4c[_0x462c('bf','Bfnx')]],0xd)){$['isLogin']=![];return;}if(data[_0x131e4c['vySqc']]===0x0){$[_0x462c('c0','^CZ5')]=data[_0x131e4c[_0x462c('c1','MEF&')]]&&data[_0x462c('c2','j0@a')][_0x462c('c3','QFgt')]||$[_0x462c('c4','2V#A')];}else{$[_0x462c('c5','a1h2')]=$[_0x462c('c6',')Blx')];}}else{const _0x5e328c={'actId':$[_0x462c('c7','xyjR')]};$[_0x462c('c8','a0HH')](taskUrl(_0x56e10b['uOKpX'],_0x5e328c),(_0x17d199,_0x22d4f8,_0x2e83d0)=>{var _0x377e2d={'yrLeH':_0x56e10b[_0x462c('c9','z%3g')],'quLth':function(_0x40431a,_0x2cfc96){return _0x56e10b[_0x462c('ca','a0HH')](_0x40431a,_0x2cfc96);},'USWNq':_0x462c('b6','j0@a'),'tugFr':_0x56e10b[_0x462c('cb','cz)@')]};try{if(_0x56e10b[_0x462c('cc','p(#X')](_0x56e10b['pSTFZ'],_0x462c('cd',')Blx'))){if(_0x17d199){console[_0x462c('ce','8lS*')](''+JSON[_0x462c('cf','gE&I')](_0x17d199));console[_0x462c('d0','hf[2')]($[_0x462c('d1','NGVa')]+_0x462c('d2','A^^n'));}else{if(_0x56e10b['pmfAE'](safeGet,_0x2e83d0)){_0x2e83d0=JSON[_0x462c('d3','C@cg')](_0x2e83d0);if(_0x56e10b[_0x462c('d4','y8V*')](_0x2e83d0[_0x462c('d5','x[y)')],'0')){console[_0x462c('d6','cz)@')](_0x462c('d7','d2zt')+JSON[_0x462c('d8','Sh^K')](_0x2e83d0[_0x462c('d9','A4@e')]));message+=_0x462c('da','p(#X')+_0x2e83d0[_0x462c('db','MEF&')][_0x462c('dc','OZ[O')][0x0][_0x462c('dd','CTsQ')]+_0x462c('de','hf[2');allMessage+=_0x462c('df','cy]t')+$[_0x462c('e0','FsTA')]+'】'+($[_0x462c('e1','M%%U')]||$[_0x462c('3d','UzNG')])+_0x462c('e2','a1h2')+_0x2e83d0[_0x462c('e3','xyjR')][_0x462c('e4','1FtT')][0x0]['quantity']+'\x20京豆'+($[_0x462c('e5','gE&I')]!==cookiesArr[_0x462c('e6','8lS*')]?'\x0a\x0a':'\x0a\x0a');}else if(_0x56e10b[_0x462c('e7','22Yw')](_0x2e83d0[_0x462c('d5','x[y)')],'8')){console[_0x462c('e8','A4@e')]('领取失败：本场已领过');message+=_0x462c('e9','h4q]');}else{if(_0x56e10b[_0x462c('ea','7qbo')](_0x462c('eb','xyjR'),_0x56e10b['TmEzQ'])){console['log'](_0x462c('ec','j0@a')+JSON[_0x462c('ed','cz)@')](_0x2e83d0));}else{Object['keys'](jdCookieNode)[_0x462c('ee','^CZ5')](_0x348bb4=>{cookiesArr[_0x462c('ef','T@rV')](jdCookieNode[_0x348bb4]);});if(process[_0x462c('f0','M%%U')][_0x462c('f1','NGVa')]&&_0x131e4c[_0x462c('f2','FsTA')](process[_0x462c('f3','xyjR')][_0x462c('f4',')Blx')],_0x131e4c['DcpBZ']))console[_0x462c('6a','UzNG')]=()=>{};if(_0x131e4c['zltpF'](JSON[_0x462c('f5','AL%O')](process[_0x462c('f6','^CZ5')])[_0x462c('f7','a0HH')](_0x462c('f8','MEF&')),-0x1))process['exit'](0x0);}}}}}else{cookiesArr=[$[_0x462c('f9','A4@e')](_0x462c('fa','hf[2')),$[_0x462c('fb','7qbo')](_0x377e2d[_0x462c('fc','h4q]')]),..._0x377e2d[_0x462c('fd','p(#X')](jsonParse,$[_0x462c('fe','8lS*')](_0x462c('ff','j0@a'))||'[]')[_0x462c('100','OZ[O')](_0x175c28=>_0x175c28['cookie'])]['filter'](_0x1f6042=>!!_0x1f6042);}}catch(_0x51e293){if(_0x56e10b[_0x462c('101','gE&I')]===_0x56e10b[_0x462c('102','j0@a')]){$[_0x462c('103','&yI$')](_0x51e293,_0x22d4f8);}else{$['logErr'](_0x51e293,_0x22d4f8);}}finally{if(_0x56e10b[_0x462c('104','cz)@')]===_0x56e10b[_0x462c('105','xyjR')]){if($[_0x462c('106','qEo4')]()&&process['env'][_0x462c('107','QFgt')]){return process[_0x462c('108','d2zt')][_0x462c('109','OhP6')]!=_0x377e2d[_0x462c('10a','cz)@')];}else if($[_0x462c('10b','cz)@')](_0x377e2d[_0x462c('10c','ZFkT')])){return $[_0x462c('10d','QFgt')](_0x462c('10e','U0wg'))!=_0x377e2d[_0x462c('10f','ph)!')];}return!![];}else{_0x56e10b['kwyZa'](_0x3f85ad);}}});}});}function redRainId(_0x1b1316){var _0x3e0174={'WtOvO':_0x462c('110','qEo4'),'CIfMn':function(_0x3afdfe,_0x5327a2){return _0x3afdfe===_0x5327a2;},'cDODx':'DGufR','LGftL':_0x462c('111','a1h2'),'eOIup':_0x462c('112','hf[2')};return new Promise(_0x4294e6=>{var _0x3a8b83={'bhrRq':_0x3e0174[_0x462c('113','1FtT')],'LiEvb':function(_0x2db297,_0x32bb1a){return _0x3e0174[_0x462c('114','xyjR')](_0x2db297,_0x32bb1a);},'JvSvE':_0x3e0174[_0x462c('115','M%%U')],'qNTLp':_0x3e0174[_0x462c('116','zhoj')],'GBGPP':_0x462c('117','FsTA'),'UfdKF':function(_0x3123e2,_0x5087b1){return _0x3123e2(_0x5087b1);}};const _0x5ae10e={'url':_0x1b1316+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':_0x3e0174[_0x462c('118','x[y)')]}};let _0x3dc05b='';$['get'](_0x5ae10e,async(_0x238d4b,_0x592a7c,_0x425dfc)=>{if(_0x3a8b83['LiEvb'](_0x3a8b83[_0x462c('119','gE&I')],_0x3a8b83[_0x462c('11a','C@cg')])){try{if(_0x238d4b){console[_0x462c('46','x[y)')](''+JSON[_0x462c('f5','AL%O')](_0x238d4b));_0x3dc05b=_0x3a8b83[_0x462c('11b','AL%O')];}else{if(!!_0x425dfc){_0x3dc05b=_0x425dfc[_0x462c('11c','A4@e')](/[\r\n]/g,'');}else{_0x3dc05b='';}}}catch(_0x4b5d0d){if(_0x3a8b83[_0x462c('11d','zhoj')]!==_0x3a8b83['GBGPP']){let _0x546ee3=act[_0x462c('11e','72iq')][_0x462c('11f','a0HH')];$[_0x462c('120','x[y)')]=_0x546ee3[_0x462c('121','Sh^K')](_0x546ee3[_0x462c('122','A4@e')](_0x3a8b83[_0x462c('123','a0HH')])+0x3);$['st']=act['startTime'];$['ed']=act[_0x462c('124','xyjR')];console[_0x462c('ce','8lS*')]($[_0x462c('125','!%#w')]);console[_0x462c('ce','8lS*')](_0x462c('126','A4@e')+new Date($['st']));console['log'](_0x462c('127','h4q]')+new Date($['ed']));}else{$[_0x462c('128','j0@a')](_0x4b5d0d,_0x592a7c);}}finally{_0x3a8b83['UfdKF'](_0x4294e6,_0x3dc05b);}}else{console[_0x462c('129','7qbo')](e);$['msg']($['name'],'',_0x462c('12a','FsTA'));return[];}});});}async function retryCdn(_0x1bacd2,_0x1643df){var _0x437292={'RACDZ':function(_0x2b0c87,_0x42ad20){return _0x2b0c87===_0x42ad20;},'XgVqV':_0x462c('12b','72iq'),'zijnI':function(_0x5010be,_0x524b08){return _0x5010be-_0x524b08;},'OxIvK':function(_0x238b70,_0x1df56a){return _0x238b70(_0x1df56a);}};if(_0x437292[_0x462c('12c','cy]t')](_0x1bacd2,_0x437292[_0x462c('12d','d2zt')])){let _0x416be3=_0x1643df[_0x462c('12e',')Blx')]('/');let _0xaefd98=_0x416be3[_0x437292[_0x462c('12f','CTsQ')](_0x416be3['length'],0x1)];let _0x28bd4b='http://buou-1255594201.file.myqcloud.com/'+_0xaefd98;$[_0x462c('130','M%%U')](_0x462c('131','W^52'));_0x1bacd2=await _0x437292[_0x462c('132','OZ[O')](redRainId,_0x28bd4b);}return _0x437292['RACDZ'](_0x1bacd2,_0x462c('133','OhP6'))?'':_0x1bacd2;}function rraUrl(){var _0x1649f7={'jlJMb':_0x462c('134','h4q]'),'pzQMn':function(_0xb6cdb6,_0x4f5204){return _0xb6cdb6===_0x4f5204;},'zNeJs':_0x462c('135','j0@a'),'rQvRu':_0x462c('136','ZFkT'),'GBcEO':function(_0x44f4b2,_0x369892){return _0x44f4b2!==_0x369892;},'IuBBz':_0x462c('137','xyjR')};let _0x238641=_0x1649f7[_0x462c('138','ph)!')];if($[_0x462c('139','z%3g')]()&&process[_0x462c('13a','CTsQ')]['JD_HALF_RRA_URL']){if(_0x1649f7['pzQMn'](_0x1649f7[_0x462c('13b','U0wg')],_0x1649f7[_0x462c('13c','H7rQ')])){_0x238641=process[_0x462c('13d','zhoj')][_0x462c('13e','qEo4')];}else{return new Promise(_0x359888=>{$[_0x462c('13f','OZ[O')]($[_0x462c('140','Z6T*')],'','【京东账号'+$['index']+'】'+$['nickName']+'\x0a'+message);_0x359888();});}}else if($[_0x462c('fb','7qbo')](_0x1649f7[_0x462c('141','H7rQ')])){if(_0x1649f7['GBcEO'](_0x1649f7[_0x462c('142','1FtT')],_0x1649f7['IuBBz'])){$['done']();}else{_0x238641=$[_0x462c('143','xyjR')](_0x1649f7['rQvRu']);}}return _0x238641;}function isNotify(){var _0x32faf5={'QVTwN':function(_0x124532,_0x53a242){return _0x124532!=_0x53a242;},'IGBFv':_0x462c('144','72iq'),'DkMLR':_0x462c('145','M%%U'),'HdgBf':function(_0x120047,_0x47c16c){return _0x120047!=_0x47c16c;}};if($[_0x462c('146','^CZ5')]()&&process[_0x462c('147','2V#A')][_0x462c('148','Z6T*')]){return _0x32faf5['QVTwN'](process[_0x462c('149','a0HH')][_0x462c('14a','xyjR')],_0x32faf5[_0x462c('14b','ph)!')]);}else if($['getdata'](_0x32faf5['DkMLR'])){return _0x32faf5[_0x462c('14c','j0@a')]($[_0x462c('14d','4m(b')](_0x32faf5[_0x462c('14e','y8V*')]),_0x32faf5[_0x462c('14f','OZ[O')]);}return!![];}function taskGetUrl(_0x39f5e2,_0x596f97){var _0x591b4a={'SiNAS':_0x462c('150','Z6T*'),'ZLagw':_0x462c('151','AL%O'),'mddoB':_0x462c('152','8lS*'),'mLnRc':'keep-alive','DjnfK':_0x462c('153',')Blx'),'iWVve':_0x462c('154','UzNG')};return{'url':_0x39f5e2,'body':_0x596f97,'headers':{'Accept':_0x591b4a[_0x462c('155','W^52')],'Accept-Encoding':_0x591b4a[_0x462c('156','z%3g')],'Accept-Language':_0x591b4a[_0x462c('157','z%3g')],'Connection':_0x591b4a[_0x462c('158','cz)@')],'Content-Type':_0x591b4a['DjnfK'],'Host':_0x591b4a[_0x462c('159','CTsQ')],'Referer':_0x462c('15a','a0HH')+$[_0x462c('15b','cy]t')]+'&lng=0.000000&lat=0.000000&sid=&un_area=','Cookie':cookie,'User-Agent':'JD4iPhone/167685\x20(iPhone;\x20iOS\x2014.4.2;\x20Scale/3.00)'}};}function taskPostUrl(_0x217aae,_0x519fca=_0x519fca){var _0x1233c8={'SajKA':'api.m.jd.com','KuGdp':'application/x-www-form-urlencoded','ZrJlA':_0x462c('15c','U0wg')};return{'url':_0x462c('15d','A4@e')+_0x217aae,'body':_0x519fca,'headers':{'Host':_0x1233c8[_0x462c('15e','T@rV')],'content-type':_0x1233c8['KuGdp'],'accept':_0x462c('15f','4m(b'),'user-agent':_0x1233c8['ZrJlA'],'accept-language':'zh-Hans-JP;q=1,\x20en-JP;q=0.9,\x20zh-Hant-TW;q=0.8,\x20ja-JP;q=0.7,\x20en-US;q=0.6'}};}function taskUrl(_0x443bfd,_0x1c57db={}){var _0x29f26c={'kixoo':function(_0x59bc88,_0x52824a){return _0x59bc88(_0x52824a);},'fjnaP':function(_0x1d05fa,_0xced6ab){return _0x1d05fa+_0xced6ab;},'bxHfR':function(_0x3e0018,_0x5c6535){return _0x3e0018*_0x5c6535;},'SVsXL':function(_0x4be78c,_0x356b34){return _0x4be78c*_0x356b34;},'JXEnj':'gzip,\x20deflate,\x20br','IKfXt':_0x462c('160','MEF&'),'ibaQd':_0x462c('161','FsTA'),'cKWBe':_0x462c('162','!%#w'),'KwEWM':_0x462c('163','CTsQ')};return{'url':JD_API_HOST+_0x462c('164','4m(b')+_0x443bfd+_0x462c('165','j0@a')+_0x29f26c[_0x462c('166','1FtT')](escape,JSON[_0x462c('167','C@cg')](_0x1c57db))+_0x462c('168','!%#w')+_0x29f26c[_0x462c('169','T@rV')](new Date()['getTime']()+_0x29f26c['bxHfR'](_0x29f26c[_0x462c('16a','2V#A')](new Date()[_0x462c('16b','d2zt')](),0x3c),0x3e8),_0x29f26c[_0x462c('16c','FsTA')](_0x29f26c[_0x462c('16d','U0wg')](0x8,0x3c),0x3c)*0x3e8),'headers':{'Accept':_0x462c('16e','AL%O'),'Accept-Encoding':_0x29f26c[_0x462c('16f','4m(b')],'Accept-Language':_0x29f26c[_0x462c('170','y8V*')],'Connection':'keep-alive','Content-Type':_0x29f26c['ibaQd'],'Host':_0x29f26c['cKWBe'],'Referer':_0x462c('171','d2zt')+$[_0x462c('172','22Yw')]+'&lng=0.000000&lat=0.000000&sid=&un_area=','Cookie':cookie,'User-Agent':_0x29f26c[_0x462c('173','U0wg')]}};}function TotalBean(){var _0x3561af={'yGxFz':_0x462c('174','!%#w'),'EvMbt':function(_0x328b32,_0x226a03){return _0x328b32===_0x226a03;},'PhGfU':_0x462c('175','CTsQ'),'KqLhS':function(_0x3bd6a5,_0xbb30f3){return _0x3bd6a5!==_0xbb30f3;},'FGmMK':_0x462c('176','cz)@'),'CNCmX':function(_0xf3f682,_0x417280){return _0xf3f682===_0x417280;},'oggiM':'base','dashY':'EGbCC','EDHnH':function(_0xb217c4){return _0xb217c4();},'cSaoa':_0x462c('177','CTsQ'),'SPCjI':_0x462c('178','OhP6'),'TtdRF':_0x462c('179','z%3g'),'EgCyY':'https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2'};return new Promise(async _0x26beec=>{const _0x46cdd4={'url':_0x462c('17a','ZFkT'),'headers':{'Accept':_0x3561af[_0x462c('17b','ZFkT')],'Content-Type':_0x3561af[_0x462c('17c','W^52')],'Accept-Encoding':_0x462c('17d','CTsQ'),'Accept-Language':_0x3561af[_0x462c('17e','8lS*')],'Connection':_0x462c('17f','x[y)'),'Cookie':cookie,'Referer':_0x3561af[_0x462c('180','H7rQ')],'User-Agent':_0x462c('181','gE&I')}};$['post'](_0x46cdd4,(_0xa3a2b0,_0x1ad649,_0x32ce28)=>{try{if(_0xa3a2b0){console['log'](''+JSON[_0x462c('182','!%#w')](_0xa3a2b0));console[_0x462c('183','cy]t')]($['name']+_0x462c('184','zhoj'));}else{if(_0x32ce28){if(_0x3561af[_0x462c('185','cy]t')]===_0x3561af[_0x462c('186','OhP6')]){_0x32ce28=JSON[_0x462c('187','FsTA')](_0x32ce28);if(_0x3561af['EvMbt'](_0x32ce28[_0x3561af['PhGfU']],0xd)){if(_0x3561af[_0x462c('188','^CZ5')](_0x3561af[_0x462c('189','U0wg')],_0x462c('18a','hf[2'))){$['activityId']=ids[hour];$['log'](_0x462c('18b','zhoj')+codeItem);}else{$[_0x462c('18c','cy]t')]=![];return;}}if(_0x3561af[_0x462c('18d','qEo4')](_0x32ce28[_0x462c('18e','Sh^K')],0x0)){$[_0x462c('18f','qEo4')]=_0x32ce28[_0x3561af[_0x462c('190','4m(b')]]&&_0x32ce28[_0x3561af[_0x462c('191','U0wg')]][_0x462c('192','zhoj')]||$[_0x462c('48','C@cg')];}else{if(_0x3561af[_0x462c('193','a1h2')]!==_0x3561af['dashY']){id='';}else{$[_0x462c('194','a0HH')]=$[_0x462c('195','A4@e')];}}}else{console[_0x462c('9e','4m(b')]('暂无红包雨');}}else{console['log']('京东服务器返回空数据');}}}catch(_0x22f3cb){$[_0x462c('196','x[y)')](_0x22f3cb,_0x1ad649);}finally{_0x3561af['EDHnH'](_0x26beec);}});});}function safeGet(_0x3ff18f){var _0x372531={'CmLYG':_0x462c('197','qEo4'),'XIfaN':_0x462c('198','C@cg'),'Lmtkf':_0x462c('199','a0HH'),'WnoFZ':'application/x-www-form-urlencoded','YSMCK':'api.m.jd.com','wqZGX':'JD4iPhone/167685\x20(iPhone;\x20iOS\x2014.4.2;\x20Scale/3.00)','QboXs':function(_0x2e039d,_0x3db767){return _0x2e039d!==_0x3db767;},'IdCBx':'akheZ','mnOgY':function(_0x69dd59,_0x56d1bf){return _0x69dd59==_0x56d1bf;},'KkzZH':_0x462c('19a','x[y)')};try{if(_0x372531[_0x462c('19b','qEo4')](_0x372531[_0x462c('19c','A4@e')],_0x462c('19d','x[y)'))){if(_0x372531['mnOgY'](typeof JSON['parse'](_0x3ff18f),_0x372531['KkzZH'])){return!![];}}else{return{'url':url,'body':body,'headers':{'Accept':_0x372531[_0x462c('19e','xyjR')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':_0x372531[_0x462c('19f','Sh^K')],'Connection':_0x372531[_0x462c('1a0','hf[2')],'Content-Type':_0x372531['WnoFZ'],'Host':_0x372531[_0x462c('1a1','4m(b')],'Referer':_0x462c('1a2','h4q]')+$['activityId']+_0x462c('1a3','j0@a'),'Cookie':cookie,'User-Agent':_0x372531[_0x462c('1a4','22Yw')]}};}}catch(_0x213693){console[_0x462c('1a5','22Yw')](_0x213693);console[_0x462c('1a6','1FtT')]('京东服务器访问数据为空，请检查自身设备网络情况');return![];}}function jsonParse(_0x1b7d1a){var _0xdd23d3={'kgTkx':function(_0x2121e5,_0x2e5d6d){return _0x2121e5(_0x2e5d6d);},'oUIFm':function(_0xc85b35,_0x17abfb){return _0xc85b35+_0x17abfb;},'mRvvz':function(_0x3013e7,_0x250f47){return _0x3013e7*_0x250f47;},'WUsLe':'gzip,\x20deflate,\x20br','wshbT':'zh-cn','ODVJq':'api.m.jd.com','IuthH':'jdapp;iPhone;10.0.1;14.4.2;8548106a862f1fe7b4b84d3a16f7ffdcf47390de;network/wifi;ADID/3F74A88A-71D3-404B-BBDF-8C0575E680EC;model/iPhone10,2;addressid/4091160336;appBuild/167685;jdSupportDarkMode/1;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_4_2\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1','aNqeT':_0x462c('1a7','d2zt'),'SOCSY':function(_0xf4ac0b,_0xca9e3d){return _0xf4ac0b!==_0xca9e3d;},'zTXKF':'ToTZr','SbUUv':function(_0x47bd76,_0xcf18ad){return _0x47bd76===_0xcf18ad;}};if(typeof _0x1b7d1a==_0xdd23d3[_0x462c('1a8','!%#w')]){if(_0xdd23d3['SOCSY'](_0x462c('1a9','!%#w'),_0xdd23d3[_0x462c('1aa','y8V*')])){try{if(_0xdd23d3[_0x462c('1ab','cy]t')](_0x462c('1ac','d2zt'),_0x462c('1ad','72iq'))){return JSON['parse'](_0x1b7d1a);}else{$['msg']($[_0x462c('1ae','cy]t')],'',_0x462c('1af','QFgt')+$[_0x462c('1b0','p(#X')]+'】'+$[_0x462c('c5','a1h2')]+'\x0a'+message);resolve();}}catch(_0x5c6810){console[_0x462c('45','z%3g')](_0x5c6810);$['msg']($[_0x462c('1b1','M%%U')],'','不要在BoxJS手动复制粘贴修改cookie');return[];}}else{return{'url':JD_API_HOST+'?functionId='+function_id+'&body='+_0xdd23d3['kgTkx'](escape,JSON[_0x462c('1b2','MEF&')](body))+_0x462c('1b3','FsTA')+_0xdd23d3[_0x462c('1b4','A4@e')](new Date()['getTime']()+_0xdd23d3[_0x462c('1b5','gE&I')](new Date()['getTimezoneOffset'](),0x3c)*0x3e8,_0xdd23d3[_0x462c('1b6','UzNG')](0x8,0x3c)*0x3c*0x3e8),'headers':{'Accept':_0x462c('1b7','^P3o'),'Accept-Encoding':_0xdd23d3[_0x462c('1b8','ph)!')],'Accept-Language':_0xdd23d3['wshbT'],'Connection':_0x462c('1b9',')Blx'),'Content-Type':_0x462c('1ba','cz)@'),'Host':_0xdd23d3[_0x462c('1bb','Z6T*')],'Referer':_0x462c('1bc','AL%O')+$['activityId']+_0x462c('1bd','qEo4'),'Cookie':cookie,'User-Agent':_0xdd23d3[_0x462c('1be','7qbo')]}};}}};_0xodk='jsjiami.com.v6'; 

// prettier-ignore
 function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}

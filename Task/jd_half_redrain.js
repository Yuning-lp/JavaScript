/*
 半点京豆雨
 已支持IOS双京东账号,Node.js支持N个京东账号
 脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js

[task_local]
#半点京豆雨
30 16-23/1 * * * https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, tag=半点京豆雨, enabled=true

================Loon==============
[Script]
cron "30 16-23/1 * * *" script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js,tag=半点京豆雨

===============Surge=================
 半点京豆雨 = type=cron,cronexp="30 16-23/1 * * *",wake-system=1,timeout=20,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js

============小火箭=========
 半点京豆雨= type=cron,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, cronexpr="30 16-23/1 * * *",timeout=200, enable=true
 */

 const $ = new Env('半点京豆雨');
 let allMessage = '';
 let bodyList = {}
 const notify = $.isNode() ? require('./sendNotify') : '';
 //Node.js用户请在jdCookie.js处填写京东ck;
 const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
 //IOS等用户直接用NobyDa的jd cookie
 let cookiesArr = [], cookie = '', message;

 var _0xodH='jsjiami.com.v6',_0x193b=[_0xodH,'wrnDjHXDu8Kz','w6JqQiMD','KMO1UsKcwqo=','w50nw7jCgcKuLMK5w6hJw583w6xOw60=','fsO3R3bCoAnDtg==','NsK5YMOPHw==','f1nCnsK9Vg==','OsO8M8KTwp8=','wrPClMKDSkU=','w6w4wqfDgQ8aOQ==','K8OJVMKzwrs=','w74tOTUZ','w43CosOSAsOG','w5F+wqE=','wrLCogLCr1s=','PDpbWXI=','bkkLVsKY','GBpdfnM=','wpHCoiHCoF8=','KMOwbQ==','wptRw4sy','HcKIQcONGw==','w5rCkVpuw5g=','wothRALDjg==','D8KFSkLCpQ==','wogrJsK3wo4=','E8KOXw==','wrJoFw==','eGcERA==','w77Dtxc=','w6bDvsKHI8OdXsKawohn','wovDm0k=','SQ1pUeivtOawkeWmtOi1t++/suivruagguaeuee+kei0oumErOitqw==','WUwfdcKJ','woBWwpbDq0g=','wo81YsKRwo4=','wpXDqnFO','LMO5Ujw=','wqcYcQ==','wpjDh3vDtg==','wq0eegBGwoQ=','w4E/w7vCqw==','wobDmk3CpFfCqlxjwrfDhjnDpTINwpHDggPDrys=','T1QXW8KOw4g=','S099LA==','BMKufGHChsKdL1M=','w4XCvl5pw4vDhQ==','Z8KVw4/DoA==','wrt6BMO0','wqcYYgBGwoTCu8OlYg==','wqtswrjDvWRm','w6MHfhFv','wofCqk50w6M=','wp43ZMKLwp0pNEzDoMOJTQ==','wr5wwrbDunVm','f2gNRMKXw4VT','w5wPwrrDsBs=','w6PDpcOEw6/DmjwywqYk','wqFqwrM=','w7fDtMORw7nDjxw6','wpx0H8O+A1cTFw==','wpgxZMKGwoo0IQ==','wrHCvgg7fTEew5TCtA==','YGR/GcOI','PMKOV8OIP8KGw7lQwq8=','wpvCogE=','RVgVSMKfw5I=','wrnDgGBjXg==','F8KybMOKGw==','w7jDgsOxw7TDow==','RcKOeg==','5pmU5pep57mh5Y2I6Zum','wp3DpGI=','5Lmh5LiZ5p+Z5Yio5Zmp6K6r6Zar5pSk5oyI5LiB56iU772v6KyB5qO/5p+/6ISL6Lql6K2A5aW5576r57ia5oGO5YWj','5pq45pWQ57q+5Y2V6Zim','A8KkcGTCicKOJ1c=','asK+IT1Q','w6vDiMKWZUk=','YkjClsK8Ww==','wrRtw60pcA==','fsKsMRJvV8KN','w4/CuFU=','6aCN5Y6L5ouD5Yia772i6I+Z5b+Lw5w=','YMKYw43DrMOZwpIAS2o=','RcKOacO9w6guw5HCmcKEG8OfcsO2','6aGL5Y+T5ouE5YiW77yN6I6j5b+SdA==','YcK2JyVlQcKRwr5Ow7BMw7UX','w4nCh1d8w53Du8OuMQU=','S8OFfT7CusOgw7w4','ZeS5tuizmA==','w7Mvcgdh','ByVac00yw6g3','wqfCogIiWjU5w7U=','wrN0BMOhD0AgAU0AwqNqw5E=','w7rDgcOAw7zDnSQywrg1','wpbDgU/CokzCsXd+','wqIZchFb','w7pFYg0PBw==','XsK/w73Dp8O+','woHCpAUTezAx','6aGr5Y2A5aSN6LSe772v5p6x5Zyx5bSu6aKA6L+6','IcKcCw==','5b6h5buv77yo','woXCtwPCs3dNS8OPdA==','wpDDiWjDksKpwpA=','wrQ9AMKbwo0=','w50UwoTDpws=','woAOZARK','aEHDicKsUA==','wpF8cDrChcKddXpLQA==','RwIrwovDrsKTw5/CtFjDvMO7bS/CkktFwpPCk0YEwqgjw5E7w67Cs8KsATDClDbCszY=','w69xw5DDgiU=','wqwLM8KhwpQ=','X8K1w5HDtMOu','w6otwrrCqwNANsKYwrfCrcK+UA==','wrN6w7oK','wrJPwqgEfw==','wrdqwrckeGjCosKvwrbDsg==','wpgxZA==','c3nCscKjVQ==','I8KcDQN4TcOYd04Ow5lnwrwwMWrDsiI=','WX3Cg8KOVg==','wqHChQgDUQ==','dcOXVlbCtA==','PsKHHgJET8OVQ1Y=','Y8K4PjQ=','GsOxTBnorLnms4vlprnotaTvv5LorobmoYrmn5vnv5HotoPph5norK4=','f1rCtFMn','w747ei1L','wpPCtMKHW8Kk','P8KSw5g0KA==','w4fDt8Orw6vDlw==','HsK4cUzCqMKLLw==','6aKl5Y+n5omp5Yqj77+26IyX5byncA==','dcO9R0bCpA/DqsKWKXXCtwHDmw==','wqzCvUlLw4ohwr40GgFJwoDCng==','w6HDpMOEw7PDmgEvwrI=','wrLkuLTosLY=','44OP5Lq35Lms6Laz5Y6d','w6IzwrfDoBY=','woPDv19QLcO8ZsK5','wrLDh0vCvnbCuW5i','d+S4oOiwjw==','Z1Y3aMK1','Txw/woLDvw==','AcK9w5ASLw==','w5gnwr3DrDw=','d0/Cvw==','6aKf5Y2E5aSC6LSX77+N5p2R5Z6p5bS26aOK6L+B','KcKSGAo=','HsKCTMOKIMKKw75jwr7DgMKC','w6XDicKRX3fCh1TCvGnDoA==','wo/Dk23DpMKvwpA=','wpNTwqoGYw==','wpvCvwM1bBsy','w7zDrsOI','d0fCgMKbVy0+','McOtZg==','wrgEJsK9wrJbLsKWwo8e','w6cywrQ=','5Lum5LqW5ZyG57qZ5Y2m6Zm15byL5aSX5pew6ZeJ77+H','5Lu05LmU5Zyq57mA5Y+u6Zqo57qT5p2q5pWD6ZWP77y7','5b6X5bqy77+v','J017Y0o=','SFRgPcKCc8OuEX5bfyfDrjINGRA=','PMO6I8KNwoY=','XHnCn30m','S0UNTMKJwprCn39IwoQYwoAPacKrDMKLPH4XQRTDjsKbw75lwpfCscOGwovCt1BuwoNmS8O8AX8LwrvChjrDl8OpUW3Cgh0=','PMOhdcKtwqlaw7UnaWc=','AB41woDCusOAwpDDsAHCo8KlcmfCmVBTwpDCgxBFw6p+w4x+wqzDr8OvHDrCn2/DsCdzw78JRkHDscK2','wpjDuEtAdcKY','wojDuEo=','w7XDv8OT','wp4kUyZ8wrfChcOpSF0=','RFQNWMKbw5TDkQ==','WsKFw5LDv8OY','I8K3w5g0Og==','Y11PCcOi','XMK1PBJY','dEcaRMK8','wo/Dt09e','wozCrQTCsEg=','w5vCuHtEw5c=','w4LDhsKtLMOg','woTDvEnCnUI=','wolIwoDDgls=','wr9jwpnDgVk=','w6LDt8Oow5XDtg==','w5pfw7vDpjk=','wqLDpkvCik0=','XAUfwqrDjg==','wo86Qj95','w78Cw7LCrMKe','wolLw5wj','w57DvcOKw4jDmg==','TGzCgHom','w7pPaw==','w4Yyw7nCp8K3JcKAw7xf','w5cNw6jCvsK/','wo4nw6sycQ==','wqNkwrnDrA==','wo3CkMK2dsK9','OsO9VjHCp0s6','wpkgXhhb','5b665bii776G','w5DCo0B0w4DDkMOuJAg=','w6PDtcOQw6zDmQ==','w5/DusKMPcOp','wrNOw5Y8Yw==','SBs4wozDicKRw5PCpQ==','wocBciJH','w5pWaDwf','w7hJbwEVDsKNw6A=','dkIcTsK0w4HDnTU=','wpHCpgXCvnheQw==','woXClTU8Zw==','STARwqrDlQ==','wrsGR8Kywo8=','YVnCiMKmSg==','wp7CtAk3YDw=','w43CkcOyMcK3wrvCq8K+H8KqcsOFwqJ9aQbDpn3CocKOD8O8OC1qFMOYw6rDl0zCv8OndcOVwrsvHsKEw6TDpww=','5Y6T5ZeF6b6h54yo5aWn6LeGwqY65YyH5ZaW56aw6b+D','wofDsnRaD8O7WcKOR2jCrxU=','UsOEaCDDtMKmwqcwwqpEw7sJw6pUbsKeHMO6WXfCkDrDsnXDlMOZw5IRWzgVwr/CicKjwrrDvRPCjcOPbMKWw5h1wpLDnGXCrnoXCRDDuj8=','woUfw4Ytcw0=','NcKlZ8OrF8Kvw4xFwrnDoMKvBXodw4k=','wq7CusKNW8KEMz7Dl8Kxwr3Dh8KNdUxU','w7XDvQQwL0DChw==','Z8K9GzBsVcK6wr5qw5ZLw7U=','w4gAXyxGwobCoMOYAsO5w6UJw5jChMKIwqNIwpcb','wp4mw6MNTw==','MsOiPw==','wrlIwoXDoEs=','L8OIasKLwoc=','woPCm8Kmd8KkCxk=','ecKUAjhK','w7IHCDAz','w47DkcO4','w7FaZRpXT8KEw6AAw4fDj8KPwp8HwoVEwrU=','bMKpOn9tHcKCwogFw6BWw7Q=','woEzQzU=','T3UtRMKZ','w5tOw7jDgRY=','w7E1w77DpgA=','acOHWzzCrw==','BsOYO8K3wrE=','wpfCjMKDY8KA','wpcgZMKSwph6bxrDncKODwXCrsKHwqPCkyXCjjdUwpfCuW9nwr/DiV5Ow41sw7QXJcKldRV+wp11w45hOALDh8Ouw4YAeMOb','KcO7UjTCsEErwqAew4Q=','w4oAw6YlKljCkMKWVgzDnh9GHcOywqTDm8KFw4DCmMOhw6zCiw/Di8KKw5k5X8KqJiE5wrwgwpHCpMK7MXk=','woEzSSFwwrPCkMOzR04awq7Dqg==','wrNnwrU=','wqxtw6oZZgPDnMKAwoFx','wrh+BMOxC0Y4','wrNuw4oSdg==','aXUsfQ==','wpDCksKxWHcATW4KLsKaZEPDscOtwpRKRMKAwr3CtcO7eMO4ScKew4NVw6bCqcK9Z8KGw49RwpbCmzkuAMKawr3Du8OSWzbCnsO/ehnDusOZwrrDgcOze1V8wrNrwqJDOcOGH8K5w6khw5wGwoRzw6nDuMK9wr0tFsKow79jwrJVwoHDrcOvwox9bsKmwpJmdS/CjcKgLwvDisO1f8Osw5TCvV3Do8KuwrAIwqPDmRIawq8MCcKawqIgJQjCrcKfI8KeFUrDjcKVGTLCixjDgCUzccONCW3DlAnDijXCgsKBwoMKfS0ww5FVMXsPPsOnw4jDuw==','wp4kecOMwoZuKlHCm8OYTgU=','N8KbQSNLRsOPCGU3woxaw651aS/DpTV0wolew453wpIwXzBWwrMGw4PCsQZdD8KiQyAYZXd4dk/CsMOQwrjDgcKwwogeGMO2BwPDmwFOwrvDkQnDg2FHwpMxO8KLKcOLw7Q=','IMOsUi3CtRJww7Y2w5DCp2hYw51RczbDv8OUUgjCosO+wpd8KcKyY8KMwoc+w6dTLcKuwqPCqH1Nw6I9wo0EwoDDncOB','wpvChsKgRG5YRUoLLsKaLgDDpcK0w5cTXcOdw6PDs8K4ZsK2VcKXw5JMw6rCtMKyLcOW','JsKiUFXCsA==','QWURQMKE','w7U0Wg==','w6/DosOYKcOd','TRc+wpfCqsKRw5LCqUfDtg==','w6otwqPDqQcNPcKIw7DCocK/EsKDw6s2w5PCow1+wqUIwr8uwp1DYAXCtsK/CAsbwrY=','RwIyw4nDqsOew5TCpB/DsMO6Lw==','wpxNw7ckXmnCucK4wprCuWfCs8O8wpLCkHx4woDCgFN+wq4HwoXCusO3w7nDgsKwwq8nVhgdwqjCpsKmSSRZFT0JGg==','YsOkdMKqwrxHw6gxTkrDoEU=','w7HCj1Blw6g=','w7fDnsKXX2/CiUnCo1k=','w59dw4MiXCzDr8O4wrhNwoUeVMOYPDVVMj3Dn0cSw77DpMOSwpZxwpXDnkgbwpvDn8KI','wqpgwqDDnWh5IA==','GMKETMO3P8KOw69gwoTDnMKLFUkpw7bCs2Q=','wofCpMKefsKB','w6IzRAhR','wobDun/CjUA=','wox2JMO2Jg==','dMKxKiVq','wrdvBMOlGQh2fEBGw7hrwovCqcOpWlnCicK0wqF5wqXCpWVZByHCrDLDgBPDt8KMHSPDtsOZPWN5w6vDrcKmwpfDn3DCjWHDrw==','w7siYgtvwqHCm8O1AsOb','RsK1w57DhMO8','alPCj0Y8','w4/Cj11lw4o=','w5MIw4DCt8Kr','w7ggZQc=','YEdqKMOm','woXCjsK7PcKoURLDrMONwozDqcK/','w5bDucKrb1I=','wpvDnGbDp8O3w4LDkkjDrSLCusK8wojChk8LNQ==','wpcgZMKSwph6bxrDgsOKUkbDqsKJw6nDninCjHUWwo/DtXFnwqfDixVTw50nw6sPYsK4Mgh9wpUvw4UsNRjDj8O0wpgFIcOU','UMOUfSDCvsKyw6ERwrYew6RbwrtVOsOPHMKmAGvDhn/CtWDDmcOQw4kTUC4Qwr7DnsKrw6zCnxbCk8KLaMKbw5U8worCgDTDpzxQMwvDuj92DsOOTCfCvcKgwq1uPsOHRGxEwpLDpsO/wqcxdyLDosOzSsO7dMOcw4vCjhvCm8KncWnCnMKmwoE8fi3DlsOHw7tAKsO7wpvDgRTDhiYhLMOkw4nDjsO7w7RVJsOrP1gHD8KMw53DsBDCqkRDw4pABMO2wr4dP8KBb8KQwq4Ob8KWwq3DtmTCmsOjw7E2w4JcSjM0wqvCtX9ow7bDusKdUMKC','AMKnX2PCrA==','ecKmaMO6w7c=','UgoewpfDoQ==','w4RBdjAf','wqNvcBzDnQ==','wo3ColdIw4k=','RsKNFB13','w7EwIhc2Rw==','OMOsdw==','WcKow6DDkMOkwrA7clLDkMK2wrk9','IwhmTVAWw5cNwr9ewocSwpQ=','w7E0JcOGL2AGEm82wphSw7Y=','wrHCrcKXQcKaPj/DjcKtwrs=','wq3DmHzCr00=','w7LDr8KBLsOSTcKS','bB4JwoTDsg==','wpvCoxAJRg==','fcK2ICU=','w6HDosOyw4fDpw==','cyY2wpfDkw==','wpfDh152EQ==','w57DhcOvw6TDrQ==','wqV9wrEkYGbCv8KwwoY=','w7zDvsOC','w6rDi8KIUw==','wqTDq8K1f+ivtuayrOWkkei3oO+8rOits+aim+acvue+vui0sOmGheiukg==','w63DmcKpWWbCh04=','HcOrcijClg==','SBMqwqrDhQ==','w4nDnsKEWHY=','wpNqWSXDj8KVdw==','w61pw4jDvi0=','woIFw6spWQnDk8OD','wqLCs05a','R8KIfsOiw4M9w4XCrg==','w48ycxBXwqnCgsOp','dcO9VA==','5Li65Li85pyB5YuL5ZiT6L675Zi+56u/5pSW5o+F','wpbCiTUyYA==','wq96AsOmDw==','w7pPay8JHQ==','wpJtYTrDm8OGNjxcVcK3woLDmsKywpzCtMKiw4LDoS1sBsOMfMO1XcKIw7x5w4tWbMKJwpDCrFkLwojCsjo9wrIuw4N1wrk=','wp7Dvk5JOw==','wr3CpcK0UWY=','wobDjiLDn8K6wozDhQDDgR7DoMK5w5DCm0NJIsOiw7XCrsObw7kiw7Zfw5p2ZsOqEQzCjz/CjsKzwpPDp8KSw7BmwpBtEXc6DsOZw7JhwrEvwrrDkMKUw6XCmwA6Ji1xSQfCrMO0wo1twrYLFMOK','AgVyXHk=','wq/CsFdaw4wn','wrQiw6cYZQ==','T8K+Axxw','w7HDgMO8w5PDiw==','IsK1w5ghDw==','w4nCisOh','MkBo','5LmB5LqK5pyx5Yqa5ZiL6Kyi6Zel5pas5o2o5LiH56qn77216K2U5qGu5pys6Iew6Lqy6K2W5aav57+J57ig5oCz5Ya7','wonCgsKiQWlc','NMOnYsKXwrY=','w6giHgs3','fsKfw5g=','5Lqu6KWW5ZyaX8OBw4/DjRHmiLrliKDlpLbliLjnsaLotI3kvK3mlLt6DsOULWbDpg==','w4zClsOILsOpw7E=','wpF8bDk=','w7bDvsOXw5jDjwsz','fMO8RQ==','wrp1Bg==','wrBdSg7DrcK+TFQ=','wpk1fMKRwo4=','w6jDhcKC','w6VUfgMVCMKJw6Mf','w7NOeg==','w7vDthQxNnvCgA==','wqslw5wKQio=','wrwfO8Kg','TsKEacOtw6wow4k=','WsO9XFnCqBjDmcKA','GMKETMOHN8KXw6s=','w5ssAxM7R8OIw602','wrVmwqwmZ2Q=','wpnDv3FfYsOHwrfCjCPCumUnbsO2wpDCt8OlbxEMAMKRwqDDjA==','w6vDiMKPU2LCmg==','w7XCp39Uw4c=','44K15oy156a844GQ6K265Yec6Iyz5YyK5LuG5LuZ6LSh5Yyf5LqTLDNcwrgtw7DCtuebi+aNqOS9qeeVo00Xw5/CvcO+VOeZiuS4qOS4heevhOWLvuiPvOWPpg==','wrnCkCnCr10=','TMOaSj7CvA==','fFUbdsKI','wrtrwozDsVM=','wofDrkJpeA==','Sh08','w73CoMOSB8Oc','wpnDv2jDn8KB','ME5iYQ==','wqEzXjJ6','UsOEaCDCvcKzwqduwrwUw6tQwq4BOsKRVsK8WDXCn34=','wowlYB1X','w7BiQjs+','5Y2U5ZS+5ayQ5oqb','w4HDoMKwZlI=','wqzCvVo=','woADw68=','wpfCjsK+esKx','6b+w54+H5bCI5L2VOXM=','woXCmGhvw7w=','LMK4GgZw','w5PDs8Opw5vDqg==','w6fCgHVHw5w=','wrxgwoDDp08=','R1I5RcKO','wpXCvAQSXA==','L8O9UgjCkmsXwrYiw5LCvQ==','wo0Pw7wrYQHDisOfL1g=','w7nDpcKS','B8KLARA6Ew==','asOKa1fChQ==','5pWY5rOP5LmS5p6n5Z2N6K6v5Y6M6Ye/576d772G6K2M5qG/5p6X6L276KCA5pS16ZWd','wpZ2cg/DmsKO','w7YkeAVtwqA=','wpI1ZMKBwoM=','wpXDiGvDssKj','J8KCIShD','BMK+X2DCoMKGJA==','VMOZfzvCgMOow6Uk','wpscW8KFwrs=','KcK1w7k=','wr9nwqcodg==','wrJpRlJ4CMKRwo1YYA==','ZMKqHz5nWsKG','wqYEcQ==','w5snw6bCqw==','5Lq15LqO6LSV5Y+F','w7zDpMKRL8OL','wpdXw4wgdyPDtsKg','KsKSXcORGMKCw6d/','wqjCpklPw5xpw6hJHRddwoLDhEfCusKwSRAqw4QMFg==','wpYnXsKNwo8l','5Lux5Lqe6LSn5Yyz','U8OeeDXCtg==','WMKqNiNOUsKFwok=','OUp7UELCjmlRH8Kwwqg6w6F+WS8F','w7AUTjBN','QyY2wqjDnQ==','w4Aiw6HCrcK7','wrpmwqQ=','wpVRw4g=','N1xBa0/Chg==','ScOVcjTCgMOmw7wowrgI','w7vDq8KYLw==','KMKpw7k=','PU57Z0M=','w4vChMOrJA==','woHDnUDCrVTCtHo=','wpjCohzCvw==','44Op5LqS5Lqz6LWt5Y+O','wrZ1FMOwEg==','K8Kzw70tLsKcX8OZ','DcKAUcONGMKMw75zwo3Di8KtNUE7w7fCuXw=','UEULVcKUw4c=','ejOgsjxliaMmRiTx.cnoIDHEBm.v6=='];(function(_0x2ed36d,_0x2f3f3e,_0x3d4355){var _0x5edf83=function(_0x4bbd07,_0xdba186,_0x44802c,_0x53b029,_0x4e47a0){_0xdba186=_0xdba186>>0x8,_0x4e47a0='po';var _0x4a8b82='shift',_0x53508e='push';if(_0xdba186<_0x4bbd07){while(--_0x4bbd07){_0x53b029=_0x2ed36d[_0x4a8b82]();if(_0xdba186===_0x4bbd07){_0xdba186=_0x53b029;_0x44802c=_0x2ed36d[_0x4e47a0+'p']();}else if(_0xdba186&&_0x44802c['replace'](/[eOgxlMRTxnIDHEB=]/g,'')===_0xdba186){_0x2ed36d[_0x53508e](_0x53b029);}}_0x2ed36d[_0x53508e](_0x2ed36d[_0x4a8b82]());}return 0x8b509;};return _0x5edf83(++_0x2f3f3e,_0x3d4355)>>_0x2f3f3e^_0x3d4355;}(_0x193b,0x160,0x16000));var _0x4bff=function(_0x59bf2c,_0x2532bf){_0x59bf2c=~~'0x'['concat'](_0x59bf2c);var _0x58488a=_0x193b[_0x59bf2c];if(_0x4bff['tWnVVI']===undefined){(function(){var _0x23c3b2=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x5d2f40='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x23c3b2['atob']||(_0x23c3b2['atob']=function(_0x70ab4b){var _0x19155f=String(_0x70ab4b)['replace'](/=+$/,'');for(var _0x407e58=0x0,_0xec5c8,_0x448335,_0x178d40=0x0,_0x55c277='';_0x448335=_0x19155f['charAt'](_0x178d40++);~_0x448335&&(_0xec5c8=_0x407e58%0x4?_0xec5c8*0x40+_0x448335:_0x448335,_0x407e58++%0x4)?_0x55c277+=String['fromCharCode'](0xff&_0xec5c8>>(-0x2*_0x407e58&0x6)):0x0){_0x448335=_0x5d2f40['indexOf'](_0x448335);}return _0x55c277;});}());var _0x4737c4=function(_0x56e91f,_0x2532bf){var _0x2a24ac=[],_0x1d08f7=0x0,_0x28626d,_0x1e19c4='',_0x198e23='';_0x56e91f=atob(_0x56e91f);for(var _0xca5b1d=0x0,_0x3fe8a0=_0x56e91f['length'];_0xca5b1d<_0x3fe8a0;_0xca5b1d++){_0x198e23+='%'+('00'+_0x56e91f['charCodeAt'](_0xca5b1d)['toString'](0x10))['slice'](-0x2);}_0x56e91f=decodeURIComponent(_0x198e23);for(var _0x351034=0x0;_0x351034<0x100;_0x351034++){_0x2a24ac[_0x351034]=_0x351034;}for(_0x351034=0x0;_0x351034<0x100;_0x351034++){_0x1d08f7=(_0x1d08f7+_0x2a24ac[_0x351034]+_0x2532bf['charCodeAt'](_0x351034%_0x2532bf['length']))%0x100;_0x28626d=_0x2a24ac[_0x351034];_0x2a24ac[_0x351034]=_0x2a24ac[_0x1d08f7];_0x2a24ac[_0x1d08f7]=_0x28626d;}_0x351034=0x0;_0x1d08f7=0x0;for(var _0x54f9aa=0x0;_0x54f9aa<_0x56e91f['length'];_0x54f9aa++){_0x351034=(_0x351034+0x1)%0x100;_0x1d08f7=(_0x1d08f7+_0x2a24ac[_0x351034])%0x100;_0x28626d=_0x2a24ac[_0x351034];_0x2a24ac[_0x351034]=_0x2a24ac[_0x1d08f7];_0x2a24ac[_0x1d08f7]=_0x28626d;_0x1e19c4+=String['fromCharCode'](_0x56e91f['charCodeAt'](_0x54f9aa)^_0x2a24ac[(_0x2a24ac[_0x351034]+_0x2a24ac[_0x1d08f7])%0x100]);}return _0x1e19c4;};_0x4bff['YNVAsX']=_0x4737c4;_0x4bff['mhDLOW']={};_0x4bff['tWnVVI']=!![];}var _0x422b1c=_0x4bff['mhDLOW'][_0x59bf2c];if(_0x422b1c===undefined){if(_0x4bff['COIPIe']===undefined){_0x4bff['COIPIe']=!![];}_0x58488a=_0x4bff['YNVAsX'](_0x58488a,_0x2532bf);_0x4bff['mhDLOW'][_0x59bf2c]=_0x58488a;}else{_0x58488a=_0x422b1c;}return _0x58488a;};if($[_0x4bff('0','uynV')]()){Object[_0x4bff('1','daiL')](jdCookieNode)[_0x4bff('2','4iiH')](_0x756f5d=>{cookiesArr['push'](jdCookieNode[_0x756f5d]);});if(process[_0x4bff('3','*Zc8')]['JD_DEBUG']&&process[_0x4bff('4','QsxT')][_0x4bff('5','daiL')]===_0x4bff('6','Dbsl'))console[_0x4bff('7','#7&j')]=()=>{};if(JSON[_0x4bff('8','JfzG')](process[_0x4bff('9','JfzG')])[_0x4bff('a','Jrg%')](_0x4bff('b','8715'))>-0x1)process[_0x4bff('c','PQ^t')](0x0);}else{cookiesArr=[$[_0x4bff('d','pO]1')](_0x4bff('e','*Zc8')),$['getdata']('CookieJD2'),...jsonParse($[_0x4bff('f','VT#q')](_0x4bff('10','FrcI'))||'[]')['map'](_0xfbd587=>_0xfbd587[_0x4bff('11','aAVH')])]['filter'](_0x252542=>!!_0x252542);}const JD_API_HOST=_0x4bff('12','(JdF');!(async()=>{var _0x556f7f={'uplTn':function(_0x901f52,_0x176a68){return _0x901f52(_0x176a68);},'qeTnN':function(_0x339e97,_0x5918f6){return _0x339e97==_0x5918f6;},'QTPda':_0x4bff('13','#7&j'),'eYgHZ':_0x4bff('14','2Yn]'),'jDHFY':_0x4bff('15','uynV'),'GRvit':'https://bean.m.jd.com/','fBNQE':function(_0x478349,_0x554b18){return _0x478349(_0x554b18);},'EJUPS':function(_0x2c182b,_0x59fd1b){return _0x2c182b===_0x59fd1b;},'flTlY':'mnYCX','HKIYb':'ncLeL','aKvmZ':_0x4bff('16','7HjK'),'ZlviC':function(_0x249c5e,_0x13db41){return _0x249c5e<_0x13db41;},'TlVsy':function(_0x3a82ba,_0x3d62f2){return _0x3a82ba===_0x3d62f2;},'DWGZr':_0x4bff('17','[(7M'),'UrTYT':_0x4bff('18','f4TY'),'FeIyy':function(_0x4bcede,_0x27a841){return _0x4bcede%_0x27a841;},'gmcBH':function(_0x3fcbbd,_0x5d9fcd){return _0x3fcbbd+_0x5d9fcd;},'sXXeD':_0x4bff('19','eb88'),'WeClt':function(_0x51482e,_0x4b29ec){return _0x51482e<_0x4b29ec;},'jqMCi':function(_0x2988a0,_0x12f4d2){return _0x2988a0+_0x12f4d2;},'dHKgP':function(_0x136ef3){return _0x136ef3();},'VMEiB':function(_0x108426,_0x58dc38){return _0x108426+_0x58dc38;},'jUXRT':function(_0x2e86ee,_0x2e1cba){return _0x2e86ee*_0x2e1cba;},'eTmOZ':function(_0x17dec3,_0x351227){return _0x17dec3!==_0x351227;},'udjcb':_0x4bff('1a','(JdF')};console[_0x4bff('1b','^wwF')]('\x0a');if(!cookiesArr[0x0]){if(_0x4bff('1c','uynV')!==_0x556f7f[_0x4bff('1d','tM%V')]){$['msg']($[_0x4bff('1e','m5jW')],_0x556f7f[_0x4bff('1f','EHid')],_0x4bff('20','[(7M'),{'open-url':_0x556f7f[_0x4bff('21','EHid')]});return;}else{body=bodyList[new Date()['getDate']()];}}let _0x33344d=rraUrl();console['log']('召唤龙王');let _0x1016fd=await _0x556f7f[_0x4bff('22','JfzG')](redRainId,_0x33344d);_0x1016fd=await retryCdn(_0x1016fd,_0x33344d);console['log'](_0x4bff('23','(LPf'));if(!_0x1016fd){if(_0x556f7f[_0x4bff('24','#7&j')](_0x556f7f['flTlY'],_0x556f7f['HKIYb'])){$[_0x4bff('25','M#Pw')]('','❌\x20'+$['name']+',\x20失败!\x20原因:\x20'+e+'!','');}else{$[_0x4bff('26','8715')]('今日龙王🐲出差，天气晴朗☀️，改日再来～\x0a');return;}}let _0x2873ca=_0x1016fd[_0x4bff('27','(1I4')](';');console[_0x4bff('1b','^wwF')](_0x4bff('28','a*$j')+_0x2873ca);for(let _0xc115dc of _0x2873ca){if(_0x556f7f[_0x4bff('29','M#Pw')](_0x556f7f[_0x4bff('2a','j!9W')],_0x4bff('2b','4iiH'))){ids[_0x556f7f['uplTn'](String,i)]=_0xc115dc;}else{let _0x7e833c={};for(let _0x153820=0x0;_0x556f7f['ZlviC'](_0x153820,0x18);_0x153820++){if(_0x556f7f['TlVsy'](_0x556f7f[_0x4bff('2c','2Yn]')],_0x556f7f['UrTYT'])){if(_0x556f7f[_0x4bff('2d','eb88')](typeof JSON['parse'](data),_0x556f7f[_0x4bff('2e','f4TY')])){return!![];}}else{_0x7e833c[String(_0x153820)]=_0xc115dc;}}let _0x318c1d=_0x556f7f['FeIyy'](_0x556f7f[_0x4bff('2f','3QBa')](new Date()[_0x4bff('30','BYCx')](),0x8),0x18);if(_0x7e833c[_0x318c1d]){$[_0x4bff('31','8715')]=_0x7e833c[_0x318c1d];$[_0x4bff('32','YvaA')](_0x4bff('33','b0Xj')+_0xc115dc);}else{if(_0x556f7f['TlVsy'](_0x556f7f[_0x4bff('34','*Zc8')],'vnXxR')){$['log'](_0x4bff('35','(LPf'));return;}else{$[_0x4bff('36','daiL')](e,resp);}}for(let _0x155701=0x0;_0x556f7f['WeClt'](_0x155701,cookiesArr[_0x4bff('37','TP])')]);_0x155701++){if(cookiesArr[_0x155701]){cookie=cookiesArr[_0x155701];$['UserName']=decodeURIComponent(cookie[_0x4bff('38','Dbsl')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x4bff('38','Dbsl')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x4bff('39','tM%V')]=_0x556f7f[_0x4bff('3a','j!9W')](_0x155701,0x1);$[_0x4bff('3b','N[vs')]=!![];$[_0x4bff('3c','[(7M')]='';message='';await _0x556f7f[_0x4bff('3d','Dbsl')](TotalBean);console[_0x4bff('3e','Gx%t')]('\x0a******开始【京东账号'+$[_0x4bff('3f','aAVH')]+'】'+($['nickName']||$['UserName'])+_0x4bff('40','FrcI'));if(!$[_0x4bff('41','b0Xj')]){$[_0x4bff('42','EHid')]($[_0x4bff('43','lm6a')],'【提示】cookie已失效',_0x4bff('44','*Zc8')+$[_0x4bff('45','YvaA')]+'\x20'+($[_0x4bff('46','LmJ1')]||$[_0x4bff('47','VT#q')])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/',{'open-url':_0x4bff('48','M#Pw')});if($[_0x4bff('49','Dbsl')]()){await notify['sendNotify']($['name']+'cookie已失效\x20-\x20'+$['UserName'],_0x4bff('4a','cd#7')+$[_0x4bff('4b','[(7M')]+'\x20'+$[_0x4bff('4c','b0Xj')]+'\x0a请重新登录获取cookie');}continue;}let _0x1fb39c=_0x556f7f['VMEiB'](new Date()['getTime']()+new Date()[_0x4bff('4d','m5jW')]()*0x3c*0x3e8,_0x556f7f[_0x4bff('4e','TP])')](0x8*0x3c*0x3c,0x3e8));await receiveRedRain();}}}}if(allMessage){if(_0x556f7f[_0x4bff('4f','^wwF')](_0x556f7f[_0x4bff('50','lm6a')],_0x556f7f['udjcb'])){console[_0x4bff('51','aAVH')](''+JSON['stringify'](err));console[_0x4bff('52','LmJ1')]($['name']+'\x20API请求失败，请检查网路重试');}else{if($[_0x4bff('53','m5jW')]())await notify[_0x4bff('54','[(7M')](''+$[_0x4bff('55','YvaA')],''+allMessage);$[_0x4bff('56','Gx%t')]($['name'],'',allMessage);}}})()[_0x4bff('57','m5jW')](_0x3554b4=>{$[_0x4bff('26','8715')]('','❌\x20'+$[_0x4bff('58','uynV')]+',\x20失败!\x20原因:\x20'+_0x3554b4+'!','');})[_0x4bff('59','ps(a')](()=>{$['done']();});function showMsg(){return new Promise(_0x2142c1=>{$['msg']($[_0x4bff('5a','7HjK')],'',_0x4bff('5b','LmJ1')+$[_0x4bff('5c','QsxT')]+'】'+$[_0x4bff('5d','Gx%t')]+'\x0a'+message);_0x2142c1();});}function getRedRain(){var _0x432b1a={'Ahvsk':_0x4bff('5e','VT#q'),'IbSbB':'false','vKUwd':function(_0x24c26e,_0x4bae37){return _0x24c26e==_0x4bae37;},'tLORv':_0x4bff('5f','NUmP'),'fnUMK':_0x4bff('60','tM%V'),'hGTCK':_0x4bff('61','JfzG'),'DasuB':function(_0x3a8158,_0x4eab28){return _0x3a8158===_0x4eab28;},'xObww':function(_0x9b1f7d,_0x1d2cc0){return _0x9b1f7d===_0x1d2cc0;},'qVdfp':_0x4bff('62','cd#7'),'gaPzF':function(_0x24b00a,_0x25e4c2,_0x505126){return _0x24b00a(_0x25e4c2,_0x505126);},'IXXlI':function(_0x134761,_0x25d357){return _0x134761!==_0x25d357;}};let _0x4f2813;if(bodyList[_0x4bff('63','lm6a')](new Date()[_0x4bff('64','*Zc8')]())){if(_0x432b1a[_0x4bff('65','VT#q')](_0x4bff('66','b$hV'),_0x4bff('67','^uRb'))){return $['getdata'](_0x432b1a['Ahvsk'])!=_0x432b1a[_0x4bff('68','n$Jq')];}else{_0x4f2813=bodyList[new Date()[_0x4bff('69','(Kgx')]()];}}else{return;}return new Promise(_0x573737=>{var _0x1967f3={'OJvTf':function(_0x3e2f7b,_0x3d96de){return _0x3e2f7b(_0x3d96de);},'MSBbI':function(_0x39f770,_0x3e59d7){return _0x39f770===_0x3e59d7;},'yFhsv':function(_0x43c49c,_0xc6c779){return _0x43c49c!==_0xc6c779;},'biynM':function(_0x28515e,_0x163df3){return _0x432b1a[_0x4bff('6a','cd#7')](_0x28515e,_0x163df3);},'woaMB':_0x432b1a['tLORv'],'qxQHf':_0x432b1a[_0x4bff('6b','FrcI')],'obInM':'ckYTS','HzzIo':_0x432b1a[_0x4bff('6c','uynV')],'WRiuu':_0x4bff('6d','(LPf'),'HKeLO':function(_0x329063,_0x32e6e2){return _0x432b1a[_0x4bff('6e','7HjK')](_0x329063,_0x32e6e2);},'hSTiM':_0x4bff('6f','a*$j'),'DQzfM':function(_0x57fa94,_0x38959b){return _0x432b1a[_0x4bff('70','f4TY')](_0x57fa94,_0x38959b);},'ggrlP':_0x432b1a[_0x4bff('71','a*$j')],'BzDnG':function(_0x52ddb2){return _0x52ddb2();}};$['post'](_0x432b1a[_0x4bff('72','7HjK')](taskGetUrl,_0x4f2813[_0x4bff('73','cd#7')],_0x4f2813[_0x4bff('74','LmJ1')]),(_0x41a971,_0x5430b7,_0x3a3aa7)=>{var _0x33f201={'bHYMb':function(_0x13a778,_0x5c2efb){return _0x1967f3[_0x4bff('75','VT#q')](_0x13a778,_0x5c2efb);},'QLtcJ':_0x1967f3['woaMB']};if(_0x1967f3[_0x4bff('76','2Yn]')]('Ejzlh',_0x1967f3[_0x4bff('77','daiL')])){if(_0x33f201[_0x4bff('78','N[vs')](typeof str,_0x33f201[_0x4bff('79','PQ^t')])){try{return JSON['parse'](str);}catch(_0x18682f){console[_0x4bff('7a','VT#q')](_0x18682f);$[_0x4bff('7b','QsxT')]($[_0x4bff('7c','f4TY')],'','不要在BoxJS手动复制粘贴修改cookie');return[];}}}else{try{if(_0x41a971){console[_0x4bff('7d','Jrg%')](''+JSON[_0x4bff('7e','YvaA')](_0x41a971));console[_0x4bff('7f','ps(a')]($[_0x4bff('55','YvaA')]+_0x4bff('80','a*$j'));}else{if(_0x1967f3[_0x4bff('81','f4TY')](safeGet,_0x3a3aa7)){if(_0x1967f3[_0x4bff('82','eb88')]('ckYTS',_0x1967f3['obInM'])){_0x3a3aa7=JSON[_0x4bff('83','Dbsl')](_0x3a3aa7);if(_0x3a3aa7[_0x4bff('84','(JdF')]&&_0x3a3aa7[_0x4bff('85','BYCx')]['iconArea']){console[_0x4bff('86','EHid')](_0x3a3aa7[_0x4bff('87','tM%V')]['iconArea'][_0x4bff('88','EHid')](_0x46e52b=>_0x46e52b[_0x4bff('89','lm6a')]===_0x4bff('8a','ps(a'))[_0x4bff('8b','NUmP')]&&_0x3a3aa7[_0x4bff('8c','y9at')][_0x4bff('8d','N[vs')][_0x4bff('8e','2Yn]')](_0x240ad4=>_0x240ad4[_0x4bff('8f','ILfR')]==='anchor_darw_lottery')[0x0][_0x4bff('90','QsxT')][_0x4bff('91','EHid')]);let _0x38f1ff=_0x3a3aa7['data']['iconArea'][_0x4bff('92','eb88')](_0x53fdc8=>_0x53fdc8['type']==='platform_red_packege_rain')[0x0];if(_0x38f1ff){if(_0x1967f3[_0x4bff('93','TP])')](_0x4bff('94','M#Pw'),_0x1967f3['HzzIo'])){let _0x332b4b=_0x38f1ff['data'][_0x4bff('95','Dbsl')];$['activityId']=_0x332b4b[_0x4bff('96','eb88')](_0x332b4b[_0x4bff('97','f4TY')](_0x1967f3[_0x4bff('98','(Kgx')])+0x3);$['st']=_0x38f1ff[_0x4bff('99','4iiH')];$['ed']=_0x38f1ff['endTime'];console['log']($['activityId']);console[_0x4bff('7f','ps(a')]('下一场红包雨开始时间：'+new Date($['st']));console[_0x4bff('9a','eb88')]('下一场红包雨结束时间：'+new Date($['ed']));}else{cookiesArr=[$[_0x4bff('9b','4iiH')](_0x4bff('9c','QsxT')),$[_0x4bff('9d','Dbsl')](_0x4bff('9e','3QBa')),..._0x1967f3[_0x4bff('9f','y9at')](jsonParse,$[_0x4bff('9d','Dbsl')](_0x4bff('a0','VT#q'))||'[]')[_0x4bff('a1','7HjK')](_0x2d7f54=>_0x2d7f54['cookie'])][_0x4bff('a2','NUmP')](_0x1790d9=>!!_0x1790d9);}}else{if(_0x1967f3[_0x4bff('a3','(JdF')](_0x1967f3[_0x4bff('a4','VT#q')],_0x1967f3[_0x4bff('a5','4iiH')])){console[_0x4bff('a6','pO]1')](_0x4bff('a7','aAVH'));}else{console[_0x4bff('a8','(JdF')](e);console[_0x4bff('a8','(JdF')](_0x4bff('a9','eb88'));return![];}}}else{console[_0x4bff('25','M#Pw')](_0x4bff('aa','[(7M'));}}else{$[_0x4bff('ab','N[vs')]=$['UserName'];}}}}catch(_0x2305c2){if(_0x1967f3['DQzfM'](_0x1967f3[_0x4bff('ac','b0Xj')],_0x4bff('ad','#7&j'))){_0x3a3aa7=JSON[_0x4bff('ae','b$hV')](_0x3a3aa7);if(_0x1967f3[_0x4bff('af','LmJ1')](_0x3a3aa7[_0x4bff('b0','b0Xj')],'0')){console[_0x4bff('b1','2Yn]')](_0x4bff('b2','(Kgx')+JSON[_0x4bff('b3','ILfR')](_0x3a3aa7[_0x4bff('b4','pO]1')]));message+=_0x4bff('b5','eb88')+_0x3a3aa7[_0x4bff('b6','b0Xj')][_0x4bff('b7','2Yn]')][0x0][_0x4bff('b8','[(7M')]+_0x4bff('b9','Gx%t');allMessage+='【京东账号'+$[_0x4bff('ba','TP])')]+'】'+($[_0x4bff('bb','a*$j')]||$[_0x4bff('bc','3QBa')])+'\x0a领取成功，获得\x20'+_0x3a3aa7[_0x4bff('bd','QsxT')][_0x4bff('be','4iiH')][0x0][_0x4bff('bf','ps(a')]+'\x20京豆'+(_0x1967f3['yFhsv']($[_0x4bff('c0','EHid')],cookiesArr[_0x4bff('c1','JfzG')])?'\x0a\x0a':'\x0a\x0a');}else if(_0x1967f3[_0x4bff('c2','ILfR')](_0x3a3aa7[_0x4bff('c3','3QBa')],'8')){console[_0x4bff('9a','eb88')]('领取失败：本场已领过');message+=_0x4bff('c4','Lr$k');}else{console[_0x4bff('c5','j!9W')](_0x4bff('c6','2Yn]')+JSON[_0x4bff('c7','7HjK')](_0x3a3aa7));}}else{$[_0x4bff('c8','tM%V')](_0x2305c2,_0x5430b7);}}finally{_0x1967f3['BzDnG'](_0x573737);}}});});}function receiveRedRain(){var _0x183bfb={'KTgAh':function(_0x125c81,_0x1fba97){return _0x125c81+_0x1fba97;},'SToSE':function(_0x4f5022,_0x2796b8){return _0x4f5022===_0x2796b8;},'MhVJX':_0x4bff('c9','PQ^t'),'lEedu':'WIeAR','dzlOR':'LYSZy','wJUHa':function(_0x39cb2d,_0x5ec8a3){return _0x39cb2d(_0x5ec8a3);},'WfNvy':function(_0xbd040c,_0x4ca68b){return _0xbd040c===_0x4ca68b;},'zHFrH':_0x4bff('ca','(Kgx'),'DgNTO':function(_0x5a8cf3,_0x5007d9){return _0x5a8cf3!==_0x5007d9;},'QloCX':_0x4bff('cb','EHid'),'bAseS':function(_0xb39f06){return _0xb39f06();},'WkLIX':'*/*','ulauP':_0x4bff('cc','b$hV'),'ZIPXC':_0x4bff('cd','daiL'),'LYnqY':_0x4bff('ce','^wwF'),'dFkIq':'jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1','aPUlk':function(_0x39648f,_0x3d9eca,_0x12ced2){return _0x39648f(_0x3d9eca,_0x12ced2);}};return new Promise(_0x3657c6=>{var _0x4aa277={'ybtga':_0x183bfb[_0x4bff('cf','(LPf')],'kvjlq':_0x183bfb[_0x4bff('d0','PQ^t')],'MIdtP':_0x183bfb['ZIPXC'],'rnoYA':_0x183bfb[_0x4bff('d1','ILfR')],'GYGaS':_0x4bff('d2','(Kgx'),'Iimzo':_0x4bff('d3','LmJ1'),'fmFrZ':_0x183bfb[_0x4bff('d4','aAVH')]};const _0x3921a7={'actId':$[_0x4bff('d5','aAVH')]};$[_0x4bff('d6','Dbsl')](_0x183bfb[_0x4bff('d7','b$hV')](taskUrl,_0x4bff('d8','j!9W'),_0x3921a7),(_0x2e0ce4,_0x5528fb,_0x2437e4)=>{var _0x332fb2={'EZiKm':function(_0x5ce7e4,_0x5dfb40){return _0x183bfb[_0x4bff('d9','b$hV')](_0x5ce7e4,_0x5dfb40);}};try{if(_0x2e0ce4){if(_0x183bfb[_0x4bff('da','3QBa')](_0x183bfb['MhVJX'],_0x183bfb[_0x4bff('db','*Zc8')])){return;}else{console[_0x4bff('9a','eb88')](''+JSON[_0x4bff('dc','j!9W')](_0x2e0ce4));console['log']($[_0x4bff('dd','b0Xj')]+_0x4bff('de','[(7M'));}}else{if(_0x183bfb[_0x4bff('df','WH]]')]===_0x183bfb[_0x4bff('e0','TP])')]){if(_0x183bfb[_0x4bff('e1','(1I4')](safeGet,_0x2437e4)){if(_0x183bfb['WfNvy'](_0x183bfb['zHFrH'],_0x183bfb[_0x4bff('e2','Gx%t')])){_0x2437e4=JSON['parse'](_0x2437e4);if(_0x183bfb[_0x4bff('e3','4iiH')](_0x2437e4[_0x4bff('e4','N[vs')],'0')){console['log'](_0x4bff('e5','NUmP')+JSON['stringify'](_0x2437e4[_0x4bff('e6','*Zc8')]));message+='领取成功，获得\x20'+_0x2437e4[_0x4bff('e7','M#Pw')]['jPeasList'][0x0][_0x4bff('e8','4iiH')]+_0x4bff('e9','Jrg%');allMessage+=_0x4bff('ea','QsxT')+$[_0x4bff('eb','(Kgx')]+'】'+($[_0x4bff('ec','Lr$k')]||$[_0x4bff('ed','ps(a')])+'\x0a领取成功，获得\x20'+_0x2437e4['lotteryResult']['jPeasList'][0x0]['quantity']+_0x4bff('ee','^uRb')+(_0x183bfb[_0x4bff('ef','NUmP')]($[_0x4bff('f0','^wwF')],cookiesArr['length'])?'\x0a\x0a':'\x0a\x0a');}else if(_0x183bfb['WfNvy'](_0x2437e4[_0x4bff('b0','b0Xj')],'8')){if(_0x183bfb[_0x4bff('f1','Gx%t')](_0x4bff('f2','(Kgx'),'GlSVI')){console[_0x4bff('f3','WH]]')]('领取失败：本场已领过');message+=_0x4bff('f4','*Zc8');}else{let _0x12d9f2=act[_0x4bff('f5','j!9W')][_0x4bff('f6','VT#q')];$[_0x4bff('f7','#7&j')]=_0x12d9f2[_0x4bff('f8','tM%V')](_0x332fb2[_0x4bff('f9','aAVH')](_0x12d9f2[_0x4bff('fa','3QBa')](_0x4bff('fb','YvaA')),0x3));$['st']=act['startTime'];$['ed']=act[_0x4bff('fc','b$hV')];console[_0x4bff('fd','cd#7')]($[_0x4bff('fe','PQ^t')]);console[_0x4bff('ff','(Kgx')](_0x4bff('100','Lr$k')+new Date($['st']));console[_0x4bff('7d','Jrg%')](_0x4bff('101','Dbsl')+new Date($['ed']));}}else{console['log'](_0x4bff('102','YvaA')+JSON[_0x4bff('b3','ILfR')](_0x2437e4));}}else{return{'url':url,'body':_0x3921a7,'headers':{'Accept':_0x4aa277[_0x4bff('103','m5jW')],'Accept-Encoding':_0x4bff('104','y9at'),'Accept-Language':_0x4aa277[_0x4bff('105','^uRb')],'Connection':_0x4aa277['MIdtP'],'Content-Type':_0x4aa277['rnoYA'],'Host':_0x4aa277[_0x4bff('106','WH]]')],'Referer':_0x4bff('107','NUmP')+$[_0x4bff('108','cd#7')]+_0x4bff('109','^wwF'),'Cookie':cookie,'User-Agent':$[_0x4bff('10a','(JdF')]()?process[_0x4bff('10b','Lr$k')]['JD_USER_AGENT']?process[_0x4bff('10c','4iiH')]['JD_USER_AGENT']:require('./USER_AGENTS')[_0x4bff('10d','EHid')]:$[_0x4bff('10e','NUmP')](_0x4aa277['Iimzo'])?$['getdata'](_0x4aa277[_0x4bff('10f','ILfR')]):_0x4aa277[_0x4bff('110','Gx%t')]}};}}}else{$['logErr'](e,_0x5528fb);}}}catch(_0x3003a0){if(_0x4bff('111','y9at')!==_0x183bfb[_0x4bff('112','b0Xj')]){$['logErr'](_0x3003a0,_0x5528fb);}else{console['log']('京东服务器返回空数据');}}finally{_0x183bfb[_0x4bff('113','f4TY')](_0x3657c6);}});});}function redRainId(_0x297559){var _0x2d54e8={'EReFu':function(_0x248134){return _0x248134();},'zwDMI':_0x4bff('114','Lr$k'),'DMTKZ':function(_0x8f94e2,_0x4a812e){return _0x8f94e2===_0x4a812e;},'JDybG':_0x4bff('115','7HjK'),'jBPTJ':_0x4bff('116','2Yn]'),'NloUt':_0x4bff('117','YvaA'),'bKcpf':_0x4bff('118','ps(a'),'ujaHo':function(_0x3ef4b5,_0x34fc8e){return _0x3ef4b5!==_0x34fc8e;},'RWHlx':'jAmCz','sduqw':function(_0x9bcff7,_0x368d1d){return _0x9bcff7!==_0x368d1d;},'JpywZ':'kKwxH','RLrmE':'jdHalfRRAUrl','bEgmD':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'};return new Promise(_0x40a7f1=>{var _0x9ec822={'wDRls':_0x2d54e8['RLrmE']};if(_0x2d54e8[_0x4bff('119','eb88')](_0x4bff('11a','eb88'),_0x4bff('11b','4iiH'))){const _0x339a19={'url':_0x297559+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':_0x2d54e8[_0x4bff('11c','(LPf')]}};let _0x2c52c8='';$[_0x4bff('d6','Dbsl')](_0x339a19,async(_0x1b19bc,_0x486963,_0x446413)=>{var _0x374c1b={'iWeab':function(_0x1dfea6){return _0x2d54e8['EReFu'](_0x1dfea6);},'GQAyT':function(_0x3fbdd6){return _0x2d54e8[_0x4bff('11d','ps(a')](_0x3fbdd6);},'LvdVd':_0x2d54e8[_0x4bff('11e','^wwF')]};if(_0x2d54e8[_0x4bff('11f','EHid')](_0x2d54e8[_0x4bff('120','lm6a')],_0x2d54e8['jBPTJ'])){cookiesArr[_0x4bff('121','LmJ1')](jdCookieNode[item]);}else{try{if(_0x2d54e8['DMTKZ'](_0x2d54e8[_0x4bff('122','4iiH')],_0x4bff('123','WH]]'))){if(_0x1b19bc){console[_0x4bff('124','JfzG')](''+JSON[_0x4bff('125','lm6a')](_0x1b19bc));_0x2c52c8='error';}else{if(!!_0x446413){if(_0x2d54e8[_0x4bff('126','lm6a')]!==_0x2d54e8[_0x4bff('127','8715')]){$['msg']($[_0x4bff('128','eb88')],'','【京东账号'+$[_0x4bff('129','(1I4')]+'】'+$['nickName']+'\x0a'+message);_0x374c1b['iWeab'](_0x40a7f1);}else{_0x2c52c8=_0x446413[_0x4bff('12a','BYCx')](/[\r\n]/g,'');}}else{if(_0x2d54e8['ujaHo'](_0x2d54e8[_0x4bff('12b','EHid')],'xGNGT')){_0x2c52c8='';}else{_0x374c1b['GQAyT'](_0x40a7f1);}}}}else{console[_0x4bff('3e','Gx%t')](_0x4bff('12c','(LPf')+JSON[_0x4bff('12d','2Yn]')](_0x446413));}}catch(_0x1cbbb9){$['logErr'](_0x1cbbb9,_0x486963);}finally{if(_0x2d54e8[_0x4bff('12e','4iiH')](_0x2d54e8[_0x4bff('12f','YvaA')],_0x2d54e8[_0x4bff('130','LmJ1')])){$[_0x4bff('131','^wwF')]=_0x446413[_0x374c1b[_0x4bff('132','EHid')]]&&_0x446413[_0x374c1b[_0x4bff('133','JfzG')]][_0x4bff('134','JfzG')]||$[_0x4bff('135','NUmP')];}else{_0x40a7f1(_0x2c52c8);}}}});}else{_0x297559=$[_0x4bff('136','7HjK')](_0x9ec822[_0x4bff('137','3QBa')]);}});}async function retryCdn(_0x6e176d,_0x51168f){var _0x15d4c0={'oBJMR':function(_0x400979,_0xa11b87){return _0x400979===_0xa11b87;},'DRWPd':'error'};if(_0x15d4c0[_0x4bff('138','^wwF')](_0x6e176d,_0x15d4c0[_0x4bff('139','Dbsl')])){let _0xfa6e57=_0x51168f[_0x4bff('13a','b$hV')]('/');let _0x148646=_0xfa6e57[_0xfa6e57[_0x4bff('13b','3QBa')]-0x1];let _0x1704e1=_0x4bff('13c','uynV')+_0x148646;$[_0x4bff('a8','(JdF')](_0x4bff('13d','VT#q'));_0x6e176d=await redRainId(_0x1704e1);}return _0x6e176d===_0x15d4c0['DRWPd']?'':_0x6e176d;}function rraUrl(){var _0x26edbf={'uoKdg':_0x4bff('13e','Lr$k')};let _0x5096c5=_0x4bff('13f','[(7M');if($[_0x4bff('140','8715')]()&&process['env'][_0x4bff('141','VT#q')]){_0x5096c5=process['env'][_0x4bff('142','(1I4')];}else if($[_0x4bff('143','Jrg%')](_0x4bff('144','b0Xj'))){_0x5096c5=$['getdata'](_0x26edbf['uoKdg']);}return _0x5096c5;}function isNotify(){var _0x477da6={'rJkOX':function(_0x475eca,_0x5c5e3a){return _0x475eca!=_0x5c5e3a;},'tMQiJ':'rainNotifyControl','jDdHa':'false'};if($['isNode']()&&process[_0x4bff('3','*Zc8')][_0x4bff('145','TP])')]){return _0x477da6[_0x4bff('146','8715')](process[_0x4bff('147','^uRb')]['RAIN_NOTIFY_CONTROL'],'false');}else if($['getdata'](_0x477da6[_0x4bff('148','eb88')])){return _0x477da6[_0x4bff('149','cd#7')]($[_0x4bff('14a','(1I4')](_0x477da6[_0x4bff('14b','b0Xj')]),_0x477da6[_0x4bff('14c','FrcI')]);}return!![];}function taskGetUrl(_0x380c9a,_0xd91ec7){var _0x5c6a91={'YsDev':_0x4bff('14d','(1I4'),'cTdJk':_0x4bff('14e','JfzG'),'SwGla':'keep-alive','QTrVF':'application/x-www-form-urlencoded','srQpE':_0x4bff('14f','b0Xj'),'IuWBH':function(_0x5f44a6,_0x5eb383){return _0x5f44a6(_0x5eb383);},'JPeYO':_0x4bff('150','EHid')};return{'url':_0x380c9a,'body':_0xd91ec7,'headers':{'Accept':_0x5c6a91[_0x4bff('151','f4TY')],'Accept-Encoding':_0x5c6a91[_0x4bff('152','(LPf')],'Accept-Language':_0x4bff('153','(Kgx'),'Connection':_0x5c6a91[_0x4bff('154','[(7M')],'Content-Type':_0x5c6a91[_0x4bff('155','^uRb')],'Host':_0x5c6a91[_0x4bff('156','(1I4')],'Referer':_0x4bff('157','Dbsl')+$[_0x4bff('158','BYCx')]+_0x4bff('159','8715'),'Cookie':cookie,'User-Agent':$['isNode']()?process['env'][_0x4bff('15a','EHid')]?process[_0x4bff('15b','aAVH')]['JD_USER_AGENT']:_0x5c6a91['IuWBH'](require,'./USER_AGENTS')[_0x4bff('15c','LmJ1')]:$[_0x4bff('15d','QsxT')](_0x5c6a91[_0x4bff('15e','LmJ1')])?$['getdata'](_0x4bff('15f','NUmP')):_0x4bff('160','n$Jq')}};}function taskPostUrl(_0x2063ef,_0x544030=_0x544030){var _0x561741={'VAFwT':_0x4bff('161','Dbsl'),'FuNfL':'*/*','KoCZw':'JD4iPhone/167408\x20(iPhone;\x20iOS\x2014.2;\x20Scale/3.00)','Wcxak':_0x4bff('162','j!9W')};return{'url':_0x4bff('163','BYCx')+_0x2063ef,'body':_0x544030,'headers':{'Host':_0x561741['VAFwT'],'content-type':_0x4bff('164','n$Jq'),'accept':_0x561741['FuNfL'],'user-agent':_0x561741[_0x4bff('165','N[vs')],'accept-language':_0x561741[_0x4bff('166','f4TY')]}};}function taskUrl(_0x8ee7c2,_0x17eed6={}){var _0x2e5f57={'RXbxF':function(_0x5d18cc,_0x55bbe5){return _0x5d18cc(_0x55bbe5);},'VZyrB':function(_0x354c22,_0x4a6c0e){return _0x354c22+_0x4a6c0e;},'BqAdb':function(_0x714224,_0x439814){return _0x714224*_0x439814;},'cZLmD':function(_0x53fa5f,_0x190fd0){return _0x53fa5f*_0x190fd0;},'xrRjH':function(_0x3e992d,_0x32a97b){return _0x3e992d*_0x32a97b;},'DOXmd':_0x4bff('167','QsxT'),'aNQAx':'gzip,\x20deflate,\x20br','SmTcL':_0x4bff('168','YvaA'),'mCrGA':_0x4bff('169','^wwF'),'HKlmP':_0x4bff('16a','(Kgx'),'yhytj':_0x4bff('16b','^wwF'),'UYaAK':_0x4bff('16c','aAVH')};return{'url':JD_API_HOST+_0x4bff('16d','cd#7')+_0x8ee7c2+'&body='+_0x2e5f57[_0x4bff('16e','2Yn]')](escape,JSON[_0x4bff('16f','#7&j')](_0x17eed6))+_0x4bff('170','LmJ1')+_0x2e5f57['VZyrB'](new Date()[_0x4bff('171','eb88')]()+_0x2e5f57['BqAdb'](new Date()[_0x4bff('172','VT#q')]()*0x3c,0x3e8),_0x2e5f57[_0x4bff('173','(1I4')](_0x2e5f57[_0x4bff('174','TP])')](0x8,0x3c),0x3c)*0x3e8),'headers':{'Accept':_0x2e5f57['DOXmd'],'Accept-Encoding':_0x2e5f57[_0x4bff('175','ps(a')],'Accept-Language':_0x2e5f57[_0x4bff('176','QsxT')],'Connection':_0x2e5f57['mCrGA'],'Content-Type':_0x2e5f57['HKlmP'],'Host':_0x2e5f57[_0x4bff('177','b0Xj')],'Referer':_0x4bff('178','QsxT')+$[_0x4bff('179','TP])')]+'&lng=0.000000&lat=0.000000&sid=&un_area=','Cookie':cookie,'User-Agent':_0x2e5f57[_0x4bff('17a','ILfR')]}};}function TotalBean(){var _0x40a365={'UTmpT':_0x4bff('17b','WH]]'),'PGusz':function(_0x5789ea,_0x49439a){return _0x5789ea!==_0x49439a;},'zQbMr':_0x4bff('17c','2Yn]'),'tfBSs':'itGyN','WwtfL':_0x4bff('17d','lm6a'),'UsTuP':'retcode','naqMB':function(_0x56aa68,_0x5788ed){return _0x56aa68===_0x5788ed;},'BFfoK':_0x4bff('17e','TP])'),'kBvGX':function(_0x2b24fe,_0x46fd37){return _0x2b24fe===_0x46fd37;},'dXRbt':_0x4bff('17f','y9at'),'GnbNs':'mAydC','kIKDz':function(_0x445df2,_0x771a55){return _0x445df2(_0x771a55);},'MQmgr':_0x4bff('180','(1I4'),'mjLlk':'application/x-www-form-urlencoded','TvFCE':_0x4bff('181','#7&j'),'RazZd':'application/json,text/plain,\x20*/*','YveVu':_0x4bff('182','tM%V'),'Mpjwf':'zh-cn','KTGLw':_0x4bff('183','Dbsl'),'JlRcu':'JDUA','irwYR':_0x4bff('184','[(7M')};return new Promise(async _0x12f34b=>{var _0x3bac2d={'lHKHY':_0x40a365['MQmgr'],'shrrX':_0x40a365[_0x4bff('185','N[vs')],'GSdya':'*/*'};if(_0x40a365[_0x4bff('186','pO]1')](_0x40a365['TvFCE'],_0x4bff('187','^wwF'))){const _0x3af500={'url':'https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2','headers':{'Accept':_0x40a365[_0x4bff('188','JfzG')],'Content-Type':_0x40a365['mjLlk'],'Accept-Encoding':_0x40a365[_0x4bff('189','daiL')],'Accept-Language':_0x40a365[_0x4bff('18a','M#Pw')],'Connection':'keep-alive','Cookie':cookie,'Referer':_0x40a365[_0x4bff('18b','b0Xj')],'User-Agent':$[_0x4bff('18c','FrcI')]()?process[_0x4bff('18d','cd#7')][_0x4bff('18e','ILfR')]?process['env'][_0x4bff('18f','a*$j')]:require(_0x4bff('190','QsxT'))[_0x4bff('191','(1I4')]:$['getdata'](_0x40a365[_0x4bff('192','ps(a')])?$[_0x4bff('193','YvaA')](_0x40a365[_0x4bff('194','^wwF')]):_0x40a365[_0x4bff('195','3QBa')]}};$[_0x4bff('196','b0Xj')](_0x3af500,(_0x181802,_0x33b164,_0x39aebc)=>{if(_0x4bff('197','4iiH')===_0x40a365[_0x4bff('198','^wwF')]){try{if(_0x181802){if(_0x40a365['PGusz'](_0x40a365[_0x4bff('199','Lr$k')],_0x4bff('19a','4iiH'))){console[_0x4bff('9a','eb88')](''+JSON[_0x4bff('19b','aAVH')](_0x181802));console[_0x4bff('19c','4iiH')]($[_0x4bff('19d','#7&j')]+_0x4bff('19e','#7&j'));}else{$[_0x4bff('19f','#7&j')]=![];return;}}else{if(_0x40a365['tfBSs']!==_0x40a365['WwtfL']){if(_0x39aebc){_0x39aebc=JSON['parse'](_0x39aebc);if(_0x39aebc[_0x40a365[_0x4bff('1a0','BYCx')]]===0xd){if(_0x40a365[_0x4bff('1a1','^wwF')](_0x4bff('1a2','#7&j'),'EkKNi')){_0x12f34b();}else{$[_0x4bff('1a3','daiL')]=![];return;}}if(_0x39aebc[_0x40a365[_0x4bff('1a4','(LPf')]]===0x0){$[_0x4bff('1a5','8715')]=_0x39aebc[_0x40a365['BFfoK']]&&_0x39aebc[_0x4bff('1a6','M#Pw')]['nickname']||$['UserName'];}else{$[_0x4bff('1a7','pO]1')]=$[_0x4bff('1a8','TP])')];}}else{console[_0x4bff('1a9','*Zc8')](_0x4bff('1aa','JfzG'));}}else{if(!!_0x39aebc){id=_0x39aebc['replace'](/[\r\n]/g,'');}else{id='';}}}}catch(_0x3547a5){if(_0x40a365['kBvGX'](_0x40a365[_0x4bff('1ab','3QBa')],_0x40a365['GnbNs'])){return JSON[_0x4bff('1ac','QsxT')](str);}else{$[_0x4bff('1ad','JfzG')](_0x3547a5,_0x33b164);}}finally{_0x12f34b();}}else{return{'url':_0x4bff('1ae','daiL')+function_id,'body':body,'headers':{'Host':_0x3bac2d['lHKHY'],'content-type':_0x3bac2d[_0x4bff('1af','Lr$k')],'accept':_0x3bac2d[_0x4bff('1b0','n$Jq')],'user-agent':'JD4iPhone/167408\x20(iPhone;\x20iOS\x2014.2;\x20Scale/3.00)','accept-language':_0x4bff('1b1','tM%V')}};}});}else{_0x40a365[_0x4bff('1b2','a*$j')](_0x12f34b,id);}});}function safeGet(_0x227597){var _0x207a3a={'njLaK':function(_0x3a1d51,_0x1bf838){return _0x3a1d51==_0x1bf838;},'BgPMp':_0x4bff('1b3','M#Pw'),'aQYNe':_0x4bff('1b4','8715'),'goFgo':'BhJMG'};try{if(_0x207a3a['njLaK'](typeof JSON['parse'](_0x227597),_0x207a3a[_0x4bff('1b5','b0Xj')])){return!![];}}catch(_0xd33dfc){if(_0x207a3a[_0x4bff('1b6','4iiH')]!==_0x207a3a[_0x4bff('1b7','Gx%t')]){console[_0x4bff('1b8','uynV')](_0xd33dfc);console[_0x4bff('1b9','m5jW')](_0x4bff('1ba','Lr$k'));return![];}else{$['logErr'](_0xd33dfc,resp);}}}function jsonParse(_0x5185cb){var _0x24b3e5={'iecSi':function(_0x5a1e66,_0x310ddd){return _0x5a1e66==_0x310ddd;},'sLDpV':_0x4bff('1bb','n$Jq')};if(_0x24b3e5[_0x4bff('1bc','cd#7')](typeof _0x5185cb,_0x24b3e5['sLDpV'])){try{return JSON[_0x4bff('1bd','FrcI')](_0x5185cb);}catch(_0x283e73){console['log'](_0x283e73);$[_0x4bff('1be','ILfR')]($['name'],'',_0x4bff('1bf','2Yn]'));return[];}}};_0xodH='jsjiami.com.v6';
 
 // prettier-ignore
 function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}

/*
 半点京豆雨
 已支持IOS双京东账号,Node.js支持N个京东账号
 脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js

[task_local]
#半点京豆雨
30 16-23/1 * * * https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, tag=半点京豆雨, enabled=true

================Loon==============
[Script]
cron "30 16-23/1 * * *" script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js,tag=半点京豆雨

===============Surge=================
 半点京豆雨 = type=cron,cronexp="30 16-23/1 * * *",wake-system=1,timeout=20,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js

============小火箭=========
 半点京豆雨= type=cron,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, cronexpr="30 16-23/1 * * *",timeout=200, enable=true
 */

 const $ = new Env('半点京豆雨');
 let allMessage = '';
 let bodyList = {}
 const notify = $.isNode() ? require('./sendNotify') : '';
 //Node.js用户请在jdCookie.js处填写京东ck;
 const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
 //IOS等用户直接用NobyDa的jd cookie
 let cookiesArr = [], cookie = '', message;

var _0xodj='jsjiami.com.v6',_0x10d3=[_0xodj,'Q8K6YGME','wpxxJcOn','JMOpeXPor5Tmsb7lpJ7otI7vvpfor7bmoLLmna/nvJ/otqjphInorIM=','TsKEW8OWw4M=','V8KGw5t5Yg==','S8OrwqZzw7Y=','wpwmw58vwonCnQ==','exPClMOGMsKNwohiwo/CpcOfUQXCtMKERi/CjMKWSsK3BsKBw7Y1wqLDicO6w4paw5pDSsOlw5zDocO8L8K9wr3Dow==','5YyQ5Zev6b2h54685aWC6LSlw6pn5Y+j5ZWL56Wh6byQ','woHCgMOdZMK9','C2o1wqsCw6jCscOncSIEWibClkAbwrDDp8OVw7xtwrPClsKRw6cod0pZwprDksOmw6TDuHfCl8Knwr4Ew5zCsQrCh2zCvMOVwqLCqcKdwojCslEf','csKmKh3Do8Kt','QcKYw4E=','w5YCe8OXw71oK8KDw57Dig7CrsKUw5J5','w68xw7bDvhgBVDkuw6tiNsOAKxM=','TcKVTwfCmlfCnA==','ZcKCWycZ','fjvCq8O9wojClBQ=','wrrCocK9w6oHLn0dwqAwfWc=','wrrChsKiVcOKwqUHEsKtw5XDlcKVSVXCjMOpJA==','w4wGw6fDmT0o','w5Jqwo0=','CcOFGcKTw7R8MifCn3bCgkAWT8KiCnxuw6E=','w5QRw6/Dgyk=','woHCnMOZ','w7c0w6DDuAYDXTI1w796NsOWNhFEVMOLw44=','DB7CjMKoYA==','w5Vhw7bDtsK1RTc=','fBxpO8OP','w6Yaw6LDrBU=','w5Bhwo/DhhTClBU=','ZQzCusOyRQ==','wrZVw6YRbg==','CcKHw74=','L8KdLcKEw7d7FMKzXsKkworCkljDj1J7wpU=','MMOhNcKtwoZTERrCoFU=','IFYkwr8xXsKlwpIeXMKHO2XCvnXDjsOKw78Dw4fDp8OOw7LCpcKEMSfCpizDk8O/wpPDn8OoYhTCv8OiworCh2jDpcO8w6k=','EAHCl8KCwqE=','HBbDlsOJw5Y=','WcOAw7ldw58=','w53DuinDlT10Di/DuFMpw4fDmzPCvcObZMKswpRkcljCvC1hGEtCJjPDvzDDrQ==','wpjCj8K1w40aw6PDt8K7EXkXwqk=','w53DqS3DkCJ+GyLDmFg=','fcOoPsK6wpYCU0PDpgDDqy9lJsKAP1ocwp1sKHjDmHLCkMKpFMO3w5nDrjzCvMKkU8KdYw7DtMKTVg==','wo9awoM=','JwrCisOww6Q8wqgvw5EvcGvCn8ODBMK1wphow5bChBQ9HsKewrnCtcOBw7pwwrPCqcK1HsK5IMOzXsOSwqPCuVUTD8KXdsKaQg==','ZMKAQQ0awog6FcOjXMOEWVJlCMKiSUzCtBHDgcK6ZWzDssKhw4bDt8KtPcOkYinCthfCpSnDsG7ColfCusORwqDDv3E=','J1xDwqUy','worCul4=','RcKGw4d8f8KIwqbCiFLDhAhBcUh1w7UcTMOJb2wSXlvCrcKSZsO5w6YhwoQOw6Y=','JMKzERzDpMK8w6TCq8OcwqplXA==','w5/CncKzwocOw7A=','w55kIXwI','wo/Cv8KKXh1nwq8hdg==','HcOvw68oHCdcN8Kfw713wp83H8KZwowNw47CmsKuwqQ8wpteAsO5w6J0wpnCuwDCrjjDmg==','fMKwECbDrsKlw6g=','Y8KASHAF','wrfCoMKBw58CJUo1wo4LakQEwp0eF8OL','DwfCsMKVQQ==','w4IPw4DDhnVtdgMaw5VCHcOwVX9ydA==','wp3Cs8K9Qzs=','ecKkYC4B','wpHCi8KowpMEw7fCssOwVy9WwqnCusODK0cdwpfCrXcZwqVww4TDrinDvG0tWcKTw6IxwpjCvcKsBMK3wphKKsOmw73CsDvCmsOvw4/DhA==','fMO7wo7CtDLDncORBQ3DsQ==','w5/Ck8KywoRKw73Cs8OvDypIw7TCpMKPIwgKw4XDsHZIw7Y0wp3CqHzDtWwhWcOcwqUtwpjDjcKkGMK2wpwP','woFkOsOrccOk','5LiB6KW15ZydPwbDil9p5ouJ5YqE5aag5YmB57Kn6LW/5L6M5pe/BEDCtBfCh8K8','NynCl8KjwqpLWQ==','HT7CscKwSQ==','w57DqyrDnA==','M8K3RcKhDA==','w7Fpw4rDm8KZ','PyHCoMKKwrM=','chfCkMOaYcOBw4Z0wpPCpcOEU17DtcOeHTbDgcOHAMOzGMOfw7w9wqfDgsO4wocJwoQK','fMOoworCsS3Dl8OECC3DuibDqDZzw5UFw6lWw7VwHMKtwqrDmcK/AsKUMsOTwozCh8KKw6I=','wqDCk8K/S8O3w7BcVMK8w53DpcOUTUXDkMOlJ8K7w6jChQPDgsKeIS7Cr8Kiw5oOf8ONK8K6w78Qw5TDh3nCq8OxTMKALXQywqAEwozDsQ==','w7hAw5fDkw==','S8OcwqBOw4J0w7Ifwr7DkgNiwonDvsKhwr/CvsOiwpLCnD84wojCmSLDq0tbGMOJaQ/DkMOowpoCw7Jsw5NUwqvDk8KIw73CtcOLwqzCuVJuO8OowoV1','w7vDuxfDuxE=','bcOzw4LCpFI=','wo7DkTdmTg==','woZ9EsOGRg==','woPDmRU=','ccOIw5wUKgx6VcKpw5IHw7cA','D3xm','c8KRYsOIw6jDiMKJwr8DHMOxIsOq','c8K2UMOkw78=','ZcKRVmEAw5HDgA==','bsKyw6JR','wq7Ck8KFwrIi','a8K6FwY=','wpPCm8OGWsKj','NwnClsKEwoQ=','AXDlp7LotbbCsHjljrzlm7ozMg==','w4zDuhM=','asOJRF8=','UcKAwrfCq+iugeawh+Wkj+i3re++sOism+ahnuadpOe9uei1gOmHlOitpg==','NS3CkcKzwqA=','wqfCisKcw4Ed','w7PDsiHDtQ0=','UcO9wpTCkBE=','woJ1w78+','J39IwrAk','SsObwphRw5YnwrM=','wrrCgsK/WMOrwq4W','RMKZWAjCtULCkF0=','QMKxcGEx','GEzCrcOmw4w=','ZMOcwoHCv1Y=','QjZmBsOb','D3rCmsOww5LDjUtg','wrzCqsKS','5b6a5bi077+0','NjjCkcKpwqtIVcKOFw==','wpFXw7FXw48=','TsO5w6gwGA==','woZOw5kdUg==','5pmw5pew57uq5Y6H6Zu3','NmbCmA==','NmbCmMOHw67Dng==','UMOvwrpGw5s=','wrBUw5xEw5E=','wrXCqXvDuXo=','OT3CksKHbnY=','w6FRw7HDhcKG','w7HDph3DrTo=','w6wnVsOsw5k=','JjnCosKDYA==','PMK0F8K8wo0=','w7PCqMOpUC8=','w5VUwrzDk8OM','G0VRwpkj','ScOEbW5N','5Lq15LmC5p+S5Yi45ZqB6K2f6Zab5pWF5oyj5Lm756q877yW6Kyc5qG05p2H6IeM6LiV6K2b5aah57yu57uC5oOd5YWb','BsK6IUo=','C8KwKnzCicOMwoM=','w6wzV8O3','Z8KaVA==','TsOkwoJYw6Q=','woLCk8ODeMKq','w68yVsO2w5JDBMK6w7U=','wol6w6Q=','wqnDhAltXg==','IDTCisK0','5LiH6Ke25ZybPcOtworCusK95oi95YmR5aeC5Ymn57Ge6LeZ5L+P5pe7wrJ2woUFw59I','w7TDvxLDoBU=','wqDCpMKHw7gO','w593w6U=','w7ZtwoPDvw==','wqHCr2jDpmg=','wo/DhC1YXSE=','ZMKbUEAAw4bDiQ==','w71iwpg=','wq3CicK9','SMKwfUEkw6fDtBg=','YMKbUg==','wqPCscKHw6IFL0Ypwpg=','wpzCkcKq','GMKvwoPChw4KWA==','TT5nN8OXwrA=','wpU7w5g8','wogCLx4bWAs=','woHDkhdTWDDDrw==','w7/DpTbDkj1yJR/Cow==','M8KmCzonwoVu','w7RsLW8UFcOSLQg=','woF1w6I=','wqvCiMKkUMOtwq8=','w5Rtw67DpsKxQw==','EcKSWMK5OQI9wqNIemQm','44G95o6e56aE44KI6K2D5YSc6I2w5Y6X5LiY5Lic6LWn5Y6q5LqowpRbw6LDkynDmsOe55qI5o+35LyP55eTw4zDusOKw4xnw7LnmJzkuK3kuKznr7XliKvojaTlj5s=','wocTLwoJFkVhw5UzwpbCoMKjwq7ClsOKNA7CoBLDncOy','VsKDesOnw5g=','PsK3asK9MA==','wpzCvMKawoI1','Q8KXXTIQ','w69JwpvDscOh','SMKZw5A=','JjTCpsK3wqs=','wrvCtMKMwqs6','ScKFw5A=','FcKXfcK9','GcK5wqnCtRo=','dsKGcMOLw70=','wrksw5Qpwrs=','5YyK5ZaT6b+65468','acOLUW1I','wp5/Lw==','5Y+I5ZeS5ay75oiA','Z8OQbE1N','wpbDjzVzfw==','AcKwPw==','5Lmh5pSU6byf54648KaQjeWHkeW2pO+8u+WkuOazgOaak+adouKaru+5kO+9s+aUhOaXi+WFseafge++l8K8','dTHCuA==','KXnCk8Orw6g=','6b2/54y85bGS5L26A2Q=','LsOOF8Kcw70=','bcKnw7pAYA==','wqHCs8OVbsKq','wo5/w7hqw5fDsA==','UsODa1FT','MHpfwq8g','wp7CmsKowrYjwo7DlcKwSmgL','w5JABGU/','aAfClcOWwq0=','woTClX3DpWA=','wqbCicKEYcOF','woJ6w50BQg==','d8K6Aw==','5pWX5rOR5Li15p6O5Z2F6Kyb5Y6i6YeD57+277636K+J5qC05p+V6L606KKW5pah6ZSq','SjnCux/DnA==','wqHClMKFVMOgwq8=','fsK7Eg==','acOswot2w7ACwptvwpvDsWxXwrjCgsKO','esO9wo7CuSXDgMOE','SjXCtzfDsCxC','w6gZw5HDsTg=','wqTCgsKlXMOwwqI=','E34awqVK','Dn81wrhQ','wo7Cg1zDt3Y=','csKSfA3Csw==','w4nDpjhowo44w5w=','ZD/CpjLDlw==','woB7w7U=','PzHCnMKHdQ==','TC3CusOrwqfCgRhQ','w5XDuRXDljN+AQ==','b8KHRQ==','44O05oyi56aV44CawqwAwpjDlMKiwrTltL3lp6TmlKU=','5Lu25LiV6LeZ5Y21','AyzCncKQQ2PDgSU=','J+iup+mEjuaXo+ebquW8jeiOlOWPjAN6wofDiHR6wqZdEWnCv8ONw6jCri9zEcKmwrF3w67Dj3c=','w5TDvi3DiSctQHTDs1kmwobCjXPDpMOGd8KvwpFkbRo=','wpXCuMK2WBdl','fz10PsOU','wopVEcOFUA==','wogGw6gPwrI=','F8KZdw==','KX3CjcOrw7LDi09jw4U=','ZhhU','w4XCkMOrVg==','aMKmFMK96Kys5rCZ5aWB6Lez77y06Ky/5qCr5pyD572s6LSM6Ya/6K+M','woF1JsOmUcOswqNhw5/Cmw==','w5xlw6/Dtw==','w78pS8O0w5VB5baf5aet5peEwrhiw5E=','HRfCjnHDlsObw7xf','5Lqg5Luo6LST5Y6K','LCLCh8Klwr0=','feivjOmGuuaVvOeZnuW9uOiOueWNtcKDO8ObwrXDolM=','EF4DwphMQGs=','w5LCm8OFWAo=','fsOowqHCqFjDgQ==','V8KTw5l0WMKEwrPClV3Dkg==','dcK0CRc=','YcKHUg==','wonCjFXDtw==','QMOJwqBdw5k=','fQbCjcOT','ZMOH5aW16LeRw7p75Y+v5Zi2AsOo','TsKfVQY=','c8O5wpfCuA==','44Kn5Lqo5Lun6LaE5Y6C','dcK8BxnDicKpw6DCoQ==','wokVATg/','MsOgbQ==','w7pJwrTDhxg=','M3p0wpQm','wr7CiMK5w6ES','PMKiDBExwp9fw5YkQnvCj8KVMg==','IinCl8KEwqRbWQ==','w6/Dlj5Cwq0=','YMKbUjgbw4A=','wqLCr03DnWg=','w5NJwozDhxA=','dsKCNDPDog==','wpXCu8KCWDg=','ScKTNxvDrA==','w5xOBn4o','w6wpV8Or','fwjChw==','ZBZeGg==','OR/Cj8OQ6Kye5rKi5aWE6LSQ772B6K625qCG5p+/57666LWb6YWv6K+z','w49CwqrDsA8=','H8KXZMK5','Q8KTVA3CulHCmFk=','wp3CnsKowoI=','wprCosKUQxZy','T8O1w7Mk','WsOiw6ApFjt3bsKJw6c1w6Y4HMKEwp0Gw4jCtQ==','F8KTfsK/IQw=','FcKgwpPCgw==','wrnCpsKaw6UqOkou','dQ7CjMOCbcOQ','w6x1wp7Dvw==','QsOGwrdWw548woJUwqjDkVpXwoHCv8K2wqTCtsK/wp4=','B381wro=','Bn1kwqIERMKzwrUf','wpjCqsKMVg==','w7UlS8Oxw71WCMK9','w5rDozXDjTFl','PB3Cm2Y=','Z8O3wo7Cs1rDi8Oiw6dbwqQKw4YAXHIxwo16HsO+w40Qw7PDocK3','w5fDhDNJwoc=','w78VbcO1w6U=','P8OlJMK8','EMKiwpPCiwAsSsKxw6nCnsOy','f8KBVw4dw4A=','w7UoQMO6w4RrCw==','HsKYdMKMPAkK','aMOHTg==','w70lUMO2w4pNGcKlw4XDvA==','5Lmm5Luf5Z2i57qb5Y+t6ZmH5b+r5aWu5pSI6Zah776Z','5Lub5LuF5Z+P57ip5Y2u6Zqg57u85pyQ5pSX6ZaR77yV','ASHDmQ==','w5Zlw7bDsw==','wo16w7EzbEDDtcOuLsKhPUvCvBXCoShGbVQ=','wosGLxs=','PcKgEDAHwoNqw4U=','w5/CiMO2Vg==','c8O6wpvCpg==','HcKuwpPClhM3R8KBw5g=','Cn0uwrV5wrXDu8O3','QsKfw5tkc8KZ','HmtgwrM=','wozCp8KZQxVvwrQqUB1aw63CnMO/w4tmX0jClcK3QMKswqZZYA==','DMK8LFDCnsOGwp/DnMKrJ8Ov','wofDlBdeTy3DujoDwrQ=','KXzCncOxw6jDng==','w6PCiMOoVT0=','YBPCgcOEfMO2w45twp8=','fsK7ACbDrsKlw6g=','wqnChMK/UsOywqMHAsKCw4g=','5Lus5Lut5ZyC57iw5YyL6ZmZ5b6R5aeZ5pao6ZSV77y6','wpDCpMKf','ccO3wp0=','5puY5pep57md5Y6H6Zm0','w4fCnsOh','Bn13','5pm+5pSr57ma5Yyy6Zqb','ZcOiwr7ClU8=','OsODHsKXw6c=','Hmtfwp47','PcKwMzEhwphh','wqF/w7BEw4zDp8KSNw==','NFQYwqdMSH3DqcKk','NsOjPMKOw48=','wrBhw4lmw5U=','PBrCtcKxwqk=','BHlBwqE3','c8O1wpLCmjM=','wqrCrcOYw6gF','woQCPgpXTQYnw4Ez','JwrCisOww6Q8wqgvw5EveHPCm8OZAcKtw7sGw7HCsQglH8KJw6nCusKZwocTwqrCuMOFUcO5bMK6Y8Kew7DDpR4OEsKJ','V8OJSlJO','wonCglnDulzDlMO1QD/CiE7Dj8OhwrrClcK5w74a','fQXCssO+cA==','wrnCv8KDw5Iq','WMK3e8Ofw4g=','WcO4w4wtDQ==','IhnDjcORw4Q=','wqXCkMKIbsOI','ScKBw7RFWg==','wrDDmy9TTw==','ZMK4dzwD','PGDCk8O2w7nDng==','ZcOLXVNVVVtSw5Jl','w4zClMOy','wrXCqFXDpUo=','JcK0MDIz','w48hV8OWw7c=','w43DphM=','w47DvBdswqcww5/DsQ==','AMKNAHzCsA==','wqIyw6cBwo0=','woImw4EkwpzClmY=','V8KCw4V5eMKMwq7CmkI=','VcOtw64k','MmkAwoNA','Jj7CisKRaA==','w49Uwq7DtxI=','w4/DvzvDujtzCg==','bsKbRQ==','6aGW5YyT5oul5YiU772n6I+/5b64bw==','HcKuwpPClhM3R8Kaw5nCn8Orw61c','6aOO5Yyx5omU5Ymr77+X6I+s5b+nw7Y=','MFnCmsOjw6/DoE92w4g=','BOS5muizsQ==','MsOqNMK4w5M=','wpx5K8OpUcOiwrpt','QsOoworCtXLDhcO9w68=','w5DDpS3DjTFlFgnDtE8ywoTDlw==','fcOLworCpk/DqMO5w7lw','N+S4t+iyqQ==','PcKtGzs+','J8K2HR0pwpVq','wojCncOI','6aOd5Y2S5aWh6Le4776x5pye5Z2H5baB6aGQ6L+3','6aGW5YyT5aeE6Lau772n5p2k5ZyV5ba96aGn6L6i','V8Ojw6Q=','5b6+5bqy772D','6aO95Yyg5aSh6Le9772P5p2I5Z2V5bSD6aKP6L+o','D3Emwp5KwrU=','NGTCl8OFw6s=','XRRd','PXPClsOywrDCjEJgw5rCmEPCjMOfEcKew6lm','bcK7DhjDpg==','PMKLCjQI','wqbCmVLDvWk=','IFIUwpV3','dcOswo7CrTfCjsKKUyzCoGbCqmA0w4Zcw70Uw74wD8Kjw7PDhcK7C8OeLsOVwofCkcKOw6/CmMKHwqzDjQ0yF8KKCcObw77DgljDk8OwMA==','KsKYWxpUwoI7CsKyHMKdRw9tDsKnExLDq1LDnsOpOTXCp8O/wpTCqsKlOsKtLTPCtnfCoi7Du2zDqw==','awdaUcOvw5zCmsKKWMKawqA8','wqZQwqYyU1rDhcOkKsO8czrDo1TDoHxgWWPDp8ODwr5HDsO/wo7CoMKOwrjChDU5wr/CnRzCuD3DpH19YsK9wp3Dgg==','wqHCscKeTcO1','U8KzCjbDsg==','H8OQIMK5w68=','VcOxwpByw5s=','Q8KTw4M=','VsKcIibDiw==','bwLCpjbDlA==','w4TDqT/Dsic=','Y8OSQEoPHEtOw71twpPDvitrw6TCtMKx','wpjCj8Kswo8ewq7DvMKrVnUWw6vDrMKEOB4Jw5XCpjcKwqspw5jDqiDCtnErUsKFw6Y8','BzXCqsKQwrc=','w6bCuMOAZyg=','QcOmwq5rw4Y=','fMOYwrvCtmk=','RhPClyLDhA==','woPCpcOZTsK2','O3c+wo9m','wq/CqnnDsVg=','w4PCrcKNWRB0wq8oYSZbwrQ=','wrvCk8K5UsOqwq0aHcKy','NU8fwrVO','NGs4woJf','a8KRQSkAw59w','w75WwofDm8Ok','F8Kbwo7CozU=','ZMKSTFwQ','C8KQwo7CjD0=','Xz7CqMOjYg==','w4Fmw6/DlcKY','w4jDoQB3wpprwp3Cu8KCAMKhIzMuQxDCtnLCi8K7QsKhwqUDwow9woLCnMKTw5N1ai3Dp8Kgw7t8fMKvCcObwoQywqYNw5/CpWfDog==','c8ObwpzClSE=','ScOpw7MtGCpN','w7Rgw4bDtMKe','woZYB8ObVQ==','w4ZMw43Di8Ke','XsKhTSUl','KSPChMKFwrdd','wq5bw5MJVw==','jsjPiPJaZmhMMi.zuDMYcoUMm.v6=='];(function(_0x44d924,_0x3d359e,_0x212752){var _0x185323=function(_0x46a811,_0x54c590,_0x14cb2f,_0x43c348,_0x2a6269){_0x54c590=_0x54c590>>0x8,_0x2a6269='po';var _0x3ccc93='shift',_0x5c27d4='push';if(_0x54c590<_0x46a811){while(--_0x46a811){_0x43c348=_0x44d924[_0x3ccc93]();if(_0x54c590===_0x46a811){_0x54c590=_0x43c348;_0x14cb2f=_0x44d924[_0x2a6269+'p']();}else if(_0x54c590&&_0x14cb2f['replace'](/[PPJZhMMzuDMYUM=]/g,'')===_0x54c590){_0x44d924[_0x5c27d4](_0x43c348);}}_0x44d924[_0x5c27d4](_0x44d924[_0x3ccc93]());}return 0x8e9cc;};return _0x185323(++_0x3d359e,_0x212752)>>_0x3d359e^_0x212752;}(_0x10d3,0x96,0x9600));var _0x22c9=function(_0x18ce39,_0x570fd8){_0x18ce39=~~'0x'['concat'](_0x18ce39);var _0x56f265=_0x10d3[_0x18ce39];if(_0x22c9['SXGLKz']===undefined){(function(){var _0x3f4670=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x41daab='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3f4670['atob']||(_0x3f4670['atob']=function(_0x1e48dd){var _0xf5904f=String(_0x1e48dd)['replace'](/=+$/,'');for(var _0xb93e09=0x0,_0x403fe3,_0x5d77e4,_0x1acde1=0x0,_0x4eb190='';_0x5d77e4=_0xf5904f['charAt'](_0x1acde1++);~_0x5d77e4&&(_0x403fe3=_0xb93e09%0x4?_0x403fe3*0x40+_0x5d77e4:_0x5d77e4,_0xb93e09++%0x4)?_0x4eb190+=String['fromCharCode'](0xff&_0x403fe3>>(-0x2*_0xb93e09&0x6)):0x0){_0x5d77e4=_0x41daab['indexOf'](_0x5d77e4);}return _0x4eb190;});}());var _0x3e8fc2=function(_0x11810a,_0x570fd8){var _0x4553e4=[],_0x3e3ebe=0x0,_0x1d42b3,_0x31500b='',_0x30b406='';_0x11810a=atob(_0x11810a);for(var _0x22447f=0x0,_0x219960=_0x11810a['length'];_0x22447f<_0x219960;_0x22447f++){_0x30b406+='%'+('00'+_0x11810a['charCodeAt'](_0x22447f)['toString'](0x10))['slice'](-0x2);}_0x11810a=decodeURIComponent(_0x30b406);for(var _0x3db432=0x0;_0x3db432<0x100;_0x3db432++){_0x4553e4[_0x3db432]=_0x3db432;}for(_0x3db432=0x0;_0x3db432<0x100;_0x3db432++){_0x3e3ebe=(_0x3e3ebe+_0x4553e4[_0x3db432]+_0x570fd8['charCodeAt'](_0x3db432%_0x570fd8['length']))%0x100;_0x1d42b3=_0x4553e4[_0x3db432];_0x4553e4[_0x3db432]=_0x4553e4[_0x3e3ebe];_0x4553e4[_0x3e3ebe]=_0x1d42b3;}_0x3db432=0x0;_0x3e3ebe=0x0;for(var _0x1eb956=0x0;_0x1eb956<_0x11810a['length'];_0x1eb956++){_0x3db432=(_0x3db432+0x1)%0x100;_0x3e3ebe=(_0x3e3ebe+_0x4553e4[_0x3db432])%0x100;_0x1d42b3=_0x4553e4[_0x3db432];_0x4553e4[_0x3db432]=_0x4553e4[_0x3e3ebe];_0x4553e4[_0x3e3ebe]=_0x1d42b3;_0x31500b+=String['fromCharCode'](_0x11810a['charCodeAt'](_0x1eb956)^_0x4553e4[(_0x4553e4[_0x3db432]+_0x4553e4[_0x3e3ebe])%0x100]);}return _0x31500b;};_0x22c9['HygWNs']=_0x3e8fc2;_0x22c9['yyJkIa']={};_0x22c9['SXGLKz']=!![];}var _0x3a61f3=_0x22c9['yyJkIa'][_0x18ce39];if(_0x3a61f3===undefined){if(_0x22c9['mkLbJV']===undefined){_0x22c9['mkLbJV']=!![];}_0x56f265=_0x22c9['HygWNs'](_0x56f265,_0x570fd8);_0x22c9['yyJkIa'][_0x18ce39]=_0x56f265;}else{_0x56f265=_0x3a61f3;}return _0x56f265;};if($[_0x22c9('0','tkH*')]()){Object['keys'](jdCookieNode)[_0x22c9('1','m4Ei')](_0x2a0a1d=>{cookiesArr['push'](jdCookieNode[_0x2a0a1d]);});if(process[_0x22c9('2','vSP]')]['JD_DEBUG']&&process[_0x22c9('3','N)dZ')][_0x22c9('4','m4Ei')]==='false')console[_0x22c9('5','qkRC')]=()=>{};if(JSON[_0x22c9('6','T!PF')](process[_0x22c9('7','3wr1')])[_0x22c9('8','QnyM')](_0x22c9('9','ThBd'))>-0x1)process[_0x22c9('a','DfCW')](0x0);}else{cookiesArr=[$[_0x22c9('b','FErC')]('CookieJD'),$[_0x22c9('c','tkH*')](_0x22c9('d','#QQE')),...jsonParse($[_0x22c9('e','aV1t')](_0x22c9('f','V]zB'))||'[]')[_0x22c9('10','f8Js')](_0x5777c2=>_0x5777c2[_0x22c9('11','N)dZ')])][_0x22c9('12','sbL]')](_0x280f4e=>!!_0x280f4e);}const JD_API_HOST='https://api.m.jd.com/api';!(async()=>{var _0xbb1335={'gixLM':'http://qultibzw5.hb-bkt.clouddn.com/jd-half-rain.json','MlxGa':_0x22c9('13','SEWa'),'cxEwn':function(_0xc3cad4,_0x304652){return _0xc3cad4===_0x304652;},'hxNWl':_0x22c9('14','FixQ'),'OSMVF':_0x22c9('15','FErC'),'IoeaF':function(_0xe3b370){return _0xe3b370();},'pGWYB':function(_0x2e2e75,_0x1efb3e){return _0x2e2e75(_0x1efb3e);},'mcxWk':function(_0x445250,_0x4225d7,_0x570e79){return _0x445250(_0x4225d7,_0x570e79);},'pxVDF':_0x22c9('16','g)nc'),'uJGAV':function(_0x2d5c00,_0x3501ac){return _0x2d5c00!==_0x3501ac;},'IQMPv':_0x22c9('17','SEWa'),'VkBkp':function(_0x41a3af,_0x81bb00){return _0x41a3af<_0x81bb00;},'PFujT':function(_0x47cf2e,_0x1486fb){return _0x47cf2e(_0x1486fb);},'wIErs':function(_0x15b958,_0xb8501e){return _0x15b958%_0xb8501e;},'ZhOyA':function(_0x119c0f,_0x373ecc){return _0x119c0f+_0x373ecc;},'qYJOD':_0x22c9('18','3wr1'),'nnOZA':_0x22c9('19','qkRC'),'dEmio':function(_0x3a0e50,_0xe8dc58){return _0x3a0e50(_0xe8dc58);},'XbGnH':function(_0x1b06ff,_0x147945){return _0x1b06ff+_0x147945;},'xEYGO':_0x22c9('1a','vSP]'),'UShYP':function(_0xd7e271,_0x5c38a8){return _0xd7e271+_0x5c38a8;},'yjCkn':function(_0x603507,_0x22525d){return _0x603507*_0x22525d;}};console[_0x22c9('1b','$2Jz')]('\x0a');if(!cookiesArr[0x0]){if(_0xbb1335[_0x22c9('1c','pK%E')](_0x22c9('1d','3wr1'),'uiTiH')){return;}else{$[_0x22c9('1e','$2Jz')]($[_0x22c9('1f','SEWa')],_0xbb1335[_0x22c9('20','QnyM')],_0xbb1335['OSMVF'],{'open-url':_0xbb1335[_0x22c9('21','g)nc')]});return;}}let _0x25ad45=_0xbb1335[_0x22c9('22','DfCW')](rraUrl);console['log'](_0x22c9('23','tkH*'));let _0x49dd2b=await _0xbb1335['pGWYB'](redRainId,_0x25ad45);_0x49dd2b=await _0xbb1335[_0x22c9('24','HxT3')](retryCdn,_0x49dd2b,_0x25ad45);console[_0x22c9('25','y1oJ')](_0x22c9('26','$2Jz'));if(!_0x49dd2b){if(_0xbb1335[_0x22c9('27','HxT3')](_0x22c9('16','g)nc'),_0xbb1335[_0x22c9('28','tkH*')])){$[_0x22c9('29',')QOT')](_0x22c9('2a','!(dy'));return;}else{console[_0x22c9('2b','cGEh')]('京东服务器返回空数据');}}let _0x19b6d0=_0x49dd2b[_0x22c9('2c','LUdh')](';');console['log'](_0x22c9('2d','tkH*')+_0x19b6d0);for(let _0x15e34e of _0x19b6d0){if(_0xbb1335[_0x22c9('2e','0Ev2')](_0xbb1335[_0x22c9('2f','$2Jz')],_0x22c9('30','k&)&'))){$[_0x22c9('31','UBn8')](e,resp);}else{let _0x2dd15a={};for(let _0x433a3e=0x0;_0xbb1335[_0x22c9('32','HxT3')](_0x433a3e,0x18);_0x433a3e++){_0x2dd15a[_0xbb1335['PFujT'](String,_0x433a3e)]=_0x15e34e;}let _0x115679=_0xbb1335['wIErs'](_0xbb1335[_0x22c9('33','O%M]')](new Date()[_0x22c9('34','3wr1')](),0x8),0x18);if(_0x2dd15a[_0x115679]){if(_0x22c9('35','V]zB')!==_0xbb1335[_0x22c9('36','cGEh')]){_0x25ad45=process['env']['JD_HALF_RRA_URL'];}else{$['activityId']=_0x2dd15a[_0x115679];$['log']('\x0aRRA:\x20'+_0x15e34e);}}else{if(_0xbb1335[_0x22c9('37','nSiH')](_0xbb1335[_0x22c9('38','N)dZ')],_0xbb1335[_0x22c9('39','f8Js')])){$[_0x22c9('3a','XgZd')](_0x22c9('3b','G]cr'));return;}else{let _0x4a392f=_0xbb1335[_0x22c9('3c','WxYn')];if($[_0x22c9('3d','N)dZ')]()&&process[_0x22c9('3e','XgZd')]['JD_HALF_RRA_URL']){_0x4a392f=process['env'][_0x22c9('3f','7[P)')];}else if($[_0x22c9('40','Y!Bf')](_0xbb1335['MlxGa'])){_0x4a392f=$[_0x22c9('41','WxYn')](_0xbb1335[_0x22c9('42','@Yd%')]);}return _0x4a392f;}}for(let _0x121737=0x0;_0x121737<cookiesArr[_0x22c9('43','N)dZ')];_0x121737++){if(cookiesArr[_0x121737]){cookie=cookiesArr[_0x121737];$['UserName']=_0xbb1335[_0x22c9('44','zhGT')](decodeURIComponent,cookie['match'](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x22c9('45','mVQ8')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x22c9('46','nSiH')]=_0xbb1335[_0x22c9('47','9XHl')](_0x121737,0x1);$[_0x22c9('48','tXsK')]=!![];$['nickName']='';message='';await _0xbb1335[_0x22c9('49','WxYn')](TotalBean);console[_0x22c9('4a','f8Js')]('\x0a******开始【京东账号'+$[_0x22c9('4b','ZQZ7')]+'】'+($['nickName']||$[_0x22c9('4c','cGEh')])+'*********\x0a');if(!$[_0x22c9('4d','#QQE')]){$[_0x22c9('4e','m4Ei')]($[_0x22c9('1f','SEWa')],_0x22c9('4f','k&)&'),_0x22c9('50','LUdh')+$[_0x22c9('4b','ZQZ7')]+'\x20'+($['nickName']||$[_0x22c9('51','ZQZ7')])+_0x22c9('52','WxYn'),{'open-url':_0x22c9('53','#QQE')});if($[_0x22c9('54','A($p')]()){if(_0xbb1335[_0x22c9('55','ThBd')](_0xbb1335[_0x22c9('56','y1oJ')],_0xbb1335[_0x22c9('57','DfCW')])){console[_0x22c9('58','SEWa')](''+JSON[_0x22c9('59','LUdh')](err));console[_0x22c9('5a','ThBd')]($[_0x22c9('5b','!(dy')]+_0x22c9('5c','Ad8m'));}else{await notify[_0x22c9('5d','y1oJ')]($[_0x22c9('5e','sbL]')]+_0x22c9('5f','Ze2S')+$[_0x22c9('60','XPyl')],_0x22c9('61','qkRC')+$[_0x22c9('62','pK%E')]+'\x20'+$['UserName']+_0x22c9('63','zhGT'));}}continue;}let _0x40a70e=_0xbb1335['UShYP'](new Date()[_0x22c9('64','zhGT')](),_0xbb1335[_0x22c9('65','!(dy')](new Date()['getTimezoneOffset']()*0x3c,0x3e8))+_0xbb1335['yjCkn'](0x8*0x3c*0x3c,0x3e8);await receiveRedRain();}}}}if(allMessage&&isNotify()){if($[_0x22c9('66','oj]T')]())await notify[_0x22c9('67','$2Jz')](''+$[_0x22c9('68','XgZd')],''+allMessage);$[_0x22c9('69','qkRC')]($[_0x22c9('6a','nSiH')],'',allMessage);}})()[_0x22c9('6b','7[P)')](_0x241869=>{$['log']('','❌\x20'+$[_0x22c9('6c','tKWo')]+_0x22c9('6d','Ad8m')+_0x241869+'!','');})['finally'](()=>{$[_0x22c9('6e','9XHl')]();});function showMsg(){var _0x27e037={'frZBE':function(_0x1825ea){return _0x1825ea();}};return new Promise(_0x5ca707=>{$['msg']($[_0x22c9('6f','Y!Bf')],'',_0x22c9('70','G]cr')+$['index']+'】'+$[_0x22c9('71','XgZd')]+'\x0a'+message);_0x27e037[_0x22c9('72','FErC')](_0x5ca707);});}function getRedRain(){var _0x5e0dbe={'EBuOf':_0x22c9('73','0Ev2'),'dMwee':function(_0x3e667a,_0x2224fd){return _0x3e667a!==_0x2224fd;},'mWPAe':_0x22c9('74','G]cr'),'ipzoK':_0x22c9('75','O%M]'),'KCwVy':function(_0x4e4627){return _0x4e4627();},'RFSik':_0x22c9('76','T!PF'),'oTNgv':function(_0x1bf44f,_0x71e192,_0x1a8c93){return _0x1bf44f(_0x71e192,_0x1a8c93);},'OCJED':'UEIBh','UuRzV':'VLOfq'};let _0x1281f2;if(bodyList[_0x22c9('77','aV1t')](new Date()[_0x22c9('78','pK%E')]())){if(_0x5e0dbe[_0x22c9('79','tXsK')]!==_0x5e0dbe['UuRzV']){_0x1281f2=bodyList[new Date()['getDate']()];}else{$[_0x22c9('7a','qkRC')](e,resp);}}else{return;}return new Promise(_0x4344a8=>{var _0x2c8037={'HynfY':_0x5e0dbe[_0x22c9('7b','nSiH')],'xFQRz':function(_0x500e2c,_0x89f86f){return _0x500e2c(_0x89f86f);},'rPlVi':function(_0xf6bb2f,_0x1ebd5b){return _0x5e0dbe[_0x22c9('7c','G]cr')](_0xf6bb2f,_0x1ebd5b);},'cSIjY':_0x5e0dbe[_0x22c9('7d','XgZd')],'ryQRs':function(_0x3e91d5,_0x48f1f9){return _0x3e91d5===_0x48f1f9;},'aGNJL':_0x5e0dbe[_0x22c9('7e','A($p')],'tyOHZ':'CzONr','uLcyh':function(_0x17a254){return _0x5e0dbe['KCwVy'](_0x17a254);}};if(_0x5e0dbe[_0x22c9('7f','XgZd')]===_0x22c9('80','V]zB')){return!![];}else{$[_0x22c9('81','Ze2S')](_0x5e0dbe['oTNgv'](taskGetUrl,_0x1281f2['url'],_0x1281f2['body']),(_0x9bfab3,_0x3f216a,_0x1fef62)=>{try{if(_0x9bfab3){console[_0x22c9('5','qkRC')](''+JSON['stringify'](_0x9bfab3));console[_0x22c9('82','tKWo')]($[_0x22c9('83','ThBd')]+_0x22c9('84','cGEh'));}else{if(_0x2c8037[_0x22c9('85','G]cr')](safeGet,_0x1fef62)){_0x1fef62=JSON['parse'](_0x1fef62);if(_0x1fef62[_0x22c9('86','SEWa')]&&_0x1fef62['data'][_0x22c9('87','9XHl')]){console['log'](_0x1fef62[_0x22c9('88','3wr1')]['iconArea'][_0x22c9('89','A($p')](_0x7bf157=>_0x7bf157[_0x22c9('8a','l7O^')]===_0x22c9('8b','l7O^'))[_0x22c9('8c','SEWa')]&&_0x1fef62[_0x22c9('8d','QnyM')][_0x22c9('8e','T!PF')][_0x22c9('8f','tKWo')](_0x50e393=>_0x50e393[_0x22c9('90','vSP]')]===_0x22c9('91','7[P)'))[0x0][_0x22c9('92','mVQ8')][_0x22c9('93','O%M]')]);let _0x4fda56=_0x1fef62[_0x22c9('94','A($p')][_0x22c9('95','Ze2S')][_0x22c9('96','#QQE')](_0x3f5e57=>_0x3f5e57[_0x22c9('97','XPyl')]===_0x22c9('98','oj]T'))[0x0];if(_0x4fda56){if(_0x2c8037['rPlVi'](_0x22c9('99','tXsK'),_0x2c8037[_0x22c9('9a','Ze2S')])){let _0x492192=_0x4fda56[_0x22c9('9b','0Ev2')][_0x22c9('9c','QnyM')];$['activityId']=_0x492192[_0x22c9('9d','qkRC')](_0x492192[_0x22c9('9e','Ze2S')](_0x2c8037['HynfY'])+0x3);$['st']=_0x4fda56['startTime'];$['ed']=_0x4fda56[_0x22c9('9f','SEWa')];console[_0x22c9('a0','HxT3')]($[_0x22c9('a1','Ze2S')]);console['log'](_0x22c9('a2',')QOT')+new Date($['st']));console[_0x22c9('82','tKWo')](_0x22c9('a3','T!PF')+new Date($['ed']));}else{console[_0x22c9('a4','FixQ')](_0x1fef62[_0x22c9('a5','sbL]')][_0x22c9('87','9XHl')]['filter'](_0x245d74=>_0x245d74['type']===_0x22c9('a6','f8Js'))['length']&&_0x1fef62[_0x22c9('a7','FErC')][_0x22c9('a8','aV1t')]['filter'](_0xc1a978=>_0xc1a978[_0x22c9('a9','!(dy')]==='anchor_darw_lottery')[0x0][_0x22c9('aa','oj]T')][_0x22c9('ab','QnyM')]);let _0x582bbd=_0x1fef62[_0x22c9('94','A($p')][_0x22c9('ac','mVQ8')][_0x22c9('ad','$2Jz')](_0x25a4c4=>_0x25a4c4[_0x22c9('ae','O%M]')]===_0x22c9('af','A($p'))[0x0];if(_0x582bbd){let _0x4c82c5=_0x582bbd['data'][_0x22c9('b0',')QOT')];$[_0x22c9('b1','tkH*')]=_0x4c82c5[_0x22c9('b2','LUdh')](_0x4c82c5['indexOf'](_0x2c8037[_0x22c9('b3','!(dy')])+0x3);$['st']=_0x582bbd[_0x22c9('b4','tKWo')];$['ed']=_0x582bbd[_0x22c9('b5','XgZd')];console['log']($[_0x22c9('b6','N)dZ')]);console[_0x22c9('58','SEWa')](_0x22c9('b7','nSiH')+new Date($['st']));console[_0x22c9('b8','A($p')](_0x22c9('a3','T!PF')+new Date($['ed']));}else{console[_0x22c9('b9','Y!Bf')](_0x22c9('ba','LUdh'));}}}else{console[_0x22c9('bb','!(dy')]('暂无红包雨');}}else{console[_0x22c9('bc','O%M]')](_0x22c9('bd','A($p'));}}}}catch(_0x16da16){$['logErr'](_0x16da16,_0x3f216a);}finally{if(_0x2c8037[_0x22c9('be','oj]T')](_0x2c8037[_0x22c9('bf','0Ev2')],_0x2c8037[_0x22c9('c0','O%M]')])){$[_0x22c9('c1','aV1t')]=![];return;}else{_0x2c8037['uLcyh'](_0x4344a8);}}});}});}function receiveRedRain(){var _0x69814c={'VlLdv':_0x22c9('c2','UBn8'),'hLBAj':function(_0x3a95e2,_0x4b88d7){return _0x3a95e2(_0x4b88d7);},'ehRbG':_0x22c9('c3','zhGT'),'qwOlu':function(_0x4ca4a5){return _0x4ca4a5();},'SgsIK':_0x22c9('c4','0Ev2'),'hpxxi':function(_0x25d32b,_0xfabdf9){return _0x25d32b!==_0xfabdf9;},'mRXEX':_0x22c9('c5','UBn8'),'ERwOe':_0x22c9('c6','pK%E'),'fnoYV':_0x22c9('c7','O%M]'),'xPUUg':function(_0x38c8e1,_0x4b2179){return _0x38c8e1===_0x4b2179;},'lGUpK':function(_0x341442,_0x154932){return _0x341442===_0x154932;},'HAZqC':_0x22c9('c8','Y!Bf'),'nbRHx':_0x22c9('c9','T!PF'),'izvYA':_0x22c9('ca','FErC'),'NajeJ':'application/x-www-form-urlencoded','abFBs':'api.m.jd.com','btOlt':_0x22c9('cb','FixQ'),'OWsHp':function(_0x156c30,_0x560f94){return _0x156c30!==_0x560f94;},'mwCUL':_0x22c9('cc','HxT3'),'REmwD':_0x22c9('cd','nSiH')};return new Promise(_0x1dd5b0=>{var _0x58b4c3={'vnjja':_0x69814c[_0x22c9('ce','tKWo')],'hHujN':_0x69814c[_0x22c9('cf','T!PF')],'Atjog':_0x69814c['NajeJ'],'WicYR':_0x69814c[_0x22c9('d0','g)nc')],'ZOORN':_0x69814c[_0x22c9('d1','l7O^')]};if(_0x69814c[_0x22c9('d2','FixQ')](_0x69814c[_0x22c9('d3','N)dZ')],_0x69814c[_0x22c9('d4','$2Jz')])){cookiesArr=[$['getdata'](_0x69814c[_0x22c9('d5','tkH*')]),$['getdata']('CookieJD2'),..._0x69814c[_0x22c9('d6','qkRC')](jsonParse,$[_0x22c9('b','FErC')](_0x69814c['ehRbG'])||'[]')['map'](_0x2ce41f=>_0x2ce41f['cookie'])][_0x22c9('d7','LUdh')](_0x3cb516=>!!_0x3cb516);}else{const _0x29aa23={'actId':$[_0x22c9('d8','HxT3')]};$[_0x22c9('d9','!(dy')](taskUrl(_0x69814c[_0x22c9('da','nSiH')],_0x29aa23),(_0x38185d,_0x5a4391,_0x25db3d)=>{var _0x2122e8={'bwGHu':function(_0x166f25){return _0x69814c[_0x22c9('db','aV1t')](_0x166f25);}};if(_0x69814c[_0x22c9('dc','Ze2S')]!=='mglSd'){$[_0x22c9('dd','tXsK')]($[_0x22c9('6c','tKWo')],'','【京东账号'+$['index']+'】'+$[_0x22c9('de','tXsK')]+'\x0a'+message);_0x2122e8['bwGHu'](_0x1dd5b0);}else{try{if(_0x38185d){if(_0x69814c['hpxxi'](_0x69814c[_0x22c9('df',')QOT')],_0x22c9('e0','DfCW'))){if(!!_0x25db3d){id=_0x25db3d[_0x22c9('e1','DfCW')](/[\r\n]/g,'');}else{id='';}}else{console['log'](''+JSON[_0x22c9('e2','$2Jz')](_0x38185d));console['log']($[_0x22c9('e3','l7O^')]+'\x20API请求失败，请检查网路重试');}}else{if(_0x69814c[_0x22c9('e4','zhGT')]!==_0x69814c['fnoYV']){if(safeGet(_0x25db3d)){_0x25db3d=JSON[_0x22c9('e5','ZQZ7')](_0x25db3d);if(_0x69814c[_0x22c9('e6','G]cr')](_0x25db3d[_0x22c9('e7','#QQE')],'0')){console[_0x22c9('e8','m4Ei')](_0x22c9('e9','T!PF')+JSON['stringify'](_0x25db3d[_0x22c9('ea','QnyM')]));message+=_0x22c9('eb','Ad8m')+_0x25db3d['lotteryResult'][_0x22c9('ec','LUdh')][0x0]['quantity']+_0x22c9('ed','$2Jz');allMessage+='【京东账号'+$[_0x22c9('ee','0Ev2')]+'】'+($[_0x22c9('ef','y1oJ')]||$[_0x22c9('f0','oj]T')])+'\x0a领取成功，获得\x20'+_0x25db3d[_0x22c9('f1','#QQE')][_0x22c9('f2','oj]T')][0x0]['quantity']+_0x22c9('f3','oj]T')+($[_0x22c9('f4','aV1t')]!==cookiesArr['length']?'\x0a\x0a':'\x0a\x0a');}else if(_0x69814c['lGUpK'](_0x25db3d[_0x22c9('f5','aV1t')],'8')){console[_0x22c9('f6','k&)&')](_0x22c9('f7','0Ev2'));message+=_0x22c9('f8','T!PF');}else{console[_0x22c9('f9','l7O^')](_0x22c9('fa','#QQE')+JSON['stringify'](_0x25db3d));}}}else{console[_0x22c9('bc','O%M]')](_0x22c9('fb','SEWa'));message+=_0x22c9('f8','T!PF');}}}catch(_0x24ad64){$[_0x22c9('fc','mVQ8')](_0x24ad64,_0x5a4391);}finally{if(_0x69814c['HAZqC']===_0x22c9('fd','LUdh')){_0x1dd5b0();}else{return{'url':url,'body':_0x29aa23,'headers':{'Accept':_0x22c9('fe','zhGT'),'Accept-Encoding':_0x22c9('ff','LUdh'),'Accept-Language':_0x58b4c3[_0x22c9('100','XgZd')],'Connection':_0x58b4c3[_0x22c9('101','aV1t')],'Content-Type':_0x58b4c3[_0x22c9('102','nSiH')],'Host':_0x58b4c3[_0x22c9('103','zhGT')],'Referer':_0x22c9('104','Y!Bf')+$[_0x22c9('d8','HxT3')]+_0x22c9('105','qkRC'),'Cookie':cookie,'User-Agent':_0x58b4c3['ZOORN']}};}}}});}});}function redRainId(_0xbd7c93){var _0x5bdcb4={'MIFTL':function(_0x322799,_0x370e3e){return _0x322799(_0x370e3e);},'BReeE':function(_0x4aa794,_0x953ae){return _0x4aa794+_0x953ae;},'xcfKs':'*/*','ByIPr':_0x22c9('106','ThBd'),'irTjL':_0x22c9('107','f8Js'),'bNzUw':function(_0x19b3c7,_0x2ddf67){return _0x19b3c7===_0x2ddf67;},'kCTqU':'CbyaM','gWvEy':function(_0x5750e8,_0x5b20f6){return _0x5750e8===_0x5b20f6;},'LLICC':_0x22c9('108','N)dZ'),'FdDfJ':function(_0x44801b,_0x2688a4){return _0x44801b===_0x2688a4;},'tHOYJ':_0x22c9('109','XgZd'),'PMvDr':_0x22c9('10a','0Ev2'),'RUxXL':_0x22c9('10b','7[P)'),'ANBfe':function(_0x549986,_0x1fedeb){return _0x549986(_0x1fedeb);}};return new Promise(_0xc4bf0c=>{const _0x155b1f={'url':_0xbd7c93+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'}};let _0xf6f947='';$[_0x22c9('10c','$2Jz')](_0x155b1f,async(_0x4407d1,_0x2e7461,_0x2ada5a)=>{var _0x395054={'VMZUV':function(_0x1f70bc,_0x554b44){return _0x5bdcb4[_0x22c9('10d','XgZd')](_0x1f70bc,_0x554b44);},'Bthyk':function(_0x223226,_0x18f7af){return _0x223226+_0x18f7af;},'CPONz':function(_0x262d80,_0x5f4503){return _0x5bdcb4[_0x22c9('10e','WxYn')](_0x262d80,_0x5f4503);},'fZiAC':function(_0x2cf79a,_0x416711){return _0x2cf79a*_0x416711;},'ffnYq':_0x5bdcb4[_0x22c9('10f','#QQE')],'zQinK':_0x22c9('110','HxT3'),'LYHUj':'keep-alive','sbmGL':_0x22c9('111','3wr1'),'MZNgR':_0x5bdcb4[_0x22c9('112','pK%E')],'nCfHe':_0x5bdcb4['irTjL'],'BOART':function(_0x320edf,_0x53fc71){return _0x5bdcb4[_0x22c9('113','!(dy')](_0x320edf,_0x53fc71);}};if(_0x5bdcb4[_0x22c9('114','7[P)')](_0x5bdcb4[_0x22c9('115','oj]T')],_0x5bdcb4[_0x22c9('116','WxYn')])){try{if(_0x4407d1){if(_0x5bdcb4[_0x22c9('117','k&)&')](_0x5bdcb4[_0x22c9('118','zhGT')],_0x22c9('119','nSiH'))){return{'url':JD_API_HOST+_0x22c9('11a','A($p')+function_id+'&body='+_0x395054['VMZUV'](escape,JSON[_0x22c9('11b','N)dZ')](body))+'&client=wh5&clientVersion=1.0.0&_='+_0x395054[_0x22c9('11c','zhGT')](_0x395054[_0x22c9('11d','zhGT')](new Date()[_0x22c9('11e','qkRC')](),_0x395054[_0x22c9('11f','vSP]')](new Date()['getTimezoneOffset']()*0x3c,0x3e8)),_0x395054[_0x22c9('120','QnyM')](0x8*0x3c,0x3c)*0x3e8),'headers':{'Accept':_0x395054[_0x22c9('121','m4Ei')],'Accept-Encoding':_0x395054[_0x22c9('122','QnyM')],'Accept-Language':'zh-cn','Connection':_0x395054[_0x22c9('123','tKWo')],'Content-Type':_0x395054[_0x22c9('124','sbL]')],'Host':_0x395054['MZNgR'],'Referer':_0x22c9('125','tXsK')+$['activityId']+'&lng=0.000000&lat=0.000000&sid=&un_area=','Cookie':cookie,'User-Agent':_0x395054[_0x22c9('126','Y!Bf')]}};}else{console[_0x22c9('bb','!(dy')](''+JSON[_0x22c9('e2','$2Jz')](_0x4407d1));_0xf6f947='error';}}else{if(!!_0x2ada5a){_0xf6f947=_0x2ada5a[_0x22c9('127','l7O^')](/[\r\n]/g,'');}else{if(_0x5bdcb4[_0x22c9('128','sbL]')](_0x5bdcb4[_0x22c9('129','y1oJ')],_0x5bdcb4[_0x22c9('12a','sbL]')])){_0xf6f947='';}else{ids[String(i)]=codeItem;}}}}catch(_0x5b2e03){if(_0x5bdcb4['PMvDr']!==_0x5bdcb4[_0x22c9('12b','qkRC')]){$[_0x22c9('12c','pK%E')](_0x5b2e03,_0x2e7461);}else{_0x395054[_0x22c9('12d','f8Js')](_0xc4bf0c,_0xf6f947);}}finally{_0x5bdcb4[_0x22c9('12e','m4Ei')](_0xc4bf0c,_0xf6f947);}}else{console[_0x22c9('a0','HxT3')](''+JSON[_0x22c9('11b','N)dZ')](_0x4407d1));console[_0x22c9('2b','cGEh')]($[_0x22c9('12f','y1oJ')]+_0x22c9('130','HxT3'));}});});}async function retryCdn(_0x355dbc,_0x404af7){var _0x24fad3={'wQfKx':function(_0x3e5969,_0x9ceab0){return _0x3e5969===_0x9ceab0;},'hCrMG':function(_0x9d2cac,_0x1edb9c){return _0x9d2cac-_0x1edb9c;},'ZcKBT':function(_0xe63fd7,_0x2ac2c0){return _0xe63fd7===_0x2ac2c0;}};if(_0x24fad3[_0x22c9('131','g)nc')](_0x355dbc,'error')){let _0x59dca9=_0x404af7[_0x22c9('132','$2Jz')]('/');let _0x1b5b61=_0x59dca9[_0x24fad3[_0x22c9('133','7[P)')](_0x59dca9[_0x22c9('134','DfCW')],0x1)];let _0x399404=_0x22c9('135','tKWo')+_0x1b5b61;$['log'](_0x22c9('136','A($p'));_0x355dbc=await redRainId(_0x399404);}return _0x24fad3['ZcKBT'](_0x355dbc,_0x22c9('137','k&)&'))?'':_0x355dbc;}function rraUrl(){var _0x38fe1b={'keLzb':_0x22c9('138','mVQ8'),'ivnZp':'jdHalfRRAUrl'};let _0x112fb7=_0x38fe1b['keLzb'];if($[_0x22c9('139','XgZd')]()&&process[_0x22c9('13a','$2Jz')][_0x22c9('13b','Ze2S')]){_0x112fb7=process['env'][_0x22c9('13c','@Yd%')];}else if($[_0x22c9('13d','9XHl')](_0x38fe1b[_0x22c9('13e','qkRC')])){_0x112fb7=$[_0x22c9('13f','cGEh')](_0x22c9('140','T!PF'));}return _0x112fb7;}function isNotify(){var _0x17667c={'qdFup':function(_0x4d1bf1,_0x158552){return _0x4d1bf1!=_0x158552;},'ZAtJm':'false','vkZDM':_0x22c9('141','N)dZ'),'CoKZL':function(_0x516216,_0x519aca){return _0x516216!=_0x519aca;}};if($[_0x22c9('142','@Yd%')]()&&process[_0x22c9('143','G]cr')][_0x22c9('144','0Ev2')]){return _0x17667c[_0x22c9('145','@Yd%')](process[_0x22c9('146','k&)&')][_0x22c9('147','@Yd%')],_0x17667c[_0x22c9('148','ZQZ7')]);}else if($[_0x22c9('149','sbL]')](_0x17667c[_0x22c9('14a','ThBd')])){return _0x17667c[_0x22c9('14b','@Yd%')]($[_0x22c9('14c','G]cr')](_0x17667c[_0x22c9('14d','tKWo')]),_0x17667c[_0x22c9('14e','f8Js')]);}return!![];}function taskGetUrl(_0xec4e0,_0x255556){var _0x458fee={'UMtBd':_0x22c9('14f','7[P)'),'qXhPb':_0x22c9('150','Ad8m'),'tXZWk':_0x22c9('151','0Ev2'),'kCbmn':_0x22c9('152','O%M]')};return{'url':_0xec4e0,'body':_0x255556,'headers':{'Accept':_0x458fee[_0x22c9('153','pK%E')],'Accept-Encoding':_0x458fee[_0x22c9('154','FixQ')],'Accept-Language':_0x22c9('155','7[P)'),'Connection':_0x458fee['tXZWk'],'Content-Type':_0x22c9('156','#QQE'),'Host':_0x22c9('157','3wr1'),'Referer':'https://h5.m.jd.com/active/redrain/index.html?id='+$[_0x22c9('158','#QQE')]+_0x22c9('159','0Ev2'),'Cookie':cookie,'User-Agent':_0x458fee['kCbmn']}};}function taskPostUrl(_0x2a6af7,_0x1966c2=_0x1966c2){var _0x51701e={'vASpU':'api.m.jd.com','kZrKJ':'application/x-www-form-urlencoded','PyYhA':_0x22c9('15a','@Yd%'),'MNSsS':_0x22c9('15b','FixQ')};return{'url':_0x22c9('15c','qkRC')+_0x2a6af7,'body':_0x1966c2,'headers':{'Host':_0x51701e['vASpU'],'content-type':_0x51701e['kZrKJ'],'accept':_0x51701e['PyYhA'],'user-agent':_0x51701e[_0x22c9('15d','O%M]')],'accept-language':'zh-Hans-JP;q=1,\x20en-JP;q=0.9,\x20zh-Hant-TW;q=0.8,\x20ja-JP;q=0.7,\x20en-US;q=0.6'}};}function taskUrl(_0x19995e,_0x3834c8={}){var _0x8ad680={'igcxu':function(_0x29e14d,_0x491789){return _0x29e14d(_0x491789);},'WWTiz':function(_0x3b2fba,_0x402ab4){return _0x3b2fba+_0x402ab4;},'atjud':function(_0x43902d,_0x3a35ec){return _0x43902d*_0x3a35ec;},'YXHwL':function(_0x4c136c,_0x29d39c){return _0x4c136c*_0x29d39c;},'CEEUi':function(_0x313513,_0x4ff444){return _0x313513*_0x4ff444;},'GEWEP':_0x22c9('15e','tXsK'),'axEtH':'zh-cn','uPUSh':_0x22c9('15f','$2Jz')};return{'url':JD_API_HOST+_0x22c9('160','XgZd')+_0x19995e+_0x22c9('161','3wr1')+_0x8ad680[_0x22c9('162','V]zB')](escape,JSON[_0x22c9('163','A($p')](_0x3834c8))+_0x22c9('164','l7O^')+(_0x8ad680['WWTiz'](new Date()[_0x22c9('165','XgZd')](),_0x8ad680[_0x22c9('166','m4Ei')](_0x8ad680['YXHwL'](new Date()[_0x22c9('167','T!PF')](),0x3c),0x3e8))+_0x8ad680[_0x22c9('168','ZQZ7')](_0x8ad680['YXHwL'](_0x8ad680['CEEUi'](0x8,0x3c),0x3c),0x3e8)),'headers':{'Accept':_0x8ad680['GEWEP'],'Accept-Encoding':_0x22c9('169','@Yd%'),'Accept-Language':_0x8ad680[_0x22c9('16a','A($p')],'Connection':'keep-alive','Content-Type':_0x8ad680[_0x22c9('16b','qkRC')],'Host':'api.m.jd.com','Referer':_0x22c9('16c','3wr1')+$[_0x22c9('16d','Y!Bf')]+_0x22c9('16e','3wr1'),'Cookie':cookie,'User-Agent':'JD4iPhone/9.3.5\x20CFNetwork/1209\x20Darwin/20.2.0'}};}function TotalBean(){var _0x44bb5f={'wiiQl':function(_0x173176,_0xcb3dfa){return _0x173176==_0xcb3dfa;},'rEuDA':_0x22c9('16f','y1oJ'),'HuUQS':_0x22c9('170','qkRC'),'OrXpc':'QwDYg','wOiJv':function(_0x27c836,_0x5c9c6b){return _0x27c836===_0x5c9c6b;},'OxxLY':_0x22c9('171','pK%E'),'hXwYT':function(_0x1abab4,_0x433fc9){return _0x1abab4!==_0x433fc9;},'LYhmy':_0x22c9('172','ZQZ7'),'BERdP':_0x22c9('173','#QQE'),'sGnxj':function(_0x3fafdf,_0x444473){return _0x3fafdf===_0x444473;},'mQBAP':_0x22c9('174','SEWa'),'uukqa':'uISsL','jZKFQ':_0x22c9('175','sbL]'),'RDCkt':_0x22c9('176','pK%E'),'rQUmm':function(_0x4ab095){return _0x4ab095();},'bNDGw':_0x22c9('177','tKWo'),'GqNBE':_0x22c9('178','Y!Bf'),'hfTQw':'keep-alive','tmZDY':_0x22c9('179','N)dZ'),'JcmyD':_0x22c9('17a','sbL]'),'WlYQU':'JD4iPhone/9.3.5\x20CFNetwork/1209\x20Darwin/20.2.0'};return new Promise(async _0x16d7ba=>{const _0x229e1b={'url':_0x22c9('17b','7[P)'),'headers':{'Accept':_0x44bb5f['bNDGw'],'Content-Type':_0x44bb5f[_0x22c9('17c','#QQE')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':_0x22c9('17d','oj]T'),'Connection':_0x44bb5f[_0x22c9('17e','tkH*')],'Cookie':cookie,'Referer':_0x44bb5f[_0x22c9('17f','y1oJ')],'User-Agent':$['isNode']()?process[_0x22c9('180','tkH*')][_0x22c9('181','l7O^')]?process[_0x22c9('182','O%M]')][_0x22c9('183','g)nc')]:'JD4iPhone/9.3.5\x20CFNetwork/1209\x20Darwin/20.2.0':$['getdata'](_0x44bb5f[_0x22c9('184','g)nc')])?$[_0x22c9('185','m4Ei')](_0x22c9('186','$2Jz')):_0x44bb5f[_0x22c9('187','3wr1')]}};$[_0x22c9('188','XgZd')](_0x229e1b,(_0x5be7b9,_0x4aa240,_0x232ec5)=>{var _0x4863d1={'gLZFk':function(_0x43aa90,_0x2b9d74){return _0x44bb5f[_0x22c9('189','k&)&')](_0x43aa90,_0x2b9d74);},'LenMU':_0x44bb5f[_0x22c9('18a','pK%E')],'MmXfE':_0x44bb5f['HuUQS']};try{if('JzLAW'===_0x44bb5f['OrXpc']){$[_0x22c9('2b','cGEh')]('','❌\x20'+$[_0x22c9('5e','sbL]')]+_0x22c9('18b','WxYn')+e+'!','');}else{if(_0x5be7b9){console[_0x22c9('a0','HxT3')](''+JSON[_0x22c9('163','A($p')](_0x5be7b9));console[_0x22c9('18c','tXsK')]($[_0x22c9('18d','HxT3')]+_0x22c9('18e','QnyM'));}else{if(_0x232ec5){_0x232ec5=JSON[_0x22c9('18f','pK%E')](_0x232ec5);if(_0x44bb5f[_0x22c9('190','T!PF')](_0x232ec5[_0x44bb5f[_0x22c9('191','#QQE')]],0xd)){if(_0x44bb5f['hXwYT'](_0x44bb5f['LYhmy'],_0x44bb5f['LYhmy'])){if(_0x4863d1['gLZFk'](typeof str,_0x4863d1[_0x22c9('192','Y!Bf')])){try{return JSON['parse'](str);}catch(_0x32561e){console[_0x22c9('e8','m4Ei')](_0x32561e);$['msg']($[_0x22c9('193','f8Js')],'',_0x4863d1[_0x22c9('194','O%M]')]);return[];}}}else{$[_0x22c9('195','7[P)')]=![];return;}}if(_0x232ec5[_0x22c9('196','N)dZ')]===0x0){$[_0x22c9('197','9XHl')]=_0x232ec5[_0x44bb5f[_0x22c9('198','m4Ei')]]&&_0x232ec5[_0x44bb5f[_0x22c9('199','LUdh')]]['nickname']||$['UserName'];}else{if(_0x44bb5f[_0x22c9('19a','oj]T')](_0x44bb5f['mQBAP'],_0x22c9('19b','ThBd'))){$['nickName']=$[_0x22c9('19c','LUdh')];}else{console[_0x22c9('19d','T!PF')](_0x22c9('19e','vSP]')+JSON[_0x22c9('19f','pK%E')](_0x232ec5));}}}else{if(_0x44bb5f[_0x22c9('1a0','UBn8')](_0x44bb5f[_0x22c9('1a1','l7O^')],_0x44bb5f[_0x22c9('1a2','f8Js')])){console[_0x22c9('f9','l7O^')](_0x22c9('1a3','y1oJ'));}else{console[_0x22c9('1a4','LUdh')]('京东服务器返回空数据');}}}}}catch(_0xffa119){$[_0x22c9('1a5','LUdh')](_0xffa119,_0x4aa240);}finally{if(_0x44bb5f[_0x22c9('1a6','7[P)')](_0x44bb5f[_0x22c9('1a7','UBn8')],_0x44bb5f[_0x22c9('1a8','nSiH')])){_0x44bb5f['rQUmm'](_0x16d7ba);}else{_0x16d7ba();}}});});}function safeGet(_0x37cadf){var _0x506300={'mLVfU':function(_0x21f698,_0x1771ba){return _0x21f698===_0x1771ba;},'OsjZg':'GITHUB','pfZam':_0x22c9('1a9','ZQZ7'),'XYocK':_0x22c9('1aa','sbL]'),'MXRIk':function(_0x4263ec,_0x1def1b){return _0x4263ec===_0x1def1b;},'qWAOB':_0x22c9('1ab','#QQE')};try{if(typeof JSON[_0x22c9('1ac','Ze2S')](_0x37cadf)==_0x506300[_0x22c9('1ad','ZQZ7')]){if(_0x22c9('1ae','Ad8m')===_0x506300[_0x22c9('1af','!(dy')]){console[_0x22c9('18c','tXsK')](e);console[_0x22c9('f6','k&)&')]('京东服务器访问数据为空，请检查自身设备网络情况');return![];}else{return!![];}}}catch(_0x1e3c97){if(_0x506300[_0x22c9('1b0','vSP]')](_0x506300[_0x22c9('1b1','O%M]')],_0x22c9('1b2','HxT3'))){console[_0x22c9('f6','k&)&')](_0x1e3c97);console[_0x22c9('3a','XgZd')](_0x22c9('1b3','cGEh'));return![];}else{Object[_0x22c9('1b4',')QOT')](jdCookieNode)[_0x22c9('1b5',')QOT')](_0x4fd9e5=>{cookiesArr[_0x22c9('1b6','Ze2S')](jdCookieNode[_0x4fd9e5]);});if(process[_0x22c9('1b7','m4Ei')]['JD_DEBUG']&&_0x506300[_0x22c9('1b8','7[P)')](process['env']['JD_DEBUG'],_0x22c9('1b9','k&)&')))console[_0x22c9('f6','k&)&')]=()=>{};if(JSON[_0x22c9('1ba','Ze2S')](process[_0x22c9('1bb','f8Js')])[_0x22c9('8','QnyM')](_0x506300[_0x22c9('1bc','tkH*')])>-0x1)process[_0x22c9('1bd','pK%E')](0x0);}}}function jsonParse(_0x2ff0b7){var _0x436e55={'HuKYA':function(_0x313eb3,_0x531068){return _0x313eb3==_0x531068;},'zrTVg':'string','FBPtf':_0x22c9('1be','ThBd')};if(_0x436e55[_0x22c9('1bf','#QQE')](typeof _0x2ff0b7,_0x436e55['zrTVg'])){try{return JSON[_0x22c9('1c0','T!PF')](_0x2ff0b7);}catch(_0x57f4ad){console[_0x22c9('e8','m4Ei')](_0x57f4ad);$[_0x22c9('1c1','sbL]')]($[_0x22c9('1c2','vSP]')],'',_0x436e55[_0x22c9('1c3','nSiH')]);return[];}}};_0xodj='jsjiami.com.v6';

// prettier-ignore
 function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}

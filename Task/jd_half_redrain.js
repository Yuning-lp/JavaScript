/*
 半点京豆雨
 已支持IOS双京东账号,Node.js支持N个京东账号
 脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js

[task_local]
#半点京豆雨
30 16-23/1 * * * https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, tag=半点京豆雨, enabled=true

================Loon==============
[Script]
cron "30 16-23/1 * * *" script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js,tag=半点京豆雨

===============Surge=================
 半点京豆雨 = type=cron,cronexp="30 16-23/1 * * *",wake-system=1,timeout=20,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js

============小火箭=========
 半点京豆雨= type=cron,script-path=https://raw.githubusercontent.com/Aaron-lv/JavaScript/master/Task/jd_half_redrain.js, cronexpr="30 16-23/1 * * *",timeout=200, enable=true
 */
 const $ = new Env('半点京豆雨');
 let allMessage = '';
 let bodyList = {}
 const notify = $.isNode() ? require('./sendNotify') : '';
 //Node.js用户请在jdCookie.js处填写京东ck;
 const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';

 //IOS等用户直接用NobyDa的jd cookie
 let cookiesArr = [], cookie = '', message;

var _0xodG='jsjiami.com.v6',_0x3ddc=[_0xodG,'5Lqh5LqI5p2d5YmK5Zqu6L6u5ZmX56qU5pS95o2z','cVNlR8OJ','w6DCq8KvwpPDtMOr','HC8SP8OT','w7BeWsOdwqg=','woPCgsKNw63Cj34=','wqA2woDDtg0=','bcKjw6hOwoU=','wpoAw6Jbw7Q=','VQLCuQ==','wqIlGg==','5LmL5Lih5p2u5YiE5Zih6K+K6ZWG5pSV5o2H5Lmp56qy77yI6K205qOZ5p636Ieh6Lmm6K2F5aW+572b57mH5oOg5YaL','IDBvw7LCuA==','CC05IMOkcQ==','wojDtMOvwq5n','bsOGwrI=','GAEpGMOH','EioFJsOucw==','wpPDsMOkwq4=','YG9GfsOHwpcg','d8Kuw47DrA==','aMKdwoJNbcK8wofCkA==','w5TCi8OH','wqAlw49sw5TCgcOGw5s=','VMKDecOfwqU=','NlUN','KsK7wq8=','w6bCp8KhwpPDr8OQHw==','wonCmMKOw7w=','BMKsw6nCvSMgWnY=','KMKwwq12wqTDgsOU','w6jCrMKxwpLDtsOrGA==','w4NQR8OFwqTCucOGXMKx','X8KDZQ==','wokOw79Dw7jCpg==','alwXw6XCnkM=','w7VBw6/Cqyliwq15LsKYb8O4wq8dwo5oBsK9ZBXDtMKyw6Em','QMO/wovDkMK3','R8OVwr9vw5s=','wpYpEhA0','PMKuwq5Ewpg=','VmJy','w6HCqMKowpM=','44Kl5o+U56au44Kz6K+N5YWb6Iy/5Y685LiB5Lqh6LaT5Yy+5LmKwpEZcBPChMKWH+eauOaNtuS/sueWtwI/PsKhJFDnmJXkuK/kuJPnrYDliZPojpXlj4c=','woRlGsOXBQ==','EQ0Gwogd','5Y6r5Zen6byf542d','DcK3ZMOyGA==','I8K6wr4=','5Lit5peY6b+654yu8K2Bh+WFkuW2i++8peWluuaznOaZsOaelOKYme+5ne+8h+aXtOaUnuWHtOadr++/hS8=','NMKzw6rCvz4=','6b28542q5bKw5L+vw4zDtA==','UxTChMKFw6Q=','w7ZOwobCj8Ow','VsKrw74EwrcUCA0pw7fDjg==','w7Faw7w=','K8Ksw6E=','5peb5rOE5Lub5pya5Z6K6K2V5Y6X6YWx576l77246K6n5qOy5p+K6L++6KGV5pap6ZaJ','wrQTwrzDjg4=','Ggwsw5TDpzs=','ZMO9HMK7wqQ=','ZMKDw6cAwoU=','w4h4w7bCijw=','wpYwwonDiwXDjMO0Ag==','OMKRwot8woE=','Gwg2w5DDuw==','RMO9woTDvcK8','CMK1Y8OVMQ==','w4bDoCTCs8OCOsK/','wrtEw4c+IHxTLQ==','LcKtYA==','M0fDtMO4wpnCrw/lv6PlpanjgKPkuqXkubXot5LljYo=','KMKsY8OjCA==','WUYew6PCtVDClsKn','CMOzw7cjAsOUw7jDvcKSw7M=','ZRUCeHBECg==','KcKPwpBKwpU=','YcKBw7TDnMOa','IsKmwr4=','woLCgcKKw60=','44CO5o+R56WT44KPw4TCoMOJSB1s5beB5aa75pWq','S8K3wrlsUA==','XMKLdsOHwo7CtcOSHA==','VsOGwrDCh8K0KgBt','wpDDocOpwq1xwqbDqDF5w4xRw7lSw4tcUhkvY3bCiFw=','woMSw55Hw7XCpg==','d8OXwql6','TMOwwpTDscKySMO8wpLDiMK8','w4QwfMO9wo0K','RUIfw4LCug==','WMKqwrc=','E8OAPcOtADXDv8KaaA==','aVsfw4XCklzCng==','bQU6fmFEEMKvIX0=','wo9kwpLCgcKKw6Z7wpPDtMKd','XMKDeMOJ','5LmG5Lm96La25Y+f','bsK1w5nDocOy','UOiskumEleaWveearOW+nuiMnOWOuVLDpcOdH3Qu','ZsKtw4kcwqU=','wrJIw5ABB3BbMivCn1EIAGlWw6nCmw==','CMOcCsOVDg==','YsO4elXCtQ==','bmAbw63Dgg==','CznClT5W','wo90wp7CpsKrw61q','MsOoVQ==','6aOc5Y+s5om65YqD77yc6I6c5b+Dag==','ecOkXnbCocORBAVS','6aC55Y+v5ouy5YmD77696Iyb5b+2FQ==','FjVKw7TChcOKO8KJfsOCw5DDkm0=','wpZRwpnChMK3w4VmwonDpg==','44Gf5Lm55LuF6LS05Yyy','ZQgqcm8=','w59Uw7HDg0lfw6EZw5k=','b25QXsOe','Fj9Qw6fClMOQ','S8KwwpFZSg==','ShjCvMKRw5zDoUA=','w4PDvA8=','6aKK5Y6w5aW/6LSy77yb5pyB5Z2e5bSk6aOu6L+e','NsKKwr8=','5byO5bme772U','w4xNwpDCtcOfw4sIU8Oh','asOGwpvCmsKeLg==','KcKAwrZpwpnCpMOfBlfDsw==','IcK0wrR3','w5nDn8Oi','Y8O1PcKO','OcKEwqxuwr8=','w5sqeQ==','LgYDwoQBw5nDrw==','woHCjsOvw4c=','Q8Oywo3DvQ==','UAPCusK3w4s=','w5FQwoHCt8O/w40MUA==','bnlBfMOr','5LiK6KWa5Z6Vw4bDpcKiwoUv5oqM5YuN5aej5Yi357O26LaX5LyJ5peicMKfw6w7wpVK','w7BGw4/CsgA=','wqchFgMi','J8ONP8OQIw==','eMOBMsKDwqM=','ccOGwrbCv8Kf','wqHDusOvwpBW','YsK0w4J3wqvDuELCoipywr8lAsKQ','VcKHYcOowqHCoMOa','w5lQWsOjwpk=','wrQlwovDvj8=','dMOTwqlfw4/CvsO6','wrhew4M=','MMOmX8OV','44GR5Lmu5Lib6Lag5Y6H','X8Knw6k6wq02LQc=','RMK3wphKbA==','b0RxRsOS','w7VNRA==','ccKTw6TDpcO7','I8OXOMO6AA==','wrXCl8KGw7DCqQ==','X3dVQ8Oj','QsOZwqRjw4g=','NMK3w7TCvyQi','wr4rDzc9','w6LCusKi','w7RjwqXCl8OL','EMOWc8Oowqs=','XsOAwp5Qw6E=','YcO7Nw==','wqZZw5Y8AHpXLj0=','wpTDusO6','FTgmLA==','I8O0woXCvOisjeawieWlnOi0re+9veiusOagueacpee/oui1u+mHgOitmg==','JzY6woof','wp9sw6wgKw==','wpdcEcOWLA==','aFQPw7A=','PlsefQ==','NMODX8ONwqXCtynCuw==','MMO5wqhI','EjokJ8OLZFpZ','KcK8wrVmwqDDhA==','Q8K3wr5hR8KMwo3Cs8OZwosPw7jDiQXDtMOiw6rCqWI=','XcKrw6Q2wpc/','wphgwojChA==','ZQUheVZfAcK3','wrNEw4ghC28=','cnlEXg==','VsKDYcON','w5jChsOeHsOMwpBBwrQ=','woh4wozCgA==','JMO0wr1dYhnCn8KSdMOnWhQowo7CimrDohDCsgDCqMKZwqYDdg==','ScOywpTDuQ==','w7xWw6/Csiwxw7YvBsKM','Ej12','a8K2w4VRwqrDv2bCqQxm','5Luh5Lmh5Z6q57qK5Y6U6Zir5b6T5aWX5pWN6ZWQ776z','5LmM5LuD5Z6857m05Y2P6Zqt57uD5p2t5pWZ6ZSE77+w','5pum5pWG57iC5Y6p6Zmd','w5NWwoU=','5puK5paP57uP5Y+g6ZqF','RsK2wrNs','TnDlp6jotYsVN+WNhOWZlsKNwpc=','TsK2wrpMWsKM','OUXDsQ7Dgw==','eMKow6c/wo8=','w5bDnwHCn8Oz','J8OeE8OYPQ==','TMO4wqPDlsKq','w4HDvAnCtMO3NsK1RcK5PMOuEsKzFwHCtsOew7g=','wrJIw5A=','QmZBX8OP','ZT4WVFA=','JsO/Z8OEw7w=','PsKTw5TCoQE=','wr5iwrfClcKU','aMKPw7TDp8O5','w7LCocO6CMO7','cMKtw7xgwpc=','w4fDpSPCmsOw','YFoc','amh5bsOC','bsOXwqvDoMKy','OEsZZmU=','XsKNcg==','5puf5pWA57qS5Y6m6ZiM','Czg5OsOv','w6PCpsKi','6aG+5Y2D5oqN5YmC77yO6Iyr5b2QPg==','dMKvw4/DrcOkwr3CphrCvg==','QcO8wpTDrMKhU8OxwrnDpMKrw5fCisKV','6aGT5Y+75oq05YuK772i6I6q5b6paA==','JAAZwpEIw4fDr8OuSMKgw5nCvcOf','dFEMw7/DlMKDw49QAA==','Cz7CvQtM','TMKwwr5iZsKfwr/Csg==','Z8KRcMOewo7CtcOSHA==','BumjoOWOmOaIh+WKiO+8oeiPk+W9gUg=','w5sqasO6wpwKwrUYwroEw6Avw7E=','MMK1wr1swqTCh8OCHEU=','e8Kgw5BWwqjDv2bCqQ==','fuS4q+ixtA==','DMORMsO4AAk=','wr/ChcO7w5PClw==','wpkUw7Jrw77Cp8O2','w4RMbcOswqc=','eMO1XHPCrsOVCA==','w53CisOW','6aKF5Y2j5aek6LeQ77+25p2n5Z2X5be66aO36L6A','SsKjRcOgwrI=','O8KOwptDwrk=','GUrDtBXDiQ==','5b2K5bmX7723','KU4YdX5MPSzCqQ==','TUAHw7TDsg==','w5bCh8OGG8Os','TsK2wro=','DcOFw4/DgsO0BAFR','woFUD8ORLAc=','KcOZQMOG','f28Kw7bDiMK9w7lHFXtEw5VOwrdFdMO5LMKJ','f8OTwrN8w5rCog==','wojCgcKTw6k=','RMOwwo/DtsKFU8Otwoo=','IcKqw6rCoi83','wqFUw5Qw','bQgtf3hfO8KyCWvDgcK5w7rDtMK8w7/CnFIz','PsKEwqxs','w5tYwpbCvQ==','w6bCqsKqwpjDlsOtHMOJ','J8Kra8OyFcK9','PBYdwoA=','bsOxWH4=','AcOXKMO2AgjDosKOWAoD','AcOXKMO2AgjDosKORBw=','ecOlTmzCu8OE','b25QXsOewrsu','UAnDow==','LsOUUcORwpDCkSXCt8KS','wp3Du8O5wolrw7HCog==','wonCjsOm','WnJhX8OMw4c1RcKCEA==','JAAK','5LqW5Li15Z6h57m55Y2f6Zqw57mR5pyJ5pa56ZSc77yc','w6xQTw==','w6fDq8OhIzE=','5Li86KWP5Z6iE8KMLwox5oiX5Yit5aaw5Ymv57Cx6LeL5L6z5pWkasOlwrh+QcKb','U8OzwrfCgsKc','P1TDmQzDmA==','dcKTX8OAwqs=','wppLwo3CpMKp','OMOGV8OJwrY=','wpDChcOZw5vCjg==','wptowp/Co8KX','wohiwrLCqcKP','HMKawrRiwrU=','wonDssObwpxX','wq7Cr8KGw67CmA==','w6Vew4bDhXw=','McKjdcO1FQ==','ZsO/Sw==','ZMOxQXo=','G8OEaMOQwow=','wrFuwobCjMKow6Vuw5XCp8OKKwjDiWYCdRtcw49JwqHDicKifgzDrDhEwo8UwoIYw5vCh8KnwrLDrkZTFQt/XgrCtsKebE5KJDgsH8KnwrdaBX8ww4bCrjI1wo55w77CiRfCncOrPMKWwoEoS8Orb8OpworChMOgT8O1ZcO+A8O5wpY+IcKWZlXCuSLDlTfDiMObwod2TWHCmsKIwrDCq8OreVMrw7d3HMKSacKLVGzDpEBiCsKQwqZHw7wdwrkyw6HCiUhJw4MUwqnDtgzChVZPRsK2U3R9wqLClcKkbm5YwqhXwr4=','B8ORKA==','w4Vdw57Ds2k=','N8OfwrtmYw==','QsOPwqdBw7c=','NMOgw4LDm8OT','5peq5rCA5Lm/5pyU5Z+s6K2t5Y+E6Yad57yr77yO6Kyt5qKX5p6T6Ly56KGy5pSB6ZSy','AyoLwrAB','FsOlVsO2wog=','w4jCnsKJwofDkw==','wqYtwpo=','Aisywq0sw7nDkMOjf8KBw63CjsO+wqrDog==','w5jDlj3CjcOg','wpFYw6geKQ==','w4PCgMOBHMOswoFB','JsKmwpV9wqLDn8Ob','wqYPwp7DryU=','I8KYwq1RwpE=','CC05IMOkcVZeXA==','b8KUwolb6Kyy5rO05aaE6LWk776z6Ky85qCl5p2V572N6LWj6Yek6Kyn','wr3CpsO4w7HCgQ==','w4jCuMKPwprDvA==','DMObO8OaBhM=','6aCx5Y6T5aSv6Lar77+15p2U5Z+25ba46aGZ6L6w','5LiT6KaA5Z2Bw5zDiMK3w6xw5oi/5Yqh5aS+5Yq857K66Les5L+f5pS5w78xwp8MeMO4','b8Knw4NXwq4=','dFZMfsOf','SMKSwqdGUg==','DsOtw5rDo8OP','UVBPVMO5','w6PCrMKrwpHDo8O3','w51ww6DDkgA8wqcIw5jDksOAw6R7w4BDKk3DlMOHJ3zDosKjw7klPDnDtg1Iw6DDoGNRFkY/KV3DtMKC','5Y6I5ZaC6by554yn5aaE6LWTSBDljpzllqXnp6TpvoE=','w61MTw==','EMOqeMO6w5k=','w4JIw77Ds0k=','a8OBwqHChcOAZEJ5Bz3DisOww5/DuTjDqsKcB3MWw7FgwqZ8McOjOMKvw7HCvcKeLcO8w6Asc2ZzOMKiGV7CvMKawo/DnsKvwrDCkks4w5/Cuw==','LcKnw47CtyYjQmDDrsKlwpgg','wod+w4o8AQ==','w6bCusKLwpnDs8O6','w5Bqw6I=','EMKhwodFwpbCh8OtMGPDmMOzK0gZSw==','P1Qc','aMKdwoJBacKywpTCiMOqwqs5w7jDsDjDjA==','YMK+w4nDoMOrwq7Crg==','DMKAwqB6woY=','VcKHYcOIwqHCoMOe','XMO1VGjCng==','HDtSw7PChQ==','wqvCqcKzw4DCuUg=','wrAgwqrDrzg=','w5IraA==','MBHCkCBrWcKUw6LDvsOxwrxYwpIow5debjho','RcOswqhJw58=','woA2w51Fw70=','w4Vxw6fDig==','wplvwoo=','EH41WFVpAQ0=','w7h8w73CnA0=','w6tVwo3CicOJ','aQg4','UAPCusK3w4vDikM=','b8Ktw5hM','TFZ/esOC','b8K7w4c=','KRgCB8OVWHBsbMKnwrzCgcKVNjddw51cw5A=','w5PDicOxFiFuGw==','CMKyU8OsJQ==','NUI/Sng=','wp8rwr4=','w5hDwovCrMKdwowFUMO+w4Y6w5orw4DDgTfDuQ==','wpAJwr1Lw78=','eMOTwrhrwoPCq8OzAcK1Vw==','w5dxwq/Csgoww604KsOHP8O4w7Edw5Esa8KYRR3Cr8Kkw749U0BcRsKqw6hswqzDrAEtZsKtwq1pLsORQMKKYQ==','PlfDtxTDhA==','H1snZmA=','Ijomw6XDiQ==','JsKzw7bCuiMmcUbDhsKfwoRjHsKZwro+VcKEw6PDtsKFwqJ7w6RRwo8nRXhawpgUWQ==','JsKzw6/DuCdrelbCgcKTwoUh','URnCqsKiw4DCvwrDjMOKBicEw5rDlwkfwqnCr8KDw6xha8O0ezLDo8KSwoNzwrrChMK4woAOfybCm07Ct8K0wpN+Q8KVw7HCh8K1w7jCjA==','O8KGwqxkwqHCosOfFnjDrg==','KlkVw7bDhgHDlcOywqXDpcKXblTCrcKEw4XDjWNNw5FGw6TCi2TDoyLCky/DvyjDo8KawqZhw6DCkkJ4OhE=','b8ODOMKtwrQ=','w55JwovDssOcwoILUcK2w4k0w4M=','KcKaw78=','P8Kewrp1wos=','wqQ5woXDiWfCjcO9AmoQw60vw4rCslzDj8Oy','wqgmwonDiWbDjMO1DnoZ','woZNE8OJIBbDiRFAPMKmK8O7NCV8wrrDlh9lw6lIE1zDoMOLwoZQEsKYw4fCn8OY','BgvCq8K8w5DDsUzCjMOMem1U','w6goEiAhw7s=','wrA3wp7DkCXDisOwAXU=','IcK4w5HDrcOvwrTCu0HCsA3DmycNw4/CjsK+fcKEw5U1wo5cBHfCs1rCnyZ6OMKwHxnCgA==','d8KNw4QBwpM=','wp1qNA==','wq3CkcODw7LCrg==','TUF/Y8Oc','KV/DjQvDog==','NMK0wrR9wqQ=','ZcOgJMKbwrVAwqbDgSUow71Zw7xQwp3CiAzCjsO3ehhEDcK2wrHDv8ORw4vCiMKZS8ObKUvCq2nCoMOSPcOwWRxEw6cVwo7DviQ+','wqnCpcKrwpHCqsKvV8KYEXDChMOKNXUjw4PDqDplw4BRd8O6V8KmwqTDlcOWwoFMwqfCq8OAbknCqEQtS8Ka','w7zCo8KMwqXDvA==','wr1Zw5AlHScRZybClFUpSGILw6bCi8KUw7Uew4fCmw==','B8OEesOywpM=','T8OywpPDvQ==','wrwVw4Rxw7o=','w53DocO/GCQ=','wqIzwpzDlSLDjsO4E2UTw6J0w4XDrRPDg8KsI8Onw508w4drw4fCqMOuw7lTfXgDw7s=','WmFlWsOTw40gSMKiGz4dVwNuKArCpsKdaDgaKMOew4DCmsKGcx3Dlg/CjsKV','wp9pwpA8PnVRJiHDng1pVSEQwqzCrMO8w5gUw57Dg8KbISLClcO0J8KWw4fCvMKECFPCnUzCiFYwT8OhS8KGdw==','w6XDlz3CnQ==','w4HCgcK3wq/DlQ==','Yywidns=','wqEAESU0','44GX5oyT56a844OH6K695YSN6I6n5Y+k5LiD5Lus6LeM5Y675Lmmw5fCoiZJw4DDoMKT55iD5o2q5Lyp55a5bcKMIFJfVOeZuOS7neS4oeeuoeWLreiNnOWOgg==','YMOBwqjDmcKN','QWczw5DCsg==','IzgkD8OZ','GcOXwqZbcw==','BSrCsB4YN8K/w5PDkcObwoRzwrRLwrloTg==','wp3Du8Or','wokHwrPDrBjDqMOLOE07w4kVw7s=','AnfDhxjDoiHCn8OoFcOmwrzCvjI=','HXvDvjjDtQ==','OsOFRMOHwoXCsS0=','IgcKw5/DlA==','w5hcwpbCuMOQw5gA','WMOcNsKewoI=','w61aw6jCrw==','w43DshvCuQ==','bXUbw7fDicKow49FDQ==','f8OZwro=','w5tlw7nDhw==','EygHJMOC','w6HDvhHCusOA','Ex07w5rDuw==','UsK4wq96TQ==','wpfChMO1w4HCmcKwwrw=','HxoOw5zDtDot','wqPCg8K9w5zChQ==','GsK6wppFwqs=','ZVFBf8O8','VwTCvcK5w53DpEjChg==','C8O0V8OCw6LCocKjw5g=','ccOXwq5+','N1UYTHI=','f8Ktw5pzwo4=','Z8ONwoDCn8KM','wqAjHi8WwqfCtMKq','w5VMTcOcwoPCvcOYcw==','GgYl','f0EJw7jClVbCksKkw6w=','wrlCw4M=','woQAw71N','w4ogw4Bh6K2m5rKB5aai6La577636K2T5qGp5pyo576s6LaD6Yes6Ky+','AqjshjiUIaemi.xtWQcoYmt.tv6NPT=='];(function(_0x46a528,_0x4fb5ed,_0x324fb8){var _0x567df9=function(_0x27cc6d,_0x59b02f,_0x30d518,_0x573555,_0x276111){_0x59b02f=_0x59b02f>>0x8,_0x276111='po';var _0xc8716e='shift',_0x1608d5='push';if(_0x59b02f<_0x27cc6d){while(--_0x27cc6d){_0x573555=_0x46a528[_0xc8716e]();if(_0x59b02f===_0x27cc6d){_0x59b02f=_0x573555;_0x30d518=_0x46a528[_0x276111+'p']();}else if(_0x59b02f&&_0x30d518['replace'](/[AqhUIextWQYttNPT=]/g,'')===_0x59b02f){_0x46a528[_0x1608d5](_0x573555);}}_0x46a528[_0x1608d5](_0x46a528[_0xc8716e]());}return 0x96893;};return _0x567df9(++_0x4fb5ed,_0x324fb8)>>_0x4fb5ed^_0x324fb8;}(_0x3ddc,0x1da,0x1da00));var _0x1f73=function(_0x2b0bca,_0x635f3b){_0x2b0bca=~~'0x'['concat'](_0x2b0bca);var _0x5dd4dc=_0x3ddc[_0x2b0bca];if(_0x1f73['YgxpLC']===undefined){(function(){var _0x3ce9f3=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4d1064='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3ce9f3['atob']||(_0x3ce9f3['atob']=function(_0x4782d8){var _0x690322=String(_0x4782d8)['replace'](/=+$/,'');for(var _0x2ec666=0x0,_0x138db9,_0x48754e,_0x382864=0x0,_0x4a5142='';_0x48754e=_0x690322['charAt'](_0x382864++);~_0x48754e&&(_0x138db9=_0x2ec666%0x4?_0x138db9*0x40+_0x48754e:_0x48754e,_0x2ec666++%0x4)?_0x4a5142+=String['fromCharCode'](0xff&_0x138db9>>(-0x2*_0x2ec666&0x6)):0x0){_0x48754e=_0x4d1064['indexOf'](_0x48754e);}return _0x4a5142;});}());var _0x4c3763=function(_0x6c6c60,_0x635f3b){var _0x582f3e=[],_0x503551=0x0,_0x2a37ef,_0x4275b6='',_0x229e78='';_0x6c6c60=atob(_0x6c6c60);for(var _0x5106a4=0x0,_0xa15e18=_0x6c6c60['length'];_0x5106a4<_0xa15e18;_0x5106a4++){_0x229e78+='%'+('00'+_0x6c6c60['charCodeAt'](_0x5106a4)['toString'](0x10))['slice'](-0x2);}_0x6c6c60=decodeURIComponent(_0x229e78);for(var _0x1d3ca4=0x0;_0x1d3ca4<0x100;_0x1d3ca4++){_0x582f3e[_0x1d3ca4]=_0x1d3ca4;}for(_0x1d3ca4=0x0;_0x1d3ca4<0x100;_0x1d3ca4++){_0x503551=(_0x503551+_0x582f3e[_0x1d3ca4]+_0x635f3b['charCodeAt'](_0x1d3ca4%_0x635f3b['length']))%0x100;_0x2a37ef=_0x582f3e[_0x1d3ca4];_0x582f3e[_0x1d3ca4]=_0x582f3e[_0x503551];_0x582f3e[_0x503551]=_0x2a37ef;}_0x1d3ca4=0x0;_0x503551=0x0;for(var _0x3bbfa6=0x0;_0x3bbfa6<_0x6c6c60['length'];_0x3bbfa6++){_0x1d3ca4=(_0x1d3ca4+0x1)%0x100;_0x503551=(_0x503551+_0x582f3e[_0x1d3ca4])%0x100;_0x2a37ef=_0x582f3e[_0x1d3ca4];_0x582f3e[_0x1d3ca4]=_0x582f3e[_0x503551];_0x582f3e[_0x503551]=_0x2a37ef;_0x4275b6+=String['fromCharCode'](_0x6c6c60['charCodeAt'](_0x3bbfa6)^_0x582f3e[(_0x582f3e[_0x1d3ca4]+_0x582f3e[_0x503551])%0x100]);}return _0x4275b6;};_0x1f73['vcMnwE']=_0x4c3763;_0x1f73['nzsKDB']={};_0x1f73['YgxpLC']=!![];}var _0x4d93b0=_0x1f73['nzsKDB'][_0x2b0bca];if(_0x4d93b0===undefined){if(_0x1f73['XKmXne']===undefined){_0x1f73['XKmXne']=!![];}_0x5dd4dc=_0x1f73['vcMnwE'](_0x5dd4dc,_0x635f3b);_0x1f73['nzsKDB'][_0x2b0bca]=_0x5dd4dc;}else{_0x5dd4dc=_0x4d93b0;}return _0x5dd4dc;};if($[_0x1f73('0','oZ1]')]()){Object[_0x1f73('1','0G]T')](jdCookieNode)[_0x1f73('2','S]gm')](_0x2c753b=>{cookiesArr[_0x1f73('3','OcuJ')](jdCookieNode[_0x2c753b]);});if(process['env'][_0x1f73('4','cIzB')]&&process[_0x1f73('5','Phkm')][_0x1f73('6','7DUv')]===_0x1f73('7','fg!w'))console[_0x1f73('8','fz$7')]=()=>{};if(JSON['stringify'](process[_0x1f73('9','Ecpu')])[_0x1f73('a','&tTe')]('GITHUB')>-0x1)process[_0x1f73('b','OR2U')](0x0);}else{cookiesArr=[$['getdata'](_0x1f73('c','#@4a')),$[_0x1f73('d','Ecpu')]('CookieJD2'),...jsonParse($[_0x1f73('e','&tTe')](_0x1f73('f','2kq7'))||'[]')[_0x1f73('10','fg!w')](_0xc6025c=>_0xc6025c[_0x1f73('11','7DUv')])][_0x1f73('12',')@5i')](_0x4da8fd=>!!_0x4da8fd);}const JD_API_HOST=_0x1f73('13','Zebt');!(async()=>{var _0x6b60da={'IwdSA':function(_0x5a4f82,_0x1906ce){return _0x5a4f82+_0x1906ce;},'iiLPb':function(_0x1ecb9c,_0x26a21f){return _0x1ecb9c===_0x26a21f;},'oPpdp':function(_0x1cd476,_0x28d8e9){return _0x1cd476!==_0x28d8e9;},'cXyrL':'https://bean.m.jd.com/','Ybkmp':function(_0x3cf617){return _0x3cf617();},'Lucth':function(_0x82127d,_0x3d8d91,_0x4d3b3e){return _0x82127d(_0x3d8d91,_0x4d3b3e);},'jyZWW':function(_0x3c0812,_0x36c598){return _0x3c0812(_0x36c598);},'mwflU':function(_0x40b21f,_0x19ebd3){return _0x40b21f%_0x19ebd3;},'wPPwE':function(_0x1db6c2,_0x3022dc){return _0x1db6c2<_0x3022dc;},'UMmQf':_0x1f73('14','9jmZ'),'wDRnD':function(_0x4ac6e5,_0x1c8f39){return _0x4ac6e5(_0x1c8f39);},'hAXFG':function(_0xb43b21){return _0xb43b21();},'fZIXP':_0x1f73('15','Bl@q'),'RAahu':_0x1f73('16','8TH6'),'TCKgJ':_0x1f73('17','!wDg'),'WcCMF':function(_0x262791,_0x103d55){return _0x262791+_0x103d55;},'hhVJz':function(_0x48652d,_0x2ef0f9){return _0x48652d*_0x2ef0f9;},'DDEVq':function(_0xdbe24){return _0xdbe24();}};console['log']('\x0a');if(!cookiesArr[0x0]){$[_0x1f73('18','bDH5')]($[_0x1f73('19','&tTe')],_0x1f73('1a','O[aa'),_0x6b60da[_0x1f73('1b','NZq9')],{'open-url':_0x6b60da['cXyrL']});return;}let _0x24cee9=_0x6b60da[_0x1f73('1c','LzUN')](rraUrl);console['log'](_0x1f73('1d','#@4a'));let _0x4220c4=await redRainId(_0x24cee9);_0x4220c4=await _0x6b60da[_0x1f73('1e','E!jk')](retryCdn,_0x4220c4,_0x24cee9);console[_0x1f73('8','fz$7')]('召唤完成');if(!_0x4220c4){$[_0x1f73('1f','Ecpu')](_0x1f73('20','NZq9'));return;}let _0x403942=_0x4220c4[_0x1f73('21','#@4a')](';');console['log'](_0x1f73('22','3W!2')+_0x403942);for(let _0xc0921 of _0x403942){let _0x1877d8={};for(let _0x379c76=0x0;_0x379c76<0x18;_0x379c76++){_0x1877d8[_0x6b60da[_0x1f73('23',')TGe')](String,_0x379c76)]=_0xc0921;}let _0x283cc9=_0x6b60da['mwflU'](_0x6b60da[_0x1f73('24','h!^f')](new Date()[_0x1f73('25','lsff')](),0x8),0x18);if(_0x1877d8[_0x283cc9]){$['activityId']=_0x1877d8[_0x283cc9];$[_0x1f73('26','Zebt')]('\x0aRRA:\x20'+_0xc0921);}else{$[_0x1f73('27','#@4a')](_0x1f73('28','bDH5'));return;}for(let _0x2509c7=0x0;_0x6b60da[_0x1f73('29','1dK1')](_0x2509c7,cookiesArr[_0x1f73('2a','zBj#')]);_0x2509c7++){if(_0x6b60da[_0x1f73('2b','@idz')](_0x6b60da[_0x1f73('2c','lsff')],_0x6b60da[_0x1f73('2d','Zebt')])){if(cookiesArr[_0x2509c7]){cookie=cookiesArr[_0x2509c7];$[_0x1f73('2e','1dK1')]=_0x6b60da[_0x1f73('2f','Ecpu')](decodeURIComponent,cookie[_0x1f73('30','zBj#')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x1f73('31','9jmZ')]=_0x6b60da[_0x1f73('32','E!jk')](_0x2509c7,0x1);$[_0x1f73('33','p]@I')]=!![];$[_0x1f73('34','^i(B')]='';message='';await _0x6b60da['hAXFG'](TotalBean);console[_0x1f73('35','E!jk')](_0x1f73('36',')TGe')+$[_0x1f73('37','E!jk')]+'】'+($[_0x1f73('34','^i(B')]||$[_0x1f73('38',')@5i')])+_0x1f73('39','cIzB'));if(!$[_0x1f73('3a','xXgJ')]){if(_0x6b60da[_0x1f73('3b','Ecpu')]!==_0x6b60da[_0x1f73('3c','OcuJ')]){return JSON['parse'](str);}else{$[_0x1f73('3d','Ecpu')]($[_0x1f73('3e','OR2U')],_0x1f73('3f','3Sn6'),'京东账号'+$[_0x1f73('40','cIzB')]+'\x20'+($[_0x1f73('41','fg!w')]||$[_0x1f73('42','u18J')])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/',{'open-url':_0x1f73('43','0G]T')});if($[_0x1f73('44','7DUv')]()){if(_0x6b60da['RAahu']===_0x6b60da['TCKgJ']){let _0x402daa=act[_0x1f73('45','Bl@q')]['activityUrl'];$[_0x1f73('46','9jmZ')]=_0x402daa[_0x1f73('47','hwfy')](_0x6b60da[_0x1f73('48',')@5i')](_0x402daa['indexOf'](_0x1f73('49','lsff')),0x3));$['st']=act[_0x1f73('4a','iHnF')];$['ed']=act[_0x1f73('4b',')@5i')];console['log']($[_0x1f73('4c','xXgJ')]);console['log']('下一场红包雨开始时间：'+new Date($['st']));console[_0x1f73('35','E!jk')]('下一场红包雨结束时间：'+new Date($['ed']));}else{await notify[_0x1f73('4d','psf(')]($[_0x1f73('4e','fg!w')]+'cookie已失效\x20-\x20'+$['UserName'],_0x1f73('4f','7DUv')+$[_0x1f73('50','OcuJ')]+'\x20'+$[_0x1f73('2e','1dK1')]+_0x1f73('51','!wDg'));}}continue;}}let _0x4424e9=_0x6b60da['IwdSA'](_0x6b60da[_0x1f73('52','lsff')](new Date()['getTime'](),_0x6b60da['hhVJz'](_0x6b60da['hhVJz'](new Date()[_0x1f73('53','^i(B')](),0x3c),0x3e8)),_0x6b60da[_0x1f73('54','iHnF')](_0x6b60da[_0x1f73('55','tG72')](0x8*0x3c,0x3c),0x3e8));await _0x6b60da['DDEVq'](receiveRedRain);}}else{data=JSON[_0x1f73('56','3Sn6')](data);if(_0x6b60da[_0x1f73('57','vSyw')](data[_0x1f73('58','psf(')],'0')){console[_0x1f73('59','jI0c')](_0x1f73('5a','fz$7')+JSON[_0x1f73('5b','tG72')](data['lotteryResult']));message+=_0x1f73('5c','h!^f')+data[_0x1f73('5d',')gA8')][_0x1f73('5e','psf(')][0x0]['quantity']+'\x20京豆';allMessage+=_0x1f73('5f','Ecpu')+$[_0x1f73('60','xXgJ')]+'】'+($['nickName']||$['UserName'])+'\x0a领取成功，获得\x20'+data['lotteryResult'][_0x1f73('61','O[aa')][0x0]['quantity']+'\x20京豆'+(_0x6b60da['oPpdp']($[_0x1f73('62','S]gm')],cookiesArr[_0x1f73('63',')gA8')])?'\x0a\x0a':'\x0a\x0a');}else if(_0x6b60da[_0x1f73('64','cIzB')](data[_0x1f73('65',')TGe')],'8')){console[_0x1f73('66','p]@I')]('领取失败：本场已领过');message+=_0x1f73('67','xXgJ');}else{console[_0x1f73('68','!wDg')](_0x1f73('69','xXgJ')+JSON[_0x1f73('6a','h!^f')](data));}}}}if(allMessage&&isNotify()){if($[_0x1f73('6b','u18J')]())await notify[_0x1f73('6c','!wDg')](''+$[_0x1f73('6d','Ecpu')],''+allMessage);$[_0x1f73('6e','US#O')]($[_0x1f73('6f','@idz')],'',allMessage);}})()[_0x1f73('70','!wDg')](_0x377d32=>{$[_0x1f73('71','hwfy')]('','❌\x20'+$[_0x1f73('4e','fg!w')]+',\x20失败!\x20原因:\x20'+_0x377d32+'!','');})[_0x1f73('72','LzUN')](()=>{$[_0x1f73('73','3W!2')]();});function showMsg(){var _0x50240e={'UhTJQ':function(_0x37ef7c){return _0x37ef7c();}};return new Promise(_0x5ac2cc=>{$['msg']($[_0x1f73('74','9jmZ')],'','【京东账号'+$[_0x1f73('75',')TGe')]+'】'+$[_0x1f73('76','h!^f')]+'\x0a'+message);_0x50240e[_0x1f73('77','bDH5')](_0x5ac2cc);});}function getRedRain(){var _0x16e777={'LGNRH':function(_0x4048e2){return _0x4048e2();},'vHYaq':_0x1f73('78','OcuJ'),'Ccdet':function(_0x5efbed,_0x1ae0a0){return _0x5efbed!==_0x1ae0a0;},'YwaxE':_0x1f73('79','Zebt'),'MvCKO':_0x1f73('7a','8TH6'),'ooahm':function(_0xdfcc39,_0x364118){return _0xdfcc39!==_0x364118;},'oYWor':'JMhMS','JAHuE':_0x1f73('7b','iHnF'),'NaiUm':function(_0x48a62e,_0x56ab1a){return _0x48a62e+_0x56ab1a;},'wtwja':function(_0x404c4c,_0x5ec0ef){return _0x404c4c!==_0x5ec0ef;},'MGzAG':_0x1f73('7c','@idz'),'WFKGO':_0x1f73('7d','u18J'),'qviCr':function(_0x2b4a6a){return _0x2b4a6a();},'TUdph':function(_0x5d45d2,_0x42938e,_0x580093){return _0x5d45d2(_0x42938e,_0x580093);},'wfgGt':_0x1f73('7e','0G]T')};let _0x58e925;if(bodyList[_0x1f73('7f','5UKe')](new Date()[_0x1f73('80','fg!w')]())){if(_0x1f73('81','2kq7')===_0x16e777[_0x1f73('82','1dK1')]){_0x58e925=bodyList[new Date()[_0x1f73('83','Bl@q')]()];}else{var _0x354609={'fnECD':function(_0x3a3c36){return _0x16e777['LGNRH'](_0x3a3c36);}};return new Promise(_0xa15fc4=>{$[_0x1f73('84','^i(B')]($[_0x1f73('85','jI0c')],'',_0x1f73('86','E!jk')+$['index']+'】'+$[_0x1f73('87','lsff')]+'\x0a'+message);_0x354609[_0x1f73('88','cIzB')](_0xa15fc4);});}}else{return;}return new Promise(_0x4dc7a1=>{$['post'](_0x16e777[_0x1f73('89','bDH5')](taskGetUrl,_0x58e925[_0x1f73('8a','2kq7')],_0x58e925['body']),(_0x9cdb9e,_0x4807e2,_0x4a54c2)=>{var _0x458cb9={'Qoyxf':function(_0x4fb45c,_0x54c296){return _0x4fb45c==_0x54c296;},'KZGKz':_0x16e777[_0x1f73('8b','OcuJ')]};if(_0x16e777[_0x1f73('8c','iHnF')](_0x16e777[_0x1f73('8d','OR2U')],_0x16e777[_0x1f73('8e','S]gm')])){if(_0x458cb9[_0x1f73('8f','Bl@q')](typeof str,_0x1f73('90','#@4a'))){try{return JSON[_0x1f73('91','8TH6')](str);}catch(_0x594129){console['log'](_0x594129);$[_0x1f73('92','&tTe')]($['name'],'',_0x458cb9[_0x1f73('93','h!^f')]);return[];}}}else{try{if(_0x16e777[_0x1f73('94','0gVA')]===_0x16e777[_0x1f73('95','Bl@q')]){if(_0x9cdb9e){console[_0x1f73('96','@idz')](''+JSON[_0x1f73('97','^i(B')](_0x9cdb9e));console[_0x1f73('98','0G]T')]($[_0x1f73('99','oZ1]')]+_0x1f73('9a','u18J'));}else{if(_0x16e777['ooahm'](_0x16e777[_0x1f73('9b','LzUN')],_0x16e777[_0x1f73('9c','^i(B')])){if(safeGet(_0x4a54c2)){_0x4a54c2=JSON[_0x1f73('9d','NZq9')](_0x4a54c2);if(_0x4a54c2[_0x1f73('9e',')@5i')]&&_0x4a54c2[_0x1f73('9f','fz$7')][_0x1f73('a0','0gVA')]){console['log'](_0x4a54c2[_0x1f73('a1','9KWe')][_0x1f73('a2','oZ1]')][_0x1f73('a3','Ecpu')](_0x315357=>_0x315357['type']===_0x1f73('a4','cIzB'))[_0x1f73('a5','lsff')]&&_0x4a54c2[_0x1f73('a6','psf(')][_0x1f73('a7','xXgJ')][_0x1f73('a8','^i(B')](_0x42b773=>_0x42b773[_0x1f73('a9','S]gm')]==='anchor_darw_lottery')[0x0][_0x1f73('aa','fg!w')]['lotteryId']);let _0x407d5b=_0x4a54c2['data'][_0x1f73('ab','Phkm')][_0x1f73('a3','Ecpu')](_0x3bd9b8=>_0x3bd9b8[_0x1f73('ac','psf(')]===_0x1f73('ad','9KWe'))[0x0];if(_0x407d5b){let _0x4449c5=_0x407d5b[_0x1f73('ae','9jmZ')]['activityUrl'];$[_0x1f73('af','Zebt')]=_0x4449c5['substr'](_0x16e777['NaiUm'](_0x4449c5['indexOf'](_0x1f73('b0','oZ1]')),0x3));$['st']=_0x407d5b['startTime'];$['ed']=_0x407d5b['endTime'];console['log']($[_0x1f73('b1','5UKe')]);console['log'](_0x1f73('b2','7DUv')+new Date($['st']));console[_0x1f73('35','E!jk')](_0x1f73('b3','#@4a')+new Date($['ed']));}else{if(_0x16e777['wtwja'](_0x16e777['MGzAG'],_0x16e777['WFKGO'])){console['log'](_0x1f73('b4','8AGO'));}else{_0x4dc7a1();}}}else{console[_0x1f73('b5','h!^f')](_0x1f73('b6','LzUN'));}}}else{$[_0x1f73('b7','cIzB')]();}}}else{$['log']('','❌\x20'+$['name']+_0x1f73('b8','vSyw')+e+'!','');}}catch(_0xd8a16f){$[_0x1f73('b9','cIzB')](_0xd8a16f,_0x4807e2);}finally{_0x16e777[_0x1f73('ba','4FXy')](_0x4dc7a1);}}});});}function receiveRedRain(){var _0x5681d5={'iXXCG':function(_0xf72c72,_0x24df36){return _0xf72c72===_0x24df36;},'xxUtP':_0x1f73('bb','lsff'),'yPRwK':_0x1f73('bc','p]@I'),'BcKpP':function(_0x1e4d02,_0x18b23c){return _0x1e4d02!==_0x18b23c;},'oTIcs':_0x1f73('bd','iHnF'),'CDKxv':function(_0x13f0ab,_0x1ba48b){return _0x13f0ab!==_0x1ba48b;},'zxMXK':'UdELY','bqszu':'JpFiH','Zdzqa':function(_0x1aa254,_0x167874){return _0x1aa254===_0x167874;},'DsEBj':'vhxBz','xAPLr':_0x1f73('be','9jmZ'),'SAnjU':function(_0x54d1b4,_0x904c19){return _0x54d1b4===_0x904c19;},'gbwka':'jiSCu','ylzbr':'sqIOs','SGdQq':function(_0x1f7183){return _0x1f7183();},'niERe':function(_0x38ee87,_0x3c6670,_0x5832de){return _0x38ee87(_0x3c6670,_0x5832de);},'Dfudi':_0x1f73('bf','p]@I')};return new Promise(_0x45305c=>{var _0x25e596={'QylXx':function(_0x33b408,_0x333902){return _0x33b408(_0x333902);}};const _0x43bbcd={'actId':$['activityId']};$[_0x1f73('c0','^i(B')](_0x5681d5['niERe'](taskUrl,_0x5681d5[_0x1f73('c1','S]gm')],_0x43bbcd),(_0x5d25b0,_0x34c54d,_0xdcf330)=>{if(_0x5681d5[_0x1f73('c2','xXgJ')](_0x5681d5[_0x1f73('c3','jI0c')],_0x5681d5[_0x1f73('c4','#@4a')])){id='';}else{try{if(_0x5681d5[_0x1f73('c5','psf(')](_0x5681d5[_0x1f73('c6','OcuJ')],_0x5681d5['oTIcs'])){$['activityId']=ids[hour];$[_0x1f73('8','fz$7')]('\x0aRRA:\x20'+codeItem);}else{if(_0x5d25b0){if(_0x5681d5[_0x1f73('c7','Phkm')](_0x5681d5[_0x1f73('c8','5UKe')],_0x1f73('c9','p]@I'))){console[_0x1f73('ca',')@5i')](''+JSON[_0x1f73('6a','h!^f')](_0x5d25b0));console[_0x1f73('66','p]@I')]($['name']+'\x20API请求失败，请检查网路重试');}else{_0x25e596[_0x1f73('cb','bDH5')](_0x45305c,id);}}else{if(_0x5681d5[_0x1f73('cc','9jmZ')](_0x5681d5['bqszu'],_0x5681d5[_0x1f73('cd','fz$7')])){console[_0x1f73('ce','fg!w')](_0x1f73('cf','0gVA'));}else{if(safeGet(_0xdcf330)){_0xdcf330=JSON[_0x1f73('d0','oZ1]')](_0xdcf330);if(_0xdcf330['subCode']==='0'){console[_0x1f73('d1','&tTe')](_0x1f73('d2','0G]T')+JSON[_0x1f73('d3','OcuJ')](_0xdcf330[_0x1f73('d4','9jmZ')]));message+=_0x1f73('d5','^i(B')+_0xdcf330[_0x1f73('d6','LzUN')][_0x1f73('d7','3Sn6')][0x0]['quantity']+'\x20京豆';allMessage+='【京东账号'+$[_0x1f73('d8','vSyw')]+'】'+($[_0x1f73('d9','cIzB')]||$[_0x1f73('da','fg!w')])+_0x1f73('db','xXgJ')+_0xdcf330[_0x1f73('dc','hwfy')][_0x1f73('dd','!wDg')][0x0][_0x1f73('de','5UKe')]+_0x1f73('df','jI0c')+($['index']!==cookiesArr[_0x1f73('e0','iHnF')]?'\x0a\x0a':'\x0a\x0a');}else if(_0x5681d5[_0x1f73('e1','3W!2')](_0xdcf330[_0x1f73('e2','7DUv')],'8')){if(_0x5681d5['DsEBj']!==_0x5681d5[_0x1f73('e3','2kq7')]){if(!!_0xdcf330){id=_0xdcf330[_0x1f73('e4','tG72')](/[\r\n]/g,'');}else{id='';}}else{console[_0x1f73('e5','Phkm')]('领取失败：本场已领过');message+=_0x1f73('e6','u18J');}}else{if(_0x5681d5[_0x1f73('e7','fg!w')]!==_0x1f73('e8','!wDg')){ids[_0x25e596[_0x1f73('e9','4FXy')](String,i)]=codeItem;}else{console['log'](_0x1f73('ea','LzUN')+JSON[_0x1f73('eb','fz$7')](_0xdcf330));}}}}}}}catch(_0x1f4755){if(_0x5681d5[_0x1f73('ec','3Sn6')](_0x5681d5[_0x1f73('ed','Phkm')],_0x5681d5['ylzbr'])){console[_0x1f73('ee','cIzB')](_0xdcf330['data'][_0x1f73('ef','8AGO')][_0x1f73('f0','NZq9')](_0x5aca2d=>_0x5aca2d[_0x1f73('f1','0gVA')]===_0x1f73('f2','3Sn6'))[_0x1f73('f3','Bl@q')]&&_0xdcf330[_0x1f73('f4','OR2U')][_0x1f73('f5','9jmZ')][_0x1f73('f6','#@4a')](_0x3ae19d=>_0x3ae19d[_0x1f73('f7','^i(B')]===_0x1f73('f8','xXgJ'))[0x0][_0x1f73('f9','!wDg')]['lotteryId']);let _0x545d69=_0xdcf330[_0x1f73('fa','h!^f')][_0x1f73('fb','&tTe')][_0x1f73('fc','E!jk')](_0x2fdb47=>_0x2fdb47[_0x1f73('fd','LzUN')]===_0x1f73('ad','9KWe'))[0x0];if(_0x545d69){let _0x28ab25=_0x545d69[_0x1f73('fe','tG72')][_0x1f73('ff','iHnF')];$[_0x1f73('100','iHnF')]=_0x28ab25[_0x1f73('101','tG72')](_0x28ab25[_0x1f73('102','S]gm')](_0x1f73('103',')TGe'))+0x3);$['st']=_0x545d69[_0x1f73('104','0gVA')];$['ed']=_0x545d69[_0x1f73('105','0G]T')];console[_0x1f73('106','3W!2')]($[_0x1f73('107','bDH5')]);console[_0x1f73('108','LzUN')]('下一场红包雨开始时间：'+new Date($['st']));console[_0x1f73('e5','Phkm')](_0x1f73('109','Zebt')+new Date($['ed']));}else{console[_0x1f73('10a','2kq7')]('暂无红包雨');}}else{$['logErr'](_0x1f4755,_0x34c54d);}}finally{_0x5681d5[_0x1f73('10b','US#O')](_0x45305c);}}});});}function redRainId(_0x3544b4){var _0x2e6645={'FdXsh':_0x1f73('10c','lsff'),'LlIzv':_0x1f73('10d','u18J'),'jxMUL':_0x1f73('10e','4FXy'),'efgjR':'error','udXyx':'wEUQE','gicFS':function(_0x8988d,_0x5ddd5a){return _0x8988d!==_0x5ddd5a;},'SOmpp':function(_0x1e707c,_0x4e4f7e){return _0x1e707c===_0x4e4f7e;},'qgFAU':_0x1f73('10f','fg!w'),'BOaft':function(_0x297663,_0x594bf6){return _0x297663!==_0x594bf6;},'PZRgF':'rnRAd'};return new Promise(_0x2a5577=>{var _0x51690a={'pYJQS':function(_0x4d0b94,_0x2d00f2){return _0x4d0b94===_0x2d00f2;},'cGgOg':_0x1f73('110','psf('),'QyzZY':function(_0x1d895a,_0x4125bc){return _0x1d895a!==_0x4125bc;},'dOzwc':_0x2e6645['LlIzv'],'KEfUl':_0x2e6645['jxMUL'],'GWLqD':_0x2e6645[_0x1f73('111','0gVA')],'DuLKG':_0x2e6645[_0x1f73('112','3W!2')],'aPaKi':function(_0x255da6,_0xcf5468){return _0x2e6645[_0x1f73('113','psf(')](_0x255da6,_0xcf5468);},'eLrVn':_0x1f73('114','psf('),'XGySw':function(_0x253956,_0xf69a03){return _0x2e6645[_0x1f73('115','Ecpu')](_0x253956,_0xf69a03);},'LUWwo':_0x2e6645[_0x1f73('116','0G]T')]};if(_0x2e6645[_0x1f73('117','OR2U')]('rnRAd',_0x2e6645[_0x1f73('118','O[aa')])){try{return JSON[_0x1f73('119','E!jk')](str);}catch(_0x2b12c6){console[_0x1f73('11a','tG72')](_0x2b12c6);$['msg']($[_0x1f73('11b','tG72')],'',_0x2e6645[_0x1f73('11c','0gVA')]);return[];}}else{const _0xe54743={'url':_0x3544b4+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':_0x1f73('11d','psf(')}};let _0x4c6ee0='';$[_0x1f73('11e','iHnF')](_0xe54743,async(_0x584d4a,_0x4f07fa,_0x158596)=>{if(_0x51690a[_0x1f73('11f','O[aa')](_0x51690a['cGgOg'],_0x51690a[_0x1f73('120','9KWe')])){try{if(_0x51690a[_0x1f73('121','Bl@q')](_0x51690a['dOzwc'],_0x1f73('122','8AGO'))){$['log'](_0x1f73('123','5UKe'));return;}else{if(_0x584d4a){if(_0x51690a[_0x1f73('124','LzUN')]===_0x51690a[_0x1f73('125','0gVA')]){console[_0x1f73('26','Zebt')](''+JSON['stringify'](_0x584d4a));_0x4c6ee0=_0x51690a[_0x1f73('126','&tTe')];}else{_0x3544b4=process[_0x1f73('127','1dK1')][_0x1f73('128','LzUN')];}}else{if(!!_0x158596){if(_0x1f73('129','p]@I')===_0x51690a[_0x1f73('12a','^i(B')]){_0x4c6ee0=_0x158596[_0x1f73('12b','Phkm')](/[\r\n]/g,'');}else{$[_0x1f73('12c','Ecpu')]=![];return;}}else{if(_0x51690a['aPaKi'](_0x51690a[_0x1f73('12d','1dK1')],_0x1f73('12e','Ecpu'))){_0x4c6ee0='';}else{console['log'](''+JSON[_0x1f73('12f','oZ1]')](_0x584d4a));console['log']($['name']+_0x1f73('130','Ecpu'));}}}}}catch(_0x4a498f){if(_0x51690a[_0x1f73('131','3W!2')](_0x51690a['LUWwo'],_0x1f73('132','&tTe'))){$[_0x1f73('133','iHnF')](_0x4a498f,_0x4f07fa);}else{console[_0x1f73('8','fz$7')]('领取失败：本场已领过');message+=_0x1f73('134','hwfy');}}finally{_0x2a5577(_0x4c6ee0);}}else{$['logErr'](e,_0x4f07fa);}});}});}async function retryCdn(_0x21f022,_0x477093){var _0x53ff1b={'NmJJu':_0x1f73('135','3Sn6'),'wLjQs':_0x1f73('136','5UKe'),'jKzOz':_0x1f73('137','S]gm'),'jAZbC':function(_0x54e190,_0x259b28){return _0x54e190-_0x259b28;},'PpzpP':function(_0x322204,_0x4ef426){return _0x322204(_0x4ef426);}};if(_0x21f022===_0x53ff1b['wLjQs']){if(_0x53ff1b[_0x1f73('138','cIzB')]===_0x53ff1b[_0x1f73('139','8AGO')]){let _0x2f9c78=_0x477093['split']('/');let _0x333a07=_0x2f9c78[_0x53ff1b[_0x1f73('13a','bDH5')](_0x2f9c78[_0x1f73('13b','&tTe')],0x1)];let _0x1a2d87=_0x1f73('13c','O[aa')+_0x333a07;$[_0x1f73('10a','2kq7')](_0x1f73('13d','8AGO'));_0x21f022=await _0x53ff1b['PpzpP'](redRainId,_0x1a2d87);}else{console[_0x1f73('106','3W!2')](e);$[_0x1f73('13e','2kq7')]($['name'],'',_0x53ff1b[_0x1f73('13f','jI0c')]);return[];}}return _0x21f022===_0x53ff1b[_0x1f73('140','O[aa')]?'':_0x21f022;}function rraUrl(){var _0x4fc10c={'RSnio':_0x1f73('141','u18J'),'VexwQ':_0x1f73('142','#@4a')};let _0x4af3b7=_0x4fc10c[_0x1f73('143','^i(B')];if($[_0x1f73('144','&tTe')]()&&process[_0x1f73('145','O[aa')][_0x1f73('146','!wDg')]){_0x4af3b7=process[_0x1f73('147','fz$7')][_0x1f73('148','cIzB')];}else if($[_0x1f73('149','OcuJ')](_0x4fc10c[_0x1f73('14a','!wDg')])){_0x4af3b7=$[_0x1f73('14b','fg!w')](_0x4fc10c[_0x1f73('14c','tG72')]);}return _0x4af3b7;}function isNotify(){var _0x476de1={'eIfGW':_0x1f73('14d',')gA8'),'TloUx':function(_0x1bce34,_0x348aea){return _0x1bce34>_0x348aea;},'MSKVL':_0x1f73('14e','OR2U'),'VZuRq':function(_0x31bb14,_0x1c68a3){return _0x31bb14===_0x1c68a3;},'jWMml':_0x1f73('14f','1dK1'),'wGjLx':function(_0x243e2c,_0x27b985){return _0x243e2c!=_0x27b985;},'oxUVh':'rainNotifyControl','IpTjU':function(_0x3bbd3b,_0x4ce7f6){return _0x3bbd3b!=_0x4ce7f6;}};if($['isNode']()&&process[_0x1f73('150','hwfy')][_0x1f73('151','vSyw')]){if(_0x476de1[_0x1f73('152','Bl@q')]('UjleS',_0x476de1[_0x1f73('153','7DUv')])){Object['keys'](jdCookieNode)['forEach'](_0x16787c=>{cookiesArr[_0x1f73('154','O[aa')](jdCookieNode[_0x16787c]);});if(process[_0x1f73('145','O[aa')]['JD_DEBUG']&&process[_0x1f73('155','psf(')][_0x1f73('156','fz$7')]===_0x476de1[_0x1f73('157','Zebt')])console['log']=()=>{};if(_0x476de1[_0x1f73('158','h!^f')](JSON['stringify'](process[_0x1f73('159','xXgJ')])[_0x1f73('15a',')TGe')](_0x476de1['MSKVL']),-0x1))process[_0x1f73('15b','5UKe')](0x0);}else{return _0x476de1[_0x1f73('15c','bDH5')](process[_0x1f73('15d','5UKe')][_0x1f73('15e','oZ1]')],'false');}}else if($[_0x1f73('15f','US#O')](_0x476de1['oxUVh'])){return _0x476de1[_0x1f73('160','E!jk')]($['getdata'](_0x476de1[_0x1f73('161','fz$7')]),_0x476de1['eIfGW']);}return!![];}function taskGetUrl(_0x326a76,_0x3bcde9){var _0x20249b={'vdoYu':_0x1f73('162','O[aa'),'EaMzp':_0x1f73('163','h!^f'),'qbdly':_0x1f73('164','7DUv'),'TSdVZ':_0x1f73('165','Bl@q'),'bWhFr':_0x1f73('166','Zebt')};return{'url':_0x326a76,'body':_0x3bcde9,'headers':{'Accept':_0x20249b[_0x1f73('167','4FXy')],'Accept-Encoding':_0x20249b[_0x1f73('168','fz$7')],'Accept-Language':_0x20249b['qbdly'],'Connection':_0x20249b[_0x1f73('169','zBj#')],'Content-Type':_0x1f73('16a','#@4a'),'Host':_0x1f73('16b','#@4a'),'Referer':_0x1f73('16c',')TGe')+$[_0x1f73('16d','!wDg')]+_0x1f73('16e',')@5i'),'Cookie':cookie,'User-Agent':_0x20249b[_0x1f73('16f','@idz')]}};}function taskPostUrl(_0x1235bf,_0x3fc97d=_0x3fc97d){var _0x33f6c5={'mbDGF':_0x1f73('170','h!^f'),'pKcgN':_0x1f73('171','u18J')};return{'url':'https://api.m.jd.com/client.action?functionId='+_0x1235bf,'body':_0x3fc97d,'headers':{'Host':_0x33f6c5['mbDGF'],'content-type':'application/x-www-form-urlencoded','accept':_0x33f6c5[_0x1f73('172','Ecpu')],'user-agent':'JD4iPhone/167408\x20(iPhone;\x20iOS\x2014.2;\x20Scale/3.00)','accept-language':'zh-Hans-JP;q=1,\x20en-JP;q=0.9,\x20zh-Hant-TW;q=0.8,\x20ja-JP;q=0.7,\x20en-US;q=0.6'}};}function taskUrl(_0x58dd66,_0x4ea6f7={}){var _0xe8b09d={'oHqxF':function(_0x42e3f9,_0xf8cec6){return _0x42e3f9(_0xf8cec6);},'FtbsV':function(_0x321f4c,_0x1dc6ab){return _0x321f4c+_0x1dc6ab;},'fJAlE':function(_0x4f405c,_0x217600){return _0x4f405c*_0x217600;},'FCNPp':function(_0xb82e1c,_0x5cb585){return _0xb82e1c*_0x5cb585;},'HpBPX':_0x1f73('173','1dK1'),'uDRxM':'zh-cn','KAKXz':_0x1f73('174','1dK1'),'alUFS':_0x1f73('175','NZq9'),'nQlps':'api.m.jd.com','sjISk':'JD4iPhone/9.3.5\x20CFNetwork/1209\x20Darwin/20.2.0'};return{'url':JD_API_HOST+_0x1f73('176',')TGe')+_0x58dd66+_0x1f73('177','8TH6')+_0xe8b09d['oHqxF'](escape,JSON[_0x1f73('178','1dK1')](_0x4ea6f7))+_0x1f73('179','OcuJ')+_0xe8b09d['FtbsV'](new Date()['getTime']()+_0xe8b09d['fJAlE'](_0xe8b09d['fJAlE'](new Date()['getTimezoneOffset'](),0x3c),0x3e8),_0xe8b09d[_0x1f73('17a','lsff')](0x8,0x3c)*0x3c*0x3e8),'headers':{'Accept':_0x1f73('17b','hwfy'),'Accept-Encoding':_0xe8b09d[_0x1f73('17c','3W!2')],'Accept-Language':_0xe8b09d['uDRxM'],'Connection':_0xe8b09d[_0x1f73('17d','S]gm')],'Content-Type':_0xe8b09d[_0x1f73('17e','4FXy')],'Host':_0xe8b09d[_0x1f73('17f','!wDg')],'Referer':_0x1f73('180','@idz')+$[_0x1f73('4c','xXgJ')]+_0x1f73('181','&tTe'),'Cookie':cookie,'User-Agent':_0xe8b09d[_0x1f73('182','&tTe')]}};}function TotalBean(){var _0x115b96={'MRHAI':_0x1f73('183','^i(B'),'hqLmH':function(_0x225709,_0x39036c){return _0x225709===_0x39036c;},'etyih':'TKbIv','OcZTi':function(_0x4ac295,_0x22e741){return _0x4ac295===_0x22e741;},'XPoPa':'retcode','cQuDZ':_0x1f73('184','0gVA'),'evGYh':_0x1f73('185','9jmZ'),'uxkKR':function(_0x43b204,_0x1d2250){return _0x43b204!==_0x1d2250;},'YmAka':_0x1f73('186','7DUv'),'dxUjv':'hrECR','JBpqs':function(_0x26ec4f){return _0x26ec4f();},'NHrYB':function(_0x2b35c9,_0x3f9b03){return _0x2b35c9!==_0x3f9b03;},'oJlal':_0x1f73('187','US#O'),'XaoFS':_0x1f73('188','1dK1'),'MOzrw':_0x1f73('189','bDH5'),'JxuYO':_0x1f73('164','7DUv'),'kKiCC':'keep-alive','ISDww':'https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2','UHfuD':_0x1f73('18a','^i(B'),'TnHlG':_0x1f73('18b','p]@I')};return new Promise(async _0x46feb5=>{if(_0x115b96[_0x1f73('18c','&tTe')](_0x115b96[_0x1f73('18d','xXgJ')],_0x115b96[_0x1f73('18e','8TH6')])){$['msg']($[_0x1f73('11b','tG72')],_0x1f73('18f','#@4a'),_0x115b96[_0x1f73('190','9jmZ')],{'open-url':_0x115b96[_0x1f73('191',')@5i')]});return;}else{const _0xcd3741={'url':'https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2','headers':{'Accept':_0x115b96[_0x1f73('192','oZ1]')],'Content-Type':_0x115b96[_0x1f73('193','9KWe')],'Accept-Encoding':_0x1f73('194','vSyw'),'Accept-Language':_0x115b96['JxuYO'],'Connection':_0x115b96['kKiCC'],'Cookie':cookie,'Referer':_0x115b96['ISDww'],'User-Agent':$['isNode']()?process[_0x1f73('195','0G]T')][_0x1f73('196','1dK1')]?process['env'][_0x1f73('197','4FXy')]:_0x115b96[_0x1f73('198','4FXy')]:$[_0x1f73('199','0gVA')](_0x115b96[_0x1f73('19a','zBj#')])?$[_0x1f73('19b','h!^f')](_0x115b96['TnHlG']):_0x115b96[_0x1f73('19c','@idz')]}};$[_0x1f73('19d','Zebt')](_0xcd3741,(_0xfa8ca9,_0x5a7880,_0x4c1768)=>{var _0x38197c={'morPb':_0x1f73('19e','p]@I')};try{if(_0xfa8ca9){console[_0x1f73('10a','2kq7')](''+JSON[_0x1f73('19f','3Sn6')](_0xfa8ca9));console[_0x1f73('1a0','Bl@q')]($[_0x1f73('1a1','O[aa')]+'\x20API请求失败，请检查网路重试');}else{if(_0x4c1768){if(_0x115b96[_0x1f73('1a2','oZ1]')](_0x1f73('1a3','p]@I'),_0x115b96[_0x1f73('1a4','zBj#')])){cookiesArr['push'](jdCookieNode[item]);}else{_0x4c1768=JSON[_0x1f73('1a5','cIzB')](_0x4c1768);if(_0x115b96['OcZTi'](_0x4c1768[_0x1f73('1a6','3W!2')],0xd)){$[_0x1f73('1a7','zBj#')]=![];return;}if(_0x115b96[_0x1f73('1a8','OR2U')](_0x4c1768[_0x115b96['XPoPa']],0x0)){if(_0x1f73('1a9','Ecpu')!==_0x115b96[_0x1f73('1aa','S]gm')]){$[_0x1f73('41','fg!w')]=_0x4c1768[_0x115b96['evGYh']]&&_0x4c1768['base'][_0x1f73('1ab',')TGe')]||$[_0x1f73('1ac','jI0c')];}else{$['nickName']=_0x4c1768[_0x1f73('1ad','Bl@q')]&&_0x4c1768[_0x38197c[_0x1f73('1ae','fz$7')]]['nickname']||$['UserName'];}}else{if(_0x115b96[_0x1f73('1af','5UKe')](_0x115b96['YmAka'],_0x115b96[_0x1f73('1b0','u18J')])){$[_0x1f73('1b1','8TH6')]=$[_0x1f73('1b2','2kq7')];}else{console[_0x1f73('1b3','zBj#')](''+JSON[_0x1f73('1b4',')@5i')](_0xfa8ca9));console[_0x1f73('1b5','^i(B')]($[_0x1f73('1b6','7DUv')]+_0x1f73('1b7','7DUv'));}}}}else{console[_0x1f73('106','3W!2')](_0x1f73('1b8','@idz'));}}}catch(_0x1cb5e4){$[_0x1f73('b9','cIzB')](_0x1cb5e4,_0x5a7880);}finally{_0x115b96[_0x1f73('1b9','bDH5')](_0x46feb5);}});}});}function safeGet(_0x2fa2ea){var _0x220615={'EZodw':function(_0x51845e,_0x361158){return _0x51845e==_0x361158;},'CmQQR':_0x1f73('1ba','&tTe'),'nTpai':function(_0xc4fc33,_0x268aec){return _0xc4fc33!==_0x268aec;},'culOF':_0x1f73('1bb','oZ1]')};try{if(_0x220615['EZodw'](typeof JSON[_0x1f73('1bc','2kq7')](_0x2fa2ea),_0x1f73('1bd','OR2U'))){return!![];}}catch(_0x3ab3d3){if(_0x220615['nTpai'](_0x220615[_0x1f73('1be','1dK1')],_0x1f73('1bf','5UKe'))){try{if(_0x220615['EZodw'](typeof JSON[_0x1f73('1c0','7DUv')](_0x2fa2ea),_0x220615['CmQQR'])){return!![];}}catch(_0x33b4b6){console[_0x1f73('1c1',')TGe')](_0x33b4b6);console['log']('京东服务器访问数据为空，请检查自身设备网络情况');return![];}}else{console[_0x1f73('1c2','8TH6')](_0x3ab3d3);console['log'](_0x1f73('1c3','NZq9'));return![];}}}function jsonParse(_0xd80612){var _0x10ddf0={'ZjQrX':function(_0x5975d3,_0x475204){return _0x5975d3==_0x475204;},'cXbQM':'不要在BoxJS手动复制粘贴修改cookie'};if(_0x10ddf0[_0x1f73('1c4',')gA8')](typeof _0xd80612,_0x1f73('1c5','oZ1]'))){try{return JSON[_0x1f73('1c6','0G]T')](_0xd80612);}catch(_0x463206){console[_0x1f73('10a','2kq7')](_0x463206);$[_0x1f73('1c7','u18J')]($['name'],'',_0x10ddf0[_0x1f73('1c8','oZ1]')]);return[];}}};_0xodG='jsjiami.com.v6';

// prettier-ignore
 function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
